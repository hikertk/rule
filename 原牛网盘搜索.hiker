{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"页面","path":"csdown","rule":"const csdown = {\n    d: [],\n    author: '流苏',\n    version: 20260103,\n    host: 'https://mihoyonb.com/api/search',\n    home() {\n        let d = this.d;\n        if (MY_PAGE == 1) {\n            d.push({   \n                title: \"搜索 \",\n                url: $.toString(() => {\n                    putMyVar('keyword', input)\n                    refreshPage(false)\n                    return \"hiker://empty\"\n                }),\n                   desc: \"请输入搜索关键词\",\n                   col_type: \"input\",\n                extra: {\n                    defaultValue: getMyVar('keyword', ''),\n                    onChange: $.toString(() => {\n                        putMyVar('keyword', input)\n                    }),\n                    pageTitle: '搜索'\n                }\n            })\n            let keyword = getMyVar('keyword', '');\n            if (keyword) {\n                if (!storage0.getMyVar(keyword)) {\n                    let list = JSON.parse(fetch(this.host, {\n                        headers: {},\n                        body: JSON.stringify({\n                            \"kw\": getMyVar('keyword', ''),\n                            \"res\": \"merge\"\n                        }),\n                        method: 'POST',\n                    })).data.merged_by_type;\n                    storage0.putMyVar(keyword, list);\n                };\n                let arr = [{\n                    \"id\": \"quark\",\n                    \"name\": \"夸克\",\n                    \"img\": \"https://pp.myapp.com/ma_icon/0/icon_42375936_1766711021/256\"\n                }, {\n                    \"id\": \"baidu\",\n                    \"name\": \"百度\",\n                    \"img\": \"https://pp.myapp.com/ma_icon/0/icon_116071_1766633725/256\"\n                }, {\n                    \"id\": \"magnet\",\n                    \"name\": \"磁力\",\n                    \"img\": \"https://pp.myapp.com/ma_icon/0/icon_53952947_1677658847/256\"\n                }, {\n                    \"id\": \"mobile\",\n                    \"name\": \"移动\",\n                    \"img\": \"https://pp.myapp.com/ma_icon/0/icon_242055_1765935406/256\"\n                }, {\n                    \"id\": \"uc\",\n                    \"name\": \"UC\",\n                    \"img\": \"https://pp.myapp.com/ma_icon/0/icon_10936_1766990795/256\"\n                }, {\n                    \"id\": \"xunlei\",\n                    \"name\": \"迅雷\",\n                    \"img\": \"https://pp.myapp.com/ma_icon/0/icon_113692_1766656985/256\"\n                }, {\n                    \"id\": \"others\",\n                    \"name\": \"其他\",\n                    \"img\": \"https://pp.myapp.com/ma_icon/0/icon_251416_1627666026/256\"\n                }, {\n                    \"id\": \"aliyun\",\n                    \"name\": \"阿里\",\n                    \"img\": \"https://pp.myapp.com/ma_icon/0/icon_54120208_1764918750/256\"\n                }, {\n                    \"id\": \"tianyi\",\n                    \"name\": \"天翼\",\n                    \"img\": \"https://pp.myapp.com/ma_icon/0/icon_99115_1764558627/256\"\n                }, {\n                    \"id\": \"123\",\n                    \"name\": \"123\",\n                    \"img\": \"https://pp.myapp.com/ma_icon/0/icon_54190090_1767233011/256\"\n                }, {\n                    \"id\": \"115\",\n                    \"name\": \"115\",\n                    \"img\": \"https://pp.myapp.com/ma_icon/0/icon_2647_1766972102/256\"\n                }, {\n                    \"id\": \"pikpak\",\n                    \"name\": \"Pikpak\",\n                    \"img\": \"https://mypikpak.com/favicon-32x32.png\"\n                }];\n                let list = storage0.getMyVar(keyword);\n                let key_arr = Object.keys(list);\n                let key_index = key_arr[0];\n                let key_ = getMyVar('cate', key_index);\n                arr.forEach(data => {\n                    if (key_arr.includes(data.id)) {\n                        d.push({\n                            title: (key_ == data.id ? this.strong(data.name + this.toSuperscript(list[data.id].length), 'FF6699') : data.name + this.toSuperscript(list[data.id].length)),\n                            url: $('#noLoading#').lazyRule((n, name, nowid, newid) => {\n                                if (newid != nowid) {\n                                    putMyVar(n, newid);\n                                    refreshPage(false);\n                                }\n                                return 'hiker://empty';\n                            }, 'cate', data.name, key_, data.id),\n                            col_type: 'scroll_button',\n                            extra: {\n                                backgroundColor: key_ == data.id ? \"#20FA7298\" : \"\",\n                            }\n                        })\n                    }\n                })\n                list = list[key_] ? list[key_] : [];\n                let img = arr.find(data => data.id == key_).img;\n                list.forEach(data => {\n                    d.push({\n                        title: '““””' + data.note,\n                        desc: data.datetime,\n                        img: img,\n                        url: $('#noLoading#').lazyRule((url) => {\n                            return $.require('csdown?rule=原牛网盘搜索').jx(url);\n                        }, data.url),\n                        col_type: 'icon_1_left_pic',\n                        extra: {\n                            longClick: [{\n                                title: '复制链接',\n                                js: $.toString((url) => {\n                                    return 'copy://' + url;\n                                }, data.url)\n                            },{\n            title: \"保存到收藏\",\n            js: $.toString((url) => {\n                return $(getMyVar('keyword', '')).input((url) => {\n                    var name = input\n                    var yp = JSON.parse(fetch(\"hiker://files/data/云盘收藏.json\")||{});\n\n                   \n                        yp[name] = url\n                    \n                    writeFile(\"hiker://files/data/云盘收藏.json\", JSON.stringify(yp))\n                    refreshPage()\n                    return \"toast://已保存\"\n\n                }, url)\n\n\n            }, data.url)\n        },{\n            title: \"挂载到电脑\",\n            js: $.toString((url) => {\n\n\n                return $(\"国产动漫/\" + getMyVar('keyword', ''), \"请修改名字\").input((url) => {\n\n                    return $(\"\", \"输入目录ID\").input((title,url) => {\n                        var body = JSON.stringify({\n                            \"id\": \"\",\n                            \"path\": title,\n                            \"shareId\": url.replace(\"https://pan.quark.cn/s/\", \"\"),\n                            \"folderId\": input,\n                            \"password\": \"\",\n                            \"cookie\": \"\",\n                            \"type\": 5\n                        })\n\n                        var html = fetch(\"http://192.168.1.10:4567/api/shares/\", {\n                            headers: {\n                                \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0\",\n                                \"X-ACCESS-TOKEN\": \"eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiJlYmZhYmNmZi1iNTkwLTQzNTEtYjE5MS0xMWM1MTNiNmRiNDMiLCJpc3MiOiJIYXIwMWQiLCJzdWIiOiJBTGlzdCIsImF1ZCI6IlR2Qm94IiwidXNlcm5hbWUiOiIxIiwiYXV0aG9yaXR5IjoiQURNSU4iLCJyZW1lbWJlck1lIjp0cnVlLCJpYXQiOjE3Njg0OTMwMzgsImV4cCI6MTc3MTA4NTAzOH0.zibE13bOhhdtVwsIx9O0lqq9dog1orYqdGz1XRQY3Mk\"\n                            },\n                            body: body,\n                            method: \"POST\"\n                        })\n                        return \"toast://\" + html.toString()\n                    }, input, url)\n                }, url)\n\n            },data.url)}],\n                            inheritTitle: false,\n                            lineVisible: false,\n                        }\n                    })\n                })\n            }\n        }\n        setResult(d)\n    },\n    jx(input) {\n        if (/\\.aliyundrive\\.com|alipan\\.com/.test(input)) {\n            return \"hiker://page/aliyun?rule=云盘君.简&page=fypage&realurl=\" + encodeURIComponent(input);\n        } else if (/(xunlei|magnet:|ed2k:|bt:|ftp:|\\.torrent|thunder:)/.test(input)) {\n            if (input.includes('thunder')) {\n                input = base64Decode(input.split('//')[1]);\n            }\n            return \"hiker://page/diaoyong?rule=迅雷&page=fypage#\" + input\n        } else if (/cloud\\.189\\.cn|content\\.21cn\\.com/.test(input)) {\n            return \"hiker://page/diaoyong?rule=天翼网盘&realurl=\" + encodeURIComponent(input)\n        } else if (/pan\\.baidu/.test(input)) {\n            return \"hiker://page/fxlj?rule=百度云盘&realurl=\" + encodeURIComponent(input);\n        } else if (/pan\\.quark\\.cn|drive\\.uc\\.cn/.test(input)) {\n            return \"hiker://page/quarkList?rule=Quark.简&page=fypage&realurl=\" + encodeURIComponent(input);\n        } else if (/lanzou/.test(input)) {\n            return \"hiker://page/diaoyong?rule=蓝奏云盘&page=fypage&realurl=\" + encodeURIComponent(input);\n        } else if (/123.*?(com|cn)/.test(input)) {\n            return \"hiker://page/diaoyong?rule=123云盘&page=fypage&realurl=\" + encodeURIComponent(input);\n        } else if (/yun\\.139\\.com/.test(input)) {\n            return \"hiker://page/diaoyong?rule=移动云盘&page=fypage&realurl=\" + encodeURIComponent(input);\n        } else {\n            //toast('未检测到云盘链接，请检查！');\n            return input;\n        }\n    },\n    color: function(txt) {\n        return '<b><font color=' + '#FF6699' + '>' + txt + '</font></b>'\n    },\n    strong: function(d, c) {\n        return '‘‘’’<strong><font color=#' + (c || '000000') + '>' + d + '</font></strong>';\n    },\n    toSuperscript(mumber) {\n        const superscriptMap = {\n            '0': '⁰',\n            '1': '¹',\n            '2': '²',\n            '3': '³',\n            '4': '⁴',\n            '5': '⁵',\n            '6': '⁶',\n            '7': '⁷',\n            '8': '⁸',\n            '9': '⁹',\n        }\n        // 将数字转换为字符串，并替换每个字符\n        return mumber.toString().split('').map(char => superscriptMap[char] || char).join('');\n    },\n}\n$.exports = csdown"},{"col_type":"movie_3","name":"搜索","path":"search","rule":"js: \nvar keyword = MY_PARAMS.keyword||getParam(\"keyword\", \"\");\nputMyVar(\"keyword\", keyword)\n$.require('csdown').home()"}],"title":"原牛网盘搜索","author":"流苏","version":20260103,"type":"video","url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:$.require('csdown').home()","searchFind":"","search_url":"","group":"①常用","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"页面\",\"path\":\"csdown\",\"rule\":\"const csdown = {\\n    d: [],\\n    author: '流苏',\\n    version: 20260103,\\n    host: 'https://mihoyonb.com/api/search',\\n    home() {\\n        let d = this.d;\\n        if (MY_PAGE == 1) {\\n            d.push({   \\n                title: \\\"搜索 \\\",\\n                url: $.toString(() => {\\n                    putMyVar('keyword', input)\\n                    refreshPage(false)\\n                    return \\\"hiker://empty\\\"\\n                }),\\n                   desc: \\\"请输入搜索关键词\\\",\\n                   col_type: \\\"input\\\",\\n                extra: {\\n                    defaultValue: getMyVar('keyword', ''),\\n                    onChange: $.toString(() => {\\n                        putMyVar('keyword', input)\\n                    }),\\n                    pageTitle: '搜索'\\n                }\\n            })\\n            let keyword = getMyVar('keyword', '');\\n            if (keyword) {\\n                if (!storage0.getMyVar(keyword)) {\\n                    let list = JSON.parse(fetch(this.host, {\\n                        headers: {},\\n                        body: JSON.stringify({\\n                            \\\"kw\\\": getMyVar('keyword', ''),\\n                            \\\"res\\\": \\\"merge\\\"\\n                        }),\\n                        method: 'POST',\\n                    })).data.merged_by_type;\\n                    storage0.putMyVar(keyword, list);\\n                };\\n                let arr = [{\\n                    \\\"id\\\": \\\"quark\\\",\\n                    \\\"name\\\": \\\"夸克\\\",\\n                    \\\"img\\\": \\\"https://pp.myapp.com/ma_icon/0/icon_42375936_1766711021/256\\\"\\n                }, {\\n                    \\\"id\\\": \\\"baidu\\\",\\n                    \\\"name\\\": \\\"百度\\\",\\n                    \\\"img\\\": \\\"https://pp.myapp.com/ma_icon/0/icon_116071_1766633725/256\\\"\\n                }, {\\n                    \\\"id\\\": \\\"magnet\\\",\\n                    \\\"name\\\": \\\"磁力\\\",\\n                    \\\"img\\\": \\\"https://pp.myapp.com/ma_icon/0/icon_53952947_1677658847/256\\\"\\n                }, {\\n                    \\\"id\\\": \\\"mobile\\\",\\n                    \\\"name\\\": \\\"移动\\\",\\n                    \\\"img\\\": \\\"https://pp.myapp.com/ma_icon/0/icon_242055_1765935406/256\\\"\\n                }, {\\n                    \\\"id\\\": \\\"uc\\\",\\n                    \\\"name\\\": \\\"UC\\\",\\n                    \\\"img\\\": \\\"https://pp.myapp.com/ma_icon/0/icon_10936_1766990795/256\\\"\\n                }, {\\n                    \\\"id\\\": \\\"xunlei\\\",\\n                    \\\"name\\\": \\\"迅雷\\\",\\n                    \\\"img\\\": \\\"https://pp.myapp.com/ma_icon/0/icon_113692_1766656985/256\\\"\\n                }, {\\n                    \\\"id\\\": \\\"others\\\",\\n                    \\\"name\\\": \\\"其他\\\",\\n                    \\\"img\\\": \\\"https://pp.myapp.com/ma_icon/0/icon_251416_1627666026/256\\\"\\n                }, {\\n                    \\\"id\\\": \\\"aliyun\\\",\\n                    \\\"name\\\": \\\"阿里\\\",\\n                    \\\"img\\\": \\\"https://pp.myapp.com/ma_icon/0/icon_54120208_1764918750/256\\\"\\n                }, {\\n                    \\\"id\\\": \\\"tianyi\\\",\\n                    \\\"name\\\": \\\"天翼\\\",\\n                    \\\"img\\\": \\\"https://pp.myapp.com/ma_icon/0/icon_99115_1764558627/256\\\"\\n                }, {\\n                    \\\"id\\\": \\\"123\\\",\\n                    \\\"name\\\": \\\"123\\\",\\n                    \\\"img\\\": \\\"https://pp.myapp.com/ma_icon/0/icon_54190090_1767233011/256\\\"\\n                }, {\\n                    \\\"id\\\": \\\"115\\\",\\n                    \\\"name\\\": \\\"115\\\",\\n                    \\\"img\\\": \\\"https://pp.myapp.com/ma_icon/0/icon_2647_1766972102/256\\\"\\n                }, {\\n                    \\\"id\\\": \\\"pikpak\\\",\\n                    \\\"name\\\": \\\"Pikpak\\\",\\n                    \\\"img\\\": \\\"https://mypikpak.com/favicon-32x32.png\\\"\\n                }];\\n                let list = storage0.getMyVar(keyword);\\n                let key_arr = Object.keys(list);\\n                let key_index = key_arr[0];\\n                let key_ = getMyVar('cate', key_index);\\n                arr.forEach(data => {\\n                    if (key_arr.includes(data.id)) {\\n                        d.push({\\n                            title: (key_ == data.id ? this.strong(data.name + this.toSuperscript(list[data.id].length), 'FF6699') : data.name + this.toSuperscript(list[data.id].length)),\\n                            url: $('#noLoading#').lazyRule((n, name, nowid, newid) => {\\n                                if (newid != nowid) {\\n                                    putMyVar(n, newid);\\n                                    refreshPage(false);\\n                                }\\n                                return 'hiker://empty';\\n                            }, 'cate', data.name, key_, data.id),\\n                            col_type: 'scroll_button',\\n                            extra: {\\n                                backgroundColor: key_ == data.id ? \\\"#20FA7298\\\" : \\\"\\\",\\n                            }\\n                        })\\n                    }\\n                })\\n                list = list[key_] ? list[key_] : [];\\n                let img = arr.find(data => data.id == key_).img;\\n                list.forEach(data => {\\n                    d.push({\\n                        title: '““””' + data.note,\\n                        desc: data.datetime,\\n                        img: img,\\n                        url: $('#noLoading#').lazyRule((url) => {\\n                            return $.require('csdown?rule=原牛网盘搜索').jx(url);\\n                        }, data.url),\\n                        col_type: 'icon_1_left_pic',\\n                        extra: {\\n                            longClick: [{\\n                                title: '复制链接',\\n                                js: $.toString((url) => {\\n                                    return 'copy://' + url;\\n                                }, data.url)\\n                            },{\\n            title: \\\"保存到收藏\\\",\\n            js: $.toString((url) => {\\n                return $(getMyVar('keyword', '')).input((url) => {\\n                    var name = input\\n                    var yp = JSON.parse(fetch(\\\"hiker://files/data/云盘收藏.json\\\")||{});\\n\\n                   \\n                        yp[name] = url\\n                    \\n                    writeFile(\\\"hiker://files/data/云盘收藏.json\\\", JSON.stringify(yp))\\n                    refreshPage()\\n                    return \\\"toast://已保存\\\"\\n\\n                }, url)\\n\\n\\n            }, data.url)\\n        },{\\n            title: \\\"挂载到电脑\\\",\\n            js: $.toString((url) => {\\n\\n\\n                return $(\\\"国产动漫/\\\" + getMyVar('keyword', ''), \\\"请修改名字\\\").input((url) => {\\n\\n                    return $(\\\"\\\", \\\"输入目录ID\\\").input((title,url) => {\\n                        var body = JSON.stringify({\\n                            \\\"id\\\": \\\"\\\",\\n                            \\\"path\\\": title,\\n                            \\\"shareId\\\": url.replace(\\\"https://pan.quark.cn/s/\\\", \\\"\\\"),\\n                            \\\"folderId\\\": input,\\n                            \\\"password\\\": \\\"\\\",\\n                            \\\"cookie\\\": \\\"\\\",\\n                            \\\"type\\\": 5\\n                        })\\n\\n                        var html = fetch(\\\"http://192.168.1.10:4567/api/shares/\\\", {\\n                            headers: {\\n                                \\\"User-Agent\\\": \\\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0\\\",\\n                                \\\"X-ACCESS-TOKEN\\\": \\\"eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiJlYmZhYmNmZi1iNTkwLTQzNTEtYjE5MS0xMWM1MTNiNmRiNDMiLCJpc3MiOiJIYXIwMWQiLCJzdWIiOiJBTGlzdCIsImF1ZCI6IlR2Qm94IiwidXNlcm5hbWUiOiIxIiwiYXV0aG9yaXR5IjoiQURNSU4iLCJyZW1lbWJlck1lIjp0cnVlLCJpYXQiOjE3Njg0OTMwMzgsImV4cCI6MTc3MTA4NTAzOH0.zibE13bOhhdtVwsIx9O0lqq9dog1orYqdGz1XRQY3Mk\\\"\\n                            },\\n                            body: body,\\n                            method: \\\"POST\\\"\\n                        })\\n                        return \\\"toast://\\\" + html.toString()\\n                    }, input, url)\\n                }, url)\\n\\n            },data.url)}],\\n                            inheritTitle: false,\\n                            lineVisible: false,\\n                        }\\n                    })\\n                })\\n            }\\n        }\\n        setResult(d)\\n    },\\n    jx(input) {\\n        if (/\\\\.aliyundrive\\\\.com|alipan\\\\.com/.test(input)) {\\n            return \\\"hiker://page/aliyun?rule=云盘君.简&page=fypage&realurl=\\\" + encodeURIComponent(input);\\n        } else if (/(xunlei|magnet:|ed2k:|bt:|ftp:|\\\\.torrent|thunder:)/.test(input)) {\\n            if (input.includes('thunder')) {\\n                input = base64Decode(input.split('//')[1]);\\n            }\\n            return \\\"hiker://page/diaoyong?rule=迅雷&page=fypage#\\\" + input\\n        } else if (/cloud\\\\.189\\\\.cn|content\\\\.21cn\\\\.com/.test(input)) {\\n            return \\\"hiker://page/diaoyong?rule=天翼网盘&realurl=\\\" + encodeURIComponent(input)\\n        } else if (/pan\\\\.baidu/.test(input)) {\\n            return \\\"hiker://page/fxlj?rule=百度云盘&realurl=\\\" + encodeURIComponent(input);\\n        } else if (/pan\\\\.quark\\\\.cn|drive\\\\.uc\\\\.cn/.test(input)) {\\n            return \\\"hiker://page/quarkList?rule=Quark.简&page=fypage&realurl=\\\" + encodeURIComponent(input);\\n        } else if (/lanzou/.test(input)) {\\n            return \\\"hiker://page/diaoyong?rule=蓝奏云盘&page=fypage&realurl=\\\" + encodeURIComponent(input);\\n        } else if (/123.*?(com|cn)/.test(input)) {\\n            return \\\"hiker://page/diaoyong?rule=123云盘&page=fypage&realurl=\\\" + encodeURIComponent(input);\\n        } else if (/yun\\\\.139\\\\.com/.test(input)) {\\n            return \\\"hiker://page/diaoyong?rule=移动云盘&page=fypage&realurl=\\\" + encodeURIComponent(input);\\n        } else {\\n            //toast('未检测到云盘链接，请检查！');\\n            return input;\\n        }\\n    },\\n    color: function(txt) {\\n        return '<b><font color=' + '#FF6699' + '>' + txt + '</font></b>'\\n    },\\n    strong: function(d, c) {\\n        return '‘‘’’<strong><font color=#' + (c || '000000') + '>' + d + '</font></strong>';\\n    },\\n    toSuperscript(mumber) {\\n        const superscriptMap = {\\n            '0': '⁰',\\n            '1': '¹',\\n            '2': '²',\\n            '3': '³',\\n            '4': '⁴',\\n            '5': '⁵',\\n            '6': '⁶',\\n            '7': '⁷',\\n            '8': '⁸',\\n            '9': '⁹',\\n        }\\n        // 将数字转换为字符串，并替换每个字符\\n        return mumber.toString().split('').map(char => superscriptMap[char] || char).join('');\\n    },\\n}\\n$.exports = csdown\"},{\"col_type\":\"movie_3\",\"name\":\"搜索\",\"path\":\"search\",\"rule\":\"js: \\nvar keyword = MY_PARAMS.keyword||getParam(\\\"keyword\\\", \\\"\\\");\\nputMyVar(\\\"keyword\\\", keyword)\\n$.require('csdown').home()\"}]","proxy":"","icon":"https://mihoyonb.com/logo.ico"}
[{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"首页","path":"home","rule":"if(MY_PAGE == '1'){\nvar img = 'https://iconfont.tyrantg.com/api/illustrate.svg?svg_string=%3Csvg%20class%3D%22icon%22%20style%3D%22width%3A%201em%3Bheight%3A%201em%3Bvertical-align%3A%20middle%3Bfill%3A%20currentColor%3Boverflow%3A%20hidden%3B%22%20viewBox%3D%220%200%201024%201024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M508.288%2061.056A451.392%20451.392%200%200%200%2057.408%20512a451.456%20451.456%200%200%200%20450.88%20450.944c248.64%200%20450.944-202.304%20450.944-450.944A451.456%20451.456%200%200%200%20508.288%2061.056z%20m0%20838.592A388.096%20388.096%200%200%201%20120.64%20512a388.032%20388.032%200%200%201%20387.648-387.648A388.096%20388.096%200%200%201%20896%20512a388.096%20388.096%200%200%201-387.648%20387.648zM313.152%20452.672a59.328%2059.328%200%201%200%200%20118.656%2059.328%2059.328%200%200%200%200-118.656z%20m195.2%200a59.328%2059.328%200%201%200-0.064%20118.656%2059.328%2059.328%200%200%200%200-118.656z%20m195.072%200a59.328%2059.328%200%201%200%200%20118.656%2059.328%2059.328%200%200%200%200-118.656z%22%20fill%3D%22%23B7BAC8%22%20%2F%3E%3C%2Fsvg%3E'; \nvar html = apiview.gethtml(apiview.static_address+'api/novel/lib/updated/list/5.json'); \nvar list = html.items\nd.push({\n    title: '最近更新',\n    img: img,\n    url: 'hiker://page/ckgd?page=fypage#noHistory#',\n    col_type: 'text_icon',\n    extra: {\n        id: 'updated'\n    }\n})\nlist.slice(0,6).forEach( item => {\n    d.push({\n        title: item.bookName,\n        desc: item.categoryName,\n        img: apiview.static_address+item.coverUrl,\n        url: `hiker://page/erji?bookId=${item.bookId}#immersiveTheme#`,\n        extra: {\n            bookId: item.bookId,\n            pageTitle: item.bookName\n        }\n    })\n})\nvar html = apiview.gethtml(apiview.static_address+'api/novel/lib/hot/list/1.json'); \nvar list = html.items\nd.push({\n    title: '热门榜单',\n    img: img,\n    url: 'hiker://page/ckgd?page=fypage#noHistory#',\n    col_type: 'text_icon',\n    extra: {\n        id: 'hot'\n    }\n})\nlist.slice(0,6).forEach( item => {\n    d.push({\n        title: item.bookName,\n        desc: item.categoryName,\n        img: apiview.static_address+item.coverUrl,\n        url: `hiker://page/erji?bookId=${item.bookId}#immersiveTheme#`,\n        extra: {\n            bookId: item.bookId,\n            pageTitle: item.bookName\n        }\n    })\n})\nvar html = apiview.gethtml(apiview.static_address+'api/novel/lib/storytelling/list/1.json'); \nvar list = html.items\nd.push({\n    title: '评书经典',\n    img: img,\n    url: 'hiker://page/ckgd?page=fypage#noHistory#',\n    col_type: 'text_icon',\n    extra: {\n        id: 'storytelling'\n    }\n})\nlist.slice(0,6).forEach( item => {\n    d.push({\n        title: item.bookName,\n        desc: item.categoryName,\n        img: apiview.static_address+item.coverUrl,\n        url: `hiker://page/erji?bookId=${item.bookId}#immersiveTheme#`,\n        extra: {\n            bookId: item.bookId,\n            pageTitle: item.bookName\n        }\n    })\n})\nvar html = apiview.gethtml(apiview.static_address+'api/novel/lib/voicenovel/list/1.json'); \nvar list = html.items\nd.push({\n    title: '有声小说',\n    img: img,\n    url: 'hiker://page/ckgd?page=fypage#noHistory#',\n    col_type: 'text_icon',\n    extra: {\n        id: 'voicenovel'\n    }\n})\nlist.reverse().slice(0,6).forEach( item => {\n    d.push({\n        title: item.bookName,\n        desc: item.categoryName,\n        img: apiview.static_address+item.coverUrl,\n        url: `hiker://page/erji?bookId=${item.bookId}#immersiveTheme#`,\n        extra: {\n            bookId: item.bookId,\n            pageTitle: item.bookName\n        }\n    })\n})\n}\ntry{\nvar html = apiview.gethtml(apiview.static_address+'api/novel/lib/recommend/list/'+MY_PAGE+'.json'); \nvar list = html.items\nif(MY_PAGE == '1'){\nd.push({\n    title: '更多推荐',\n    img: img,\n    url: 'hiker://page/ckgd?page=fypage#noHistory#',\n    col_type: 'text_icon',\n    extra: {\n        id: 'recommend'\n    }\n})\n}\nlist.forEach( item => {\n    d.push({\n        title: item.bookName+'\\n'+item.categoryName,\n        desc: item.authorName+'\\n'+item.latestChapterName,\n        img: apiview.static_address+item.coverUrl,\n        url: `hiker://page/erji?bookId=${item.bookId}#immersiveTheme#`,\n        col_type: 'movie_1_vertical_pic',\n        extra: {\n            bookId: item.bookId,\n            pageTitle: item.bookName\n        }\n    })\n})\n}catch(e){}"},{"col_type":"movie_3","name":"函数","path":"hanshu","rule":"const apiview = {\n    color: (test) => {\n        return '<font color=\"#FA7298\">' + test + '</front>';\n    },\n    strong: (test) => {\n        return '<strong>' + test + '</strong>';\n    },\n    small: (test) => {\n        return '<small>' + test + '</small>';\n    },\n    center: (test) => {\n        return '<p style=\"text-align: center;\">' + test + '</p>'\n    },\n    big: (test) => {\n        return '<big>' + test + '</big>';\n    },\n    grey: (text) => {\n        return \"<font color='grey'>\" + text + \"</font>\";\n\n    },\n    gray: (test) => {\n        return \"<font color='gray'>\" + test + \"</font>\";\n    },\n    rich: (test) => {\n        return \"‘‘’’\" + test;\n    },\n    addressTag: (url, text) => {\n        return \"<a href='\" + url + \"'>\" + text + \"</a>\"\n    },\n    empty: \"hiker://empty\",\n    noLoad: \"#noLoading#\",\n    key: \"CCDEPGAM\",\n    key1: \"O0BXMSRI\",\n    key2: \"APLGTY6D\",\n    key3: \"OT7HLQHR\",\n    key4: \"ERG7F5KP\",\n    key5: \"N0E35150\",\n    static_address: getItem(\"static_address\"),\n    search_address: getItem(\"search_address\"),\n    timestamp: () => Math.floor(new Date().getTime() / 1000),\n    t10: () => apiview.timestamp().toString(),\n    t13: () => apiview.t10() + '000',\n    /**\n     * 格式化时间戳为标准时间\n     * @param {number|string} timestamp - 秒级或毫秒级时间戳（支持科学计数法）\n     * @returns {string} - 返回格式化后的时间 \"YYYY-MM-DD HH:MM:SS\"\n     */\n    formatTimestamp: (timestamp) => {\n        // 统一将时间戳解析为数字\n        const ts = Number(timestamp);\n        if (isNaN(ts)) {\n            throw new Error(\"Invalid timestamp format\");\n        }\n\n        // 判断时间戳是秒级（10位）还是毫秒级（13位）\n        const millis = ts < 1e12 ? ts * 1000 : ts;\n\n        // 创建日期对象\n        const date = new Date(millis);\n\n        // 格式化日期和时间，确保补零\n        const pad = (num) => String(num).padStart(2, '0');\n        return `${date.getFullYear()}-${pad(date.getMonth() + 1)}-${pad(date.getDate())} ` +\n            `${pad(date.getHours())}:${pad(date.getMinutes())}:${pad(date.getSeconds())}`;\n    },\n    Decrypt: (word,keyy) => {\n        let CryptoUtil = $.require(\"hiker://assets/crypto-java.js\");\n        let key = CryptoUtil.Data.parseUTF8(keyy);\n        let decrypted = CryptoUtil.DES.decrypt(word, key, {\n            mode: \"DES/ECB/PKCS7Padding\"\n        });\n        return decrypted.toString();\n    },\n    gethtml: (url) => {\n        var html = fetch(url,{\n            headers: {\n              \"user-agent\": \"Dart/3.3 (dart:io)\",\n              \"userid\": \"\",\n              //\"accept-encoding\": \"gzip\",\n              \"channel\": \"\",\n              \"uuid\": \"de5aeeb4908adda3\",\n              \"rtime\": \"1732171432861\",\n              //\"rtime\": apiview.t13(),\n              \"versioncode\": \"38\",\n              \"sign\": \"3051d24dd714bc40abe7a557c889365b\",\n              //\"sign\": md5('com.vo.icea'+apiview.t13()+apiview.t13()),\n              \"ctime\": \"1732171433149\",\n              //\"ctime\": apiview.t13(),\n              \"packagesign\": \"07dad6ad1cbf65a4aa56595518e58bbd3c6e0cea\",\n              \"packagename\": \"com.vo.icea\",\n              \"host\": \"bcebosorg.gz.bcebos.com\",\n              \"versionname\": \"1.3.8\"\n            },\n            method: 'GET'\n        }); //log(html)\n        var html1 = JSON.parse(html)\n        var token = html1.safety.token; //log(token)\n        var safetyData = html1.safetyData; //log(safetyData)\n        if(/app/.test(url)){\n            var key = apiview.key\n        }else if(/list/.test(url)){\n            var key = apiview.key1\n        }else if(/all/.test(url)){\n            var key = apiview.key2\n        }else if(/info/.test(url)){\n            var key = apiview.key3\n        }else if(/chapters/.test(url)){\n            var key = apiview.key4\n        }else if(/category/.test(url)){\n            var key = apiview.key5\n        }\n        var html2 = apiview.Decrypt(safetyData,key);\n        var html3 = JSON.parse(html2); //log(html3)\n        return html3\n    },\n    getsearchhtml: (url,word,page) => {\n        var html = fetch(url,{\n            headers: {\n              \"user-agent\": \"Dart/3.3 (dart:io)\",\n              \"userid\": \"\",\n              //\"accept-encoding\": \"gzip\",\n              \"channel\": \"\",\n              \"uuid\": \"de5aeeb4908adda3\",\n              \"rtime\": \"1732171432861\",\n              //\"rtime\": apiview.t13(),\n              \"versioncode\": \"38\",\n              \"sign\": \"3051d24dd714bc40abe7a557c889365b\",\n              //\"sign\": md5('com.vo.icea'+apiview.t13()+apiview.t13()),\n              \"ctime\": \"1732171433149\",\n              //\"ctime\": apiview.t13(),\n              \"packagesign\": \"07dad6ad1cbf65a4aa56595518e58bbd3c6e0cea\",\n              \"packagename\": \"com.vo.icea\",\n              \"host\": \"bcebosorg.gz.bcebos.com\",\n              \"versionname\": \"1.3.8\"\n            },\n            body: JSON.stringify({\"relationType\":1,\"relationId\":\"\",\"key\":word,\"page\":page,\"appVersion\":\"1.3.8\",\"appChannel\":\"\",\"appKey\":\"com.vo.icea\",\"clientTime\":1732171433149,\"deviceBrand\":\"Redmi\",\"deviceType\":\"22021211RC\",\"ipAddr\":\"192.168.50.202\",\"netType\":\"mobile\",\"platform\":0,\"systemVersion\":\"Android 12\",\"uuid\":\"de5aeeb4908adda3\",\"userId\":\"\"}),\n            method: 'POST'\n        }); //log(html)\n        var html1 = JSON.parse(html)\n        var token = html1.safety.token; //log(token)\n        var safetyData = html1.safetyData; //log(safetyData)\n        var html2 = apiview.Decrypt(safetyData,'O0BXMSRI');\n        var html3 = JSON.parse(html2); //log(html3)\n        return html3\n    },\n    gethtml1: (url,params) => {\n        var html = fetch(url,{\n            headers: {\n              //\"user-agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36\",\n              //\"content-type\": \"application/x-www-form-urlencoded\",\n              //\"accept-encoding\": \"gzip\",\n              //\"content-length\": \"387\",\n              \"referer\": \"https://apk-lb.iiszg.com/\",\n              //\"host\": \"apk-lb-play.fodexin.com\"\n            },\n            body: 'version=1.1.7&params='+params,\n            method: 'POST'\n        }); \n        var html1 = JSON.parse(html)\n        return html1\n    },\n    lazy: (input) => {\n        var lazy = $(input).lazyRule(() => {\n            function getUnixTimestamp() {\n                const now = new Date();\n                // 获取年月日时分，确保秒和毫秒都为 0\n                now.setSeconds(0, 0);\n                // 获取 10 位 Unix 时间戳\n                const timestamp = Math.floor(now.getTime() / 1000);\n                // 强制转换为字符串后返回\n                return timestamp.toString();\n            }\n            var params1 = JSON.stringify({\"m\":\"play\",\"aid\":base64Decode(input).split('_')[2],\"pid\":base64Decode(input).split('_')[3],\"t\":md5(md5('play'+base64Decode(input).split('_')[2]+base64Decode(input).split('_')[3])+'1449682949'+getUnixTimestamp())}); //log(params1) \n            var rsakey = 'MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAtSwotbu7UEonUCzCsJXPSpYOrkuMnpyk24PBQskkcwYZsUTwbh8Y9vHuPIerh3AfZZ1luFV9yPC282xiNX+/+IAzWHWG6M+dWmJnDyybeUVTh7H7YVM31eSR9TFT4VASr7NftgCv7hfS2mVNL0sxRrMSPSXa6SbjkIeW4GTpYpWKehKfaqrgDwVfFCu67ogL9JLIdDxvWthIe42uUMnz4II1/pdrPtWRu0CDjaxvsLz26UdMGSL3gFEloaJhp4KuIPK4RlIx+9t28H00+3IpeVirmiayDYJQe1cjiDKoERSkLubJRD2yj5X3trGmgXex3QkcRtx5UNXYkLEuEMNGiwIDAQAB'; \n            var params = rsaEncrypt(params1, rsakey); //log(params)\n            var html = $.require(\"hanshu\").gethtml1('https://apk-lb-play.fodexin.com/api2/web/index.php/?r=api',params)\n            var play = html.data.url\n            return JSON.stringify({\n                urls: [play],\n                headers: [{\"referer\": \"https://apk-lb.iiszg.com/\"}]\n            })\n        })\n        return lazy\n    },\n    setDesc: (d, desc, num) => {\n        //log(desc)\n        if (desc == undefined) {\n            return;\n        }\n        desc = desc.constructor == Array ? desc.join('<br>') : desc;\n        if (desc.replace(/(<br>|\\s+|<\\/?p>|&nbsp;)/g, '').length == 0) {\n            return;\n        }\n        const mark = 'desc';\n        num = typeof(num) == 'undefined' ? 100 : num\n        desc = desc.startsWith('　　') ? desc : '　　' + desc;\n        desc = desc.replace(/'/g, \"&#39;\");\n        desc = desc.replace(/\\r\\n/g, \"<br>\");\n        desc = desc.replace(/\\r/g, \"<br>\");\n        desc = desc.replace(/\\n/g, \"<br>\");\n\n        function substr(str, maxLength) {\n            let len = 0;\n            for (let i = 0; i < str.length; i++) {\n                if (str.charCodeAt(i) > 255) {\n                    len += 2;\n                } else {\n                    len++;\n                }\n                if (len > maxLength) {\n                    return str.slice(0, i) + '...';\n                }\n            }\n            return str;\n        }\n        let sdesc = substr(desc, num);\n        var colors = {\n            show: \"black\",\n            hide: \"grey\"\n        }\n        var lazy = $(`#noLoading#`).lazyRule((dc, sdc, m, cs) => {\n            var show = storage0.getItem(m, '0');\n            var title = findItem('desc').title;\n            var re = /(<\\/small><br>.*?>).+/g;\n            var exp = '展开:';\n            var ret = '收起:';\n            if (show == '1') {\n                updateItem('desc', {\n                    title: title\n                        .replace(ret, exp)\n                        .replace(re, '$1' + sdc + '</small>')\n                        .replace(/(<\\/small><br>\\<font color=\").*?(\">)/, '$1' + cs.hide + '$2')\n                })\n                storage0.setItem(m, '0');\n            } else {\n                updateItem('desc', {\n                    title: title\n                        .replace(exp, ret)\n                        .replace(re, '$1' + dc + '</small>')\n                        .replace(/(<\\/small><br>\\<font color=\").*?(\">)/, '$1' + cs.show + '$2')\n                })\n                storage0.setItem(m, '1');\n            }\n            return `hiker://empty`\n        }, desc, sdesc, mark, colors)\n        var sc = storage0.getItem(mark, '0') == '0' ? '展开:' : '收起:';\n        var dc = storage0.getItem(mark, '0') == '0' ? sdesc : desc;\n        var cs = storage0.getItem(mark, '0') == '0' ? colors.hide : colors.show;\n        d.push({\n            title: '' + '<b><font color=\"#098AC1\">∷剧情简介\t</font></b>' + \"<small><a style='text-decoration: none;' href='\" + lazy + \"'>\" + sc + '</a></small><br><font color=\"' + cs + '\">' + `${dc}` + '</small>',\n            col_type: 'rich_text',\n            extra: {\n                id: 'desc',\n                lineSpacing: 6,\n                textSize: 15,\n                lineVisible: true,\n            }\n        })\n    }\n}\n\n$.exports = apiview;"},{"col_type":"movie_3","name":"分类","path":"cla","rule":"var html = apiview.gethtml(apiview.static_address+'api/novel/lib/category/condition.json'); //log(html) \n/*\nlog(getMyVar('a','0'))\nlog(getMyVar('b','0'))\nlog(getMyVar('c',html[getMyVar('a','0')].categorys[0].key))\n*/\nif(MY_PAGE == '1'){\nd.push({\n    col_type:\"blank_block\"\n})\nhtml.forEach( (item,index) => {\n    d.push({\n        title: getMyVar('a','0')==index? \"““\"+item.title+\"””\":item.title,\n        url: $('#noLoading#').lazyRule((index) => {\n            putMyVar('a',index)\n            clearMyVar('b')\n            clearMyVar('c')\n            refreshPage()\n            return 'hiker://empty'\n        },index),\n        col_type: 'scroll_button'\n    })\n})\nd.push({\n    col_type:\"blank_block\"\n})\nhtml[getMyVar('a','0')].categorys.forEach( (item,index) => {\n    d.push({\n        title: getMyVar('b','0')==index? \"““\"+item.name+\"””\":item.name,\n        url: $(item.key+'#noLoading#').lazyRule((index) => {\n            putMyVar('b',index)\n            putMyVar('c',input)\n            refreshPage()\n            return 'hiker://empty'\n        },index),\n        col_type: 'scroll_button'\n    })\n})\n}\ntry{\nvar html = apiview.gethtml(apiview.static_address+'api/novel/lib/books/'+getMyVar('c',html[getMyVar('a','0')].categorys[0].key)+'/all/hot/'+MY_PAGE+'.json'); //log(html) \nvar list = html.items\nlist.forEach( item => {\n    d.push({\n        title: item.bookName+'\\n'+item.authorName,\n        desc: item.intro,\n        img: apiview.static_address+item.coverUrl,\n        url: `hiker://page/erji?bookId=${item.bookId}#immersiveTheme#`,\n        col_type: 'movie_1_vertical_pic',\n        extra: {\n            bookId: item.bookId,\n            pageTitle: item.bookName\n        }\n    })\n})\n}catch(e){}"},{"col_type":"movie_3","name":"书架","path":"cla1","rule":"if(MY_PAGE == '1'){\nd.push({\n    title: '收藏',\n    url: 'hiker://collection?rule='+MY_RULE.title,\n    col_type: 'text_2'\n})\nd.push({\n    title: '历史',\n    url: 'hiker://history?rule='+MY_RULE.title,\n    col_type: 'text_2'\n})\nvar html = request('hiker://collection?rule='+MY_RULE.title); //log(html) \nvar html1 = JSON.parse(html); //log(html1)\n// 使用 filter 筛选符合条件的项\nvar filteredItems = html1.filter(item => {\n    // 解析 item.params\n    let parsedParams = JSON.parse(item.params);\n    // 筛选条件：parsedParams.title === MY_RULE.title && item.lastClick 存在\n    return parsedParams.title === MY_RULE.title;\n});\n// 遍历筛选后的结果\nfilteredItems.forEach(item => {\n    let lastClick = item.lastClick == undefined ? '无足迹' : item.lastClick.split('@@')[0]\n    let parsedParams = JSON.parse(item.params); // 再次解析\n    d.push({\n        title: item.mTitle,\n        desc: lastClick + '\\n' + apiview.formatTimestamp(item.time), // 显示时间戳\n        img: item.picUrl,\n        url: `hiker://page/erji?bookId=${JSON.parse(parsedParams.params).bookId}#immersiveTheme#`,\n        col_type: 'movie_1_vertical_pic',\n        extra: parsedParams.params // 携带 extra 参数\n    });\n});\n}"},{"col_type":"movie_3","name":"二级","path":"erji","rule":"js:\n/*\naddListener(\"onClose\", $.toString(() => {\n    let keys = listMyVarKeys(); //log(keys)\n    for (let it of keys) {\n        clearMyVar(\"hiker://page/erji#immersiveTheme#\");\n    }\n}))\n*/\nvar apiview = $.require(\"hanshu\");\nvar data = apiview.gethtml(apiview.static_address + 'api/novel/book/info/' + MY_PARAMS.bookId + '.json');\nvar d = [];\nd.push({\n    title: data.bookName + '\\n作者：' + data.authorName,\n    desc: '类型：' + data.categoryName + '\\n最新：' + data.latestChapterName,\n    pic_url: apiview.static_address + data.coverUrl,\n    url: 'hiker://empty',\n    col_type: 'movie_1_vertical_pic_blur',\n    extra: {\n        gradient: true\n    }\n})\napiview.setDesc(d, data.intro)\nvar html = apiview.gethtml(apiview.static_address + '/api/novel/book/chapters/' + MY_PARAMS.bookId + '.json');\nvar list = html.chapters\n\n/**\n * 分页函数，将数组按指定数量分成多个页\n * @param {Array} data - 需要分页的数组\n * @param {number} itemsPerPage - 每页显示的项目数量\n * @returns {Array} - 分页后的二维数组，每个子数组为一页\n */\nfunction paginateArray(data, itemsPerPage) {\n    const totalPages = Math.ceil(data.length / itemsPerPage);\n    const paginatedArray = [];\n    for (let i = 0; i < totalPages; i++) {\n        paginatedArray.push(data.slice(i * itemsPerPage, (i + 1) * itemsPerPage));\n    }\n    return paginatedArray;\n}\n\n// 示例用法\nvar itemsPerPage = 50; // 每页显示的数量\nvar lists = paginateArray(list, itemsPerPage); // 分页后的结果\n\nvar tabs = []\n// 遍历每一页的数据\nlists.forEach((page, index) => {\n    tabs.push(`第${index + 1}页`);\n})\n\nfunction setTabs(tabs, vari) {\n    d.push({\n        title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n        col_type: 'scroll_button'\n    })\n    d.push({\n        title: '““””<b><span style=\"color: #FF0000\">样式</span></b>',\n        url: $([\"text_1\", \"text_2\", \"text_3\", \"text_4\", \"开启分页\", \"关闭分页\"], 2).select((MY_URL) => {\n            if (input == '开启分页') {\n                refreshPage();\n                putMyVar(\"分页\", \"1\")\n            } else if (input == '关闭分页') {\n                refreshPage();\n                putMyVar(\"分页\", \"0\")\n            } else {\n                putMyVar(\"col_\" + MY_URL, input);\n                for (var i = 0; i < 120; i++) {\n                    updateItem(\"playlist_\" + i, {\n                        col_type: input\n                    });\n                }\n            }\n            return \"hiker://empty\"\n        }, MY_URL),\n        col_type: 'scroll_button'\n    })\n\n    var pagenum = tabs.length;\n    if (getMyVar(\"分页\", \"1\") == \"1\") {\n        d.push({\n            title: getMyVar(MY_URL, '0') == \"0\" ? \"↪️尾页\" : \"⏮️上页\",\n            url: $(\"#noLoading##noHistory#\").lazyRule((myurl, num) => {\n                var fold = getMyVar(myurl, '0')\n                if (fold == \"0\") {\n                    putMyVar(myurl, num - 1);\n                } else {\n                    var id = parseInt(getMyVar(myurl, '0')) - 1;\n\n                    putMyVar(myurl, id);\n                }\n                refreshPage();\n                return \"hiker://empty\";\n            }, MY_URL, pagenum),\n            col_type: \"text_4\"\n        }, {\n            title: tabs[getMyVar(MY_URL, '0')],\n            url: $(tabs, 2).select((myurl, tabs) => {\n                for (var i in tabs) {\n                    if (tabs[i] == input) {\n                        putMyVar(myurl, i)\n                    }\n                }\n\n                refreshPage()\n                return \"hiker://empty\"\n            }, MY_URL, tabs),\n            col_type: \"text_2\"\n        }, {\n            title: (parseInt(getMyVar(MY_URL, '0')) + 1) == pagenum ? \"首页↩️\" : \"下页⏭️\",\n            url: $(\"#noLoading##noHistory#\").lazyRule((myurl, num) => {\n                var pageNum = parseInt(getMyVar(myurl, '0')) + 1;\n                putMyVar(myurl, pageNum);\n                if (pageNum == num) {\n                    putMyVar(myurl, \"0\");\n                };\n                refreshPage();\n                return \"hiker://empty\";\n            }, MY_URL, pagenum),\n            col_type: \"text_4\"\n        })\n    }\n}\n\n\nfunction setLists(lists, list, index) {\n    if (getMyVar(\"分页\", \"1\") == \"1\") {\n\n        list = lists[index]\n    }\n\n\n    if (getVar('shsort') == '1') {\n        var list = list.reverse();\n    }\n    for (var j in list) {\n        d.push({\n            title: list[j].chapterName,\n            url: apiview.lazy(list[j].chapterId),\n            col_type: getMyVar(\"col_\" + MY_URL, \"text_2\"),\n            extra: {\n                id: 'playlist_' + j\n            }\n        })\n    }\n}\n\nsetTabs(tabs, MY_URL);\nsetLists(lists, list, getMyVar(MY_URL, '0'));\n\nsetResult(d)"},{"col_type":"movie_3","name":"查看更多","path":"ckgd","rule":"js:\nvar d = [];\nvar apiview = $.require(\"hanshu\");\nvar html = apiview.gethtml(apiview.static_address+'api/novel/lib/'+MY_PARAMS.id+'/list/'+MY_PAGE+'.json'); \nvar list = html.items\nlist.forEach( item => {\n    d.push({\n        title: item.bookName+'\\n'+item.categoryName,\n        desc: item.authorName+'\\n'+item.latestChapterName,\n        img: apiview.static_address+item.coverUrl,\n        url: `hiker://page/erji?bookId=${item.bookId}#immersiveTheme#`,\n        col_type: 'movie_1_vertical_pic',\n        extra: {\n            bookId: item.bookId,\n            pageTitle: item.bookName\n        }\n    })\n})\nsetResult(d)"},{"col_type":"text_1","name":"获取分类头部","path":"classicHeader","rule":"js:\nlet d = [];\n\nfunction putKeyIntoMap(key, value) {\n    const keyMap = JSON.parse(getVar(\"cryptor_all_key_Map\", \"{}\"));\n    keyMap[key] = value;\n    putVar(\"cryptor_all_key_Map\", JSON.stringify(keyMap));\n}\n\nfunction getHeaderFromJSONObject(obj) {\n\n    var getRangeColors = function() {\n        return ('00000' + (Math.random() * 0x1000000 << 0).toString(16)).substr(-6);\n    }\n    var tindex = storage0.getMyVar('tindex', 0)\n    var titles = [\"首页\", \"分类\", \"书架\"]\n    var imgs = [\"https://img.vinua.cn/images/IdlUv.th.png\", \"https://img.vinua.cn/images/Idqlk.th.png\", \"https://img.vinua.cn/images/Id29J.th.png\"]\n    titles = titles.map((x, i) => {\n        var title = i == tindex ? `<b><font color=\"#9370DB\">${x}</font></b>` : x\n        return title\n    })\n    if (MY_PAGE == 1) {\n        for (var i = 0; i < titles.length; i++) {\n            var mytitle = titles[i];\n            d.push({\n                title: mytitle,\n                url: $('#noLoading#').lazyRule((i) => {\n                    storage0.putMyVar('tindex', i)\n                    refreshPage()\n                    return 'hiker://empty'\n                }, i),\n                img: imgs[i],\n                col_type: \"icon_small_3\"\n            });\n        }\n    }\n    \n    for (let key in obj) {\n        d.push({\n            title: key == getVar(\"cryptor\", Object.keys(obj)[0]) ? \"““\" + key + \"””\" : key,\n            url: $(\"#noLoading#\").lazyRule((key) => {\n                putVar(\"cryptor\", key);\n                putVar(\"cryptor_cur_index\", key);\n                refreshPage(false);\n                return \"hiker://empty\"\n            }, key),\n            col_type: \"scroll_button\"\n        });\n    }\n    d.push({\n        col_type: \"blank_block\"\n    });\n    let key = getVar(\"cryptor\", Object.keys(obj)[0]);\n    putVar(\"cryptor_cur_index\", key);\n    getNextHeaderFromJSONArray(key, obj[key]);\n    return d;\n}\n\nfunction getNextHeaderFromJSONArray(key, array) {\n    if (array == undefined || array.length == 0) {\n        return;\n    }\n    let nextHeader = {};\n    let defaultValue = \"\";\n    defaultValue = array[0];\n    if (Object.prototype.toString.call(array[0]) === '[object Object]') {\n        defaultValue = Object.keys(array[0])[0];\n    }\n    putKeyIntoMap(\"cryptor@@\" + key, getVar(\"cryptor@@\" + key, defaultValue))\n    putVar(\"cryptor_cur_index\", key + \"@@\" + getVar(\"cryptor@@\" + key, defaultValue));\n    for (let value of array) {\n        if (Object.prototype.toString.call(value) === '[object Object]') {\n            // log(\"valueKeys: \"+JSON.stringify(Object.keys(value)[0]))\n            let valueKey = Object.keys(value)[0];\n            d.push({\n                title: valueKey == getVar(\"cryptor@@\" + key, defaultValue) ? \"““\" + valueKey + \"””\" : valueKey,\n                url: $(\"#noLoading#\").lazyRule((valueKey, key) => {\n                    function putKeyIntoMap(key, value) {\n                        const keyMap = JSON.parse(getVar(\"cryptor_all_key_Map\", \"{}\"));\n                        keyMap[key] = value;\n                        putVar(\"cryptor_all_key_Map\", JSON.stringify(keyMap));\n                    }\n                    putVar(\"cryptor@@\" + key, valueKey);\n                    putVar(\"cryptor_cur_index\", key + \"@@\" + valueKey);\n                    putKeyIntoMap(\"cryptor@@\" + key, getVar(\"cryptor@@\" + key, \"defaultValue\"))\n                    refreshPage(false);\n                    return \"hiker://empty\"\n                }, valueKey, key),\n                col_type: \"scroll_button\"\n            });\n            nextHeader[valueKey] = value[valueKey];\n        } else {\n            d.push({\n                title: value == getVar(\"cryptor@@\" + key, defaultValue) ? \"““\" + value + \"””\" : value,\n                url: $(\"#noLoading#\").lazyRule((value, key) => {\n                    function putKeyIntoMap(key, value) {\n                        const keyMap = JSON.parse(getVar(\"cryptor_all_key_Map\", \"{}\"));\n                        keyMap[key] = value;\n                        putVar(\"cryptor_all_key_Map\", JSON.stringify(keyMap));\n                    }\n                    putVar(\"cryptor@@\" + key, value);\n                    putKeyIntoMap(\"cryptor@@\" + key, getVar(\"cryptor@@\" + key, \"defaultValue\"))\n                    putVar(\"cryptor_cur_index\", key + \"@@\" + value);\n                    refreshPage(false);\n                    return \"hiker://empty\"\n                }, value, key),\n                col_type: \"scroll_button\"\n            });\n        }\n    }\n\n    d.push({\n        col_type: \"blank_block\"\n    });\n    if (nextHeader !== undefined && nextHeader.length != 0) {\n        getNextHeaderFromJSONArray(key + \"@@\" + getVar(\"cryptor@@\" + key, defaultValue), nextHeader[getVar(\"cryptor@@\" + key, defaultValue)]);\n    }\n}\n\nlet header = {\n    /**\n     * 获取分类头部，返回视界 setResult 用的数组\n     */\n    get: function(obj) {\n        let result = getHeaderFromJSONObject(obj);\n        //log(\"【子页面】\" + JSON.stringify(result))\n        return result;\n    },\n    /**\n\t   * 页面关闭时需要注册的生命周期，引入依赖后在 addListener 中调用即可\n\t   * 例：\n\t     const { header } = $.require(\"hiker://page/classicHeader\");\n\t     addListener(\"onClose\", $.toString((header) => {\n          header.onClose();\n        }, header));\n\t   */\n    onClose: function() {\n        // putVar(\"cryptor\", \"编码\");\n        // putVar(\"cryptor@@编码\", \"佛曰\");\n        let allKeyArr = Object.keys(JSON.parse(getVar(\"cryptor_all_key_Map\", \"{}\")));\n        for (let i in allKeyArr) {\n            clearVar(allKeyArr[i]);\n            // log(\"【清理后】\"+ allKeyArr[i] + \": \"+JSON.stringify(getVar(allKeyArr[i], \"\")))\n        }\n        clearVar(\"cryptor\")\n        clearVar(\"cryptor_all_key_Map\")\n    },\n    /**\n     * 获取当前已选多级分类，返回的数据格式为：一级分类@@二级分类@@...，可自行做映射获取 url\n     */\n    getCurrentIndex: function() {\n        return getVar(\"cryptor_cur_index\", \"\");\n    }\n}\n$.exports.header = header\n\n\n\n\n\n\n\n\n/**\n * 1. 引入头部依赖\n */\nconst { header } = $.require(\"hiker://page/classicHeader\");\n/**\n * 2. 注册关闭页面生命周期\n */\naddListener(\"onClose\", $.toString((header) => {\n  header.onClose();\n}, header));\n\n/**\n * 3. 准备好分类数据\n */\nlet classic = {\n    \"编码\": [\"佛曰\", \"Unicode\", \"Base64\", \"ASCII\"],\n    \"加密\": [{\n            \"AES\": [\"Pkcs7\", \"Pkcs5\"]\n        },\n        \"RSA\",\n        {\n            \"DES\": [\"Pkcs5\"]\n        },\n    ]\n}\n\n/**\n * 4. 获取视界分类头部\n */\nd = header.get(classic)\n/**\n * 5. 获取当前选择的多级分类\n */\nlog(header.getCurrentIndex())"}],"title":"云动听书APP","author":"zhao","version":1,"type":"music","url":"hiker://empty##fypage","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\n\nvar d = []\nvar getRangeColors = function() {\n    return ('00000' + (Math.random() * 0x1000000 << 0).toString(16)).substr(-6);\n}\nif (MY_PAGE == 1) {\n    d.push({\n        desc: \"搜你想要的...\",\n        title: \"🔍\",\n        url: \"'hiker://search?rule=\" + MY_RULE.title + \"&s='+input\",\n        col_type: \"input\",\n    });\n}\n// 当前选中的页面索引\nvar tindex = storage0.getMyVar('tindex', 0);\n// 页面标题数组\nvar titles = [\"首页\", \"分类\", \"书架\"];\n// 图片数组\nvar imgs = [\n    \"https://img.vinua.cn/images/IdHhC.th.png\",\n    \"https://img.vinua.cn/images/IdDQK.th.png\",\n    \"https://img.vinua.cn/images/IdVtE.th.png\",\n    \"https://img.vinua.cn/images/IdlUv.th.png\",\n    \"https://img.vinua.cn/images/Idqlk.th.png\",\n    \"https://img.vinua.cn/images/Id29J.th.png\"\n];\n// 每个页面对应的图片索引（定义不同页面对应的图片逻辑）\nvar pageImgMapping = {\n    0: [3, 1, 2], // 首页\n    1: [0, 4, 2], // 分类\n    2: [0, 1, 5] // 书架\n};\n// 根据当前选中的页面，取出对应的图片索引\nvar currentImgIndices = pageImgMapping[tindex] || [];\n// 动态更新标题和图片\ntitles = titles.map((title, i) => i == tindex ? `<b><font color=\"#9370DB\">${title}</font></b>` : title);\nimgs = currentImgIndices.map(index => imgs[index]);\n// 渲染页面内容\nif (MY_PAGE === 1) {\n    for (var i = 0; i < titles.length; i++) {\n        d.push({\n            title: titles[i],\n            url: $('#noLoading#').lazyRule((i) => {\n                storage0.putMyVar('tindex', i); // 保存当前页面索引\n                refreshPage(); // 刷新页面\n                return 'hiker://empty';\n            }, i),\n            img: imgs[i], // 使用对应的图片\n            col_type: \"icon_small_3\" // 样式\n        });\n    }\n}\ntry{\nvar apiview = $.require(\"hanshu\");\nswitch (parseInt(tindex)) {\n    case 0:\n        eval(JSON.parse(request('hiker://page/home')).rule)\n        break;\n    case 1:\n        eval(JSON.parse(request('hiker://page/cla')).rule)\n        break;\n    case 2:\n        eval(JSON.parse(request('hiker://page/cla1')).rule)\n        break;\n}\n}catch(e){\n    log(e.message)\n    //log(getMyVar('a'))\n    if(getMyVar('a') == ''){\n        var html = apiview.gethtml('https://bcebosorg.gz.bcebos.com/cloud/app/serverinfo.json?t=1732171433149') \n        var static_address = html.static_address; log(static_address)\n        var search_address = html.search_address; log(search_address)\n        setItem('static_address',static_address)\n        setItem('search_address',search_address)\n        putMyVar('a','1')\n        refreshPage()\n        toast('域名已更新')\n    }\n}\n\nsetResult(d)","searchFind":"js:\nvar apiview = $.require(\"hanshu\")\nvar html = apiview.getsearchhtml(apiview.search_address+'api/novel/search/books',MY_KEYWORD,MY_PAGE) \nvar list = html.items\nvar d = [];\nlist.forEach( item => {\n    d.push({\n        title: item.bookName.replace(/<word>/g,'').replace(/<\\/word>/g,''),\n        desc: item.authorName+'   '+item.categoryName,\n        content: item.intro,\n        img: apiview.static_address+'/'+item.coverUrl,\n        url: `hiker://page/erji?bookId=${item.bookId}#immersiveTheme#`,\n        col_type: 'movie_1_vertical_pic',\n        extra: {\n            bookId: item.bookId,\n            pageTitle: item.bookName.replace(/<word>/g,'').replace(/<\\/word>/g,'')\n        }\n    })\n})\nsetResult(d)","search_url":"hiker://empty##fypage##**","group":"F听书","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"首页\",\"path\":\"home\",\"rule\":\"if(MY_PAGE == '1'){\\nvar img = 'https://iconfont.tyrantg.com/api/illustrate.svg?svg_string=%3Csvg%20class%3D%22icon%22%20style%3D%22width%3A%201em%3Bheight%3A%201em%3Bvertical-align%3A%20middle%3Bfill%3A%20currentColor%3Boverflow%3A%20hidden%3B%22%20viewBox%3D%220%200%201024%201024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M508.288%2061.056A451.392%20451.392%200%200%200%2057.408%20512a451.456%20451.456%200%200%200%20450.88%20450.944c248.64%200%20450.944-202.304%20450.944-450.944A451.456%20451.456%200%200%200%20508.288%2061.056z%20m0%20838.592A388.096%20388.096%200%200%201%20120.64%20512a388.032%20388.032%200%200%201%20387.648-387.648A388.096%20388.096%200%200%201%20896%20512a388.096%20388.096%200%200%201-387.648%20387.648zM313.152%20452.672a59.328%2059.328%200%201%200%200%20118.656%2059.328%2059.328%200%200%200%200-118.656z%20m195.2%200a59.328%2059.328%200%201%200-0.064%20118.656%2059.328%2059.328%200%200%200%200-118.656z%20m195.072%200a59.328%2059.328%200%201%200%200%20118.656%2059.328%2059.328%200%200%200%200-118.656z%22%20fill%3D%22%23B7BAC8%22%20%2F%3E%3C%2Fsvg%3E'; \\nvar html = apiview.gethtml(apiview.static_address+'api/novel/lib/updated/list/5.json'); \\nvar list = html.items\\nd.push({\\n    title: '最近更新',\\n    img: img,\\n    url: 'hiker://page/ckgd?page=fypage#noHistory#',\\n    col_type: 'text_icon',\\n    extra: {\\n        id: 'updated'\\n    }\\n})\\nlist.slice(0,6).forEach( item => {\\n    d.push({\\n        title: item.bookName,\\n        desc: item.categoryName,\\n        img: apiview.static_address+item.coverUrl,\\n        url: `hiker://page/erji?bookId=${item.bookId}#immersiveTheme#`,\\n        extra: {\\n            bookId: item.bookId,\\n            pageTitle: item.bookName\\n        }\\n    })\\n})\\nvar html = apiview.gethtml(apiview.static_address+'api/novel/lib/hot/list/1.json'); \\nvar list = html.items\\nd.push({\\n    title: '热门榜单',\\n    img: img,\\n    url: 'hiker://page/ckgd?page=fypage#noHistory#',\\n    col_type: 'text_icon',\\n    extra: {\\n        id: 'hot'\\n    }\\n})\\nlist.slice(0,6).forEach( item => {\\n    d.push({\\n        title: item.bookName,\\n        desc: item.categoryName,\\n        img: apiview.static_address+item.coverUrl,\\n        url: `hiker://page/erji?bookId=${item.bookId}#immersiveTheme#`,\\n        extra: {\\n            bookId: item.bookId,\\n            pageTitle: item.bookName\\n        }\\n    })\\n})\\nvar html = apiview.gethtml(apiview.static_address+'api/novel/lib/storytelling/list/1.json'); \\nvar list = html.items\\nd.push({\\n    title: '评书经典',\\n    img: img,\\n    url: 'hiker://page/ckgd?page=fypage#noHistory#',\\n    col_type: 'text_icon',\\n    extra: {\\n        id: 'storytelling'\\n    }\\n})\\nlist.slice(0,6).forEach( item => {\\n    d.push({\\n        title: item.bookName,\\n        desc: item.categoryName,\\n        img: apiview.static_address+item.coverUrl,\\n        url: `hiker://page/erji?bookId=${item.bookId}#immersiveTheme#`,\\n        extra: {\\n            bookId: item.bookId,\\n            pageTitle: item.bookName\\n        }\\n    })\\n})\\nvar html = apiview.gethtml(apiview.static_address+'api/novel/lib/voicenovel/list/1.json'); \\nvar list = html.items\\nd.push({\\n    title: '有声小说',\\n    img: img,\\n    url: 'hiker://page/ckgd?page=fypage#noHistory#',\\n    col_type: 'text_icon',\\n    extra: {\\n        id: 'voicenovel'\\n    }\\n})\\nlist.reverse().slice(0,6).forEach( item => {\\n    d.push({\\n        title: item.bookName,\\n        desc: item.categoryName,\\n        img: apiview.static_address+item.coverUrl,\\n        url: `hiker://page/erji?bookId=${item.bookId}#immersiveTheme#`,\\n        extra: {\\n            bookId: item.bookId,\\n            pageTitle: item.bookName\\n        }\\n    })\\n})\\n}\\ntry{\\nvar html = apiview.gethtml(apiview.static_address+'api/novel/lib/recommend/list/'+MY_PAGE+'.json'); \\nvar list = html.items\\nif(MY_PAGE == '1'){\\nd.push({\\n    title: '更多推荐',\\n    img: img,\\n    url: 'hiker://page/ckgd?page=fypage#noHistory#',\\n    col_type: 'text_icon',\\n    extra: {\\n        id: 'recommend'\\n    }\\n})\\n}\\nlist.forEach( item => {\\n    d.push({\\n        title: item.bookName+'\\\\n'+item.categoryName,\\n        desc: item.authorName+'\\\\n'+item.latestChapterName,\\n        img: apiview.static_address+item.coverUrl,\\n        url: `hiker://page/erji?bookId=${item.bookId}#immersiveTheme#`,\\n        col_type: 'movie_1_vertical_pic',\\n        extra: {\\n            bookId: item.bookId,\\n            pageTitle: item.bookName\\n        }\\n    })\\n})\\n}catch(e){}\"},{\"col_type\":\"movie_3\",\"name\":\"函数\",\"path\":\"hanshu\",\"rule\":\"const apiview = {\\n    color: (test) => {\\n        return '<font color=\\\"#FA7298\\\">' + test + '</front>';\\n    },\\n    strong: (test) => {\\n        return '<strong>' + test + '</strong>';\\n    },\\n    small: (test) => {\\n        return '<small>' + test + '</small>';\\n    },\\n    center: (test) => {\\n        return '<p style=\\\"text-align: center;\\\">' + test + '</p>'\\n    },\\n    big: (test) => {\\n        return '<big>' + test + '</big>';\\n    },\\n    grey: (text) => {\\n        return \\\"<font color='grey'>\\\" + text + \\\"</font>\\\";\\n\\n    },\\n    gray: (test) => {\\n        return \\\"<font color='gray'>\\\" + test + \\\"</font>\\\";\\n    },\\n    rich: (test) => {\\n        return \\\"‘‘’’\\\" + test;\\n    },\\n    addressTag: (url, text) => {\\n        return \\\"<a href='\\\" + url + \\\"'>\\\" + text + \\\"</a>\\\"\\n    },\\n    empty: \\\"hiker://empty\\\",\\n    noLoad: \\\"#noLoading#\\\",\\n    key: \\\"CCDEPGAM\\\",\\n    key1: \\\"O0BXMSRI\\\",\\n    key2: \\\"APLGTY6D\\\",\\n    key3: \\\"OT7HLQHR\\\",\\n    key4: \\\"ERG7F5KP\\\",\\n    key5: \\\"N0E35150\\\",\\n    static_address: getItem(\\\"static_address\\\"),\\n    search_address: getItem(\\\"search_address\\\"),\\n    timestamp: () => Math.floor(new Date().getTime() / 1000),\\n    t10: () => apiview.timestamp().toString(),\\n    t13: () => apiview.t10() + '000',\\n    /**\\n     * 格式化时间戳为标准时间\\n     * @param {number|string} timestamp - 秒级或毫秒级时间戳（支持科学计数法）\\n     * @returns {string} - 返回格式化后的时间 \\\"YYYY-MM-DD HH:MM:SS\\\"\\n     */\\n    formatTimestamp: (timestamp) => {\\n        // 统一将时间戳解析为数字\\n        const ts = Number(timestamp);\\n        if (isNaN(ts)) {\\n            throw new Error(\\\"Invalid timestamp format\\\");\\n        }\\n\\n        // 判断时间戳是秒级（10位）还是毫秒级（13位）\\n        const millis = ts < 1e12 ? ts * 1000 : ts;\\n\\n        // 创建日期对象\\n        const date = new Date(millis);\\n\\n        // 格式化日期和时间，确保补零\\n        const pad = (num) => String(num).padStart(2, '0');\\n        return `${date.getFullYear()}-${pad(date.getMonth() + 1)}-${pad(date.getDate())} ` +\\n            `${pad(date.getHours())}:${pad(date.getMinutes())}:${pad(date.getSeconds())}`;\\n    },\\n    Decrypt: (word,keyy) => {\\n        let CryptoUtil = $.require(\\\"hiker://assets/crypto-java.js\\\");\\n        let key = CryptoUtil.Data.parseUTF8(keyy);\\n        let decrypted = CryptoUtil.DES.decrypt(word, key, {\\n            mode: \\\"DES/ECB/PKCS7Padding\\\"\\n        });\\n        return decrypted.toString();\\n    },\\n    gethtml: (url) => {\\n        var html = fetch(url,{\\n            headers: {\\n              \\\"user-agent\\\": \\\"Dart/3.3 (dart:io)\\\",\\n              \\\"userid\\\": \\\"\\\",\\n              //\\\"accept-encoding\\\": \\\"gzip\\\",\\n              \\\"channel\\\": \\\"\\\",\\n              \\\"uuid\\\": \\\"de5aeeb4908adda3\\\",\\n              \\\"rtime\\\": \\\"1732171432861\\\",\\n              //\\\"rtime\\\": apiview.t13(),\\n              \\\"versioncode\\\": \\\"38\\\",\\n              \\\"sign\\\": \\\"3051d24dd714bc40abe7a557c889365b\\\",\\n              //\\\"sign\\\": md5('com.vo.icea'+apiview.t13()+apiview.t13()),\\n              \\\"ctime\\\": \\\"1732171433149\\\",\\n              //\\\"ctime\\\": apiview.t13(),\\n              \\\"packagesign\\\": \\\"07dad6ad1cbf65a4aa56595518e58bbd3c6e0cea\\\",\\n              \\\"packagename\\\": \\\"com.vo.icea\\\",\\n              \\\"host\\\": \\\"bcebosorg.gz.bcebos.com\\\",\\n              \\\"versionname\\\": \\\"1.3.8\\\"\\n            },\\n            method: 'GET'\\n        }); //log(html)\\n        var html1 = JSON.parse(html)\\n        var token = html1.safety.token; //log(token)\\n        var safetyData = html1.safetyData; //log(safetyData)\\n        if(/app/.test(url)){\\n            var key = apiview.key\\n        }else if(/list/.test(url)){\\n            var key = apiview.key1\\n        }else if(/all/.test(url)){\\n            var key = apiview.key2\\n        }else if(/info/.test(url)){\\n            var key = apiview.key3\\n        }else if(/chapters/.test(url)){\\n            var key = apiview.key4\\n        }else if(/category/.test(url)){\\n            var key = apiview.key5\\n        }\\n        var html2 = apiview.Decrypt(safetyData,key);\\n        var html3 = JSON.parse(html2); //log(html3)\\n        return html3\\n    },\\n    getsearchhtml: (url,word,page) => {\\n        var html = fetch(url,{\\n            headers: {\\n              \\\"user-agent\\\": \\\"Dart/3.3 (dart:io)\\\",\\n              \\\"userid\\\": \\\"\\\",\\n              //\\\"accept-encoding\\\": \\\"gzip\\\",\\n              \\\"channel\\\": \\\"\\\",\\n              \\\"uuid\\\": \\\"de5aeeb4908adda3\\\",\\n              \\\"rtime\\\": \\\"1732171432861\\\",\\n              //\\\"rtime\\\": apiview.t13(),\\n              \\\"versioncode\\\": \\\"38\\\",\\n              \\\"sign\\\": \\\"3051d24dd714bc40abe7a557c889365b\\\",\\n              //\\\"sign\\\": md5('com.vo.icea'+apiview.t13()+apiview.t13()),\\n              \\\"ctime\\\": \\\"1732171433149\\\",\\n              //\\\"ctime\\\": apiview.t13(),\\n              \\\"packagesign\\\": \\\"07dad6ad1cbf65a4aa56595518e58bbd3c6e0cea\\\",\\n              \\\"packagename\\\": \\\"com.vo.icea\\\",\\n              \\\"host\\\": \\\"bcebosorg.gz.bcebos.com\\\",\\n              \\\"versionname\\\": \\\"1.3.8\\\"\\n            },\\n            body: JSON.stringify({\\\"relationType\\\":1,\\\"relationId\\\":\\\"\\\",\\\"key\\\":word,\\\"page\\\":page,\\\"appVersion\\\":\\\"1.3.8\\\",\\\"appChannel\\\":\\\"\\\",\\\"appKey\\\":\\\"com.vo.icea\\\",\\\"clientTime\\\":1732171433149,\\\"deviceBrand\\\":\\\"Redmi\\\",\\\"deviceType\\\":\\\"22021211RC\\\",\\\"ipAddr\\\":\\\"192.168.50.202\\\",\\\"netType\\\":\\\"mobile\\\",\\\"platform\\\":0,\\\"systemVersion\\\":\\\"Android 12\\\",\\\"uuid\\\":\\\"de5aeeb4908adda3\\\",\\\"userId\\\":\\\"\\\"}),\\n            method: 'POST'\\n        }); //log(html)\\n        var html1 = JSON.parse(html)\\n        var token = html1.safety.token; //log(token)\\n        var safetyData = html1.safetyData; //log(safetyData)\\n        var html2 = apiview.Decrypt(safetyData,'O0BXMSRI');\\n        var html3 = JSON.parse(html2); //log(html3)\\n        return html3\\n    },\\n    gethtml1: (url,params) => {\\n        var html = fetch(url,{\\n            headers: {\\n              //\\\"user-agent\\\": \\\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36\\\",\\n              //\\\"content-type\\\": \\\"application/x-www-form-urlencoded\\\",\\n              //\\\"accept-encoding\\\": \\\"gzip\\\",\\n              //\\\"content-length\\\": \\\"387\\\",\\n              \\\"referer\\\": \\\"https://apk-lb.iiszg.com/\\\",\\n              //\\\"host\\\": \\\"apk-lb-play.fodexin.com\\\"\\n            },\\n            body: 'version=1.1.7&params='+params,\\n            method: 'POST'\\n        }); \\n        var html1 = JSON.parse(html)\\n        return html1\\n    },\\n    lazy: (input) => {\\n        var lazy = $(input).lazyRule(() => {\\n            function getUnixTimestamp() {\\n                const now = new Date();\\n                // 获取年月日时分，确保秒和毫秒都为 0\\n                now.setSeconds(0, 0);\\n                // 获取 10 位 Unix 时间戳\\n                const timestamp = Math.floor(now.getTime() / 1000);\\n                // 强制转换为字符串后返回\\n                return timestamp.toString();\\n            }\\n            var params1 = JSON.stringify({\\\"m\\\":\\\"play\\\",\\\"aid\\\":base64Decode(input).split('_')[2],\\\"pid\\\":base64Decode(input).split('_')[3],\\\"t\\\":md5(md5('play'+base64Decode(input).split('_')[2]+base64Decode(input).split('_')[3])+'1449682949'+getUnixTimestamp())}); //log(params1) \\n            var rsakey = 'MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAtSwotbu7UEonUCzCsJXPSpYOrkuMnpyk24PBQskkcwYZsUTwbh8Y9vHuPIerh3AfZZ1luFV9yPC282xiNX+/+IAzWHWG6M+dWmJnDyybeUVTh7H7YVM31eSR9TFT4VASr7NftgCv7hfS2mVNL0sxRrMSPSXa6SbjkIeW4GTpYpWKehKfaqrgDwVfFCu67ogL9JLIdDxvWthIe42uUMnz4II1/pdrPtWRu0CDjaxvsLz26UdMGSL3gFEloaJhp4KuIPK4RlIx+9t28H00+3IpeVirmiayDYJQe1cjiDKoERSkLubJRD2yj5X3trGmgXex3QkcRtx5UNXYkLEuEMNGiwIDAQAB'; \\n            var params = rsaEncrypt(params1, rsakey); //log(params)\\n            var html = $.require(\\\"hanshu\\\").gethtml1('https://apk-lb-play.fodexin.com/api2/web/index.php/?r=api',params)\\n            var play = html.data.url\\n            return JSON.stringify({\\n                urls: [play],\\n                headers: [{\\\"referer\\\": \\\"https://apk-lb.iiszg.com/\\\"}]\\n            })\\n        })\\n        return lazy\\n    },\\n    setDesc: (d, desc, num) => {\\n        //log(desc)\\n        if (desc == undefined) {\\n            return;\\n        }\\n        desc = desc.constructor == Array ? desc.join('<br>') : desc;\\n        if (desc.replace(/(<br>|\\\\s+|<\\\\/?p>|&nbsp;)/g, '').length == 0) {\\n            return;\\n        }\\n        const mark = 'desc';\\n        num = typeof(num) == 'undefined' ? 100 : num\\n        desc = desc.startsWith('　　') ? desc : '　　' + desc;\\n        desc = desc.replace(/'/g, \\\"&#39;\\\");\\n        desc = desc.replace(/\\\\r\\\\n/g, \\\"<br>\\\");\\n        desc = desc.replace(/\\\\r/g, \\\"<br>\\\");\\n        desc = desc.replace(/\\\\n/g, \\\"<br>\\\");\\n\\n        function substr(str, maxLength) {\\n            let len = 0;\\n            for (let i = 0; i < str.length; i++) {\\n                if (str.charCodeAt(i) > 255) {\\n                    len += 2;\\n                } else {\\n                    len++;\\n                }\\n                if (len > maxLength) {\\n                    return str.slice(0, i) + '...';\\n                }\\n            }\\n            return str;\\n        }\\n        let sdesc = substr(desc, num);\\n        var colors = {\\n            show: \\\"black\\\",\\n            hide: \\\"grey\\\"\\n        }\\n        var lazy = $(`#noLoading#`).lazyRule((dc, sdc, m, cs) => {\\n            var show = storage0.getItem(m, '0');\\n            var title = findItem('desc').title;\\n            var re = /(<\\\\/small><br>.*?>).+/g;\\n            var exp = '展开:';\\n            var ret = '收起:';\\n            if (show == '1') {\\n                updateItem('desc', {\\n                    title: title\\n                        .replace(ret, exp)\\n                        .replace(re, '$1' + sdc + '</small>')\\n                        .replace(/(<\\\\/small><br>\\\\<font color=\\\").*?(\\\">)/, '$1' + cs.hide + '$2')\\n                })\\n                storage0.setItem(m, '0');\\n            } else {\\n                updateItem('desc', {\\n                    title: title\\n                        .replace(exp, ret)\\n                        .replace(re, '$1' + dc + '</small>')\\n                        .replace(/(<\\\\/small><br>\\\\<font color=\\\").*?(\\\">)/, '$1' + cs.show + '$2')\\n                })\\n                storage0.setItem(m, '1');\\n            }\\n            return `hiker://empty`\\n        }, desc, sdesc, mark, colors)\\n        var sc = storage0.getItem(mark, '0') == '0' ? '展开:' : '收起:';\\n        var dc = storage0.getItem(mark, '0') == '0' ? sdesc : desc;\\n        var cs = storage0.getItem(mark, '0') == '0' ? colors.hide : colors.show;\\n        d.push({\\n            title: '' + '<b><font color=\\\"#098AC1\\\">∷剧情简介\\t</font></b>' + \\\"<small><a style='text-decoration: none;' href='\\\" + lazy + \\\"'>\\\" + sc + '</a></small><br><font color=\\\"' + cs + '\\\">' + `${dc}` + '</small>',\\n            col_type: 'rich_text',\\n            extra: {\\n                id: 'desc',\\n                lineSpacing: 6,\\n                textSize: 15,\\n                lineVisible: true,\\n            }\\n        })\\n    }\\n}\\n\\n$.exports = apiview;\"},{\"col_type\":\"movie_3\",\"name\":\"分类\",\"path\":\"cla\",\"rule\":\"var html = apiview.gethtml(apiview.static_address+'api/novel/lib/category/condition.json'); //log(html) \\n/*\\nlog(getMyVar('a','0'))\\nlog(getMyVar('b','0'))\\nlog(getMyVar('c',html[getMyVar('a','0')].categorys[0].key))\\n*/\\nif(MY_PAGE == '1'){\\nd.push({\\n    col_type:\\\"blank_block\\\"\\n})\\nhtml.forEach( (item,index) => {\\n    d.push({\\n        title: getMyVar('a','0')==index? \\\"““\\\"+item.title+\\\"””\\\":item.title,\\n        url: $('#noLoading#').lazyRule((index) => {\\n            putMyVar('a',index)\\n            clearMyVar('b')\\n            clearMyVar('c')\\n            refreshPage()\\n            return 'hiker://empty'\\n        },index),\\n        col_type: 'scroll_button'\\n    })\\n})\\nd.push({\\n    col_type:\\\"blank_block\\\"\\n})\\nhtml[getMyVar('a','0')].categorys.forEach( (item,index) => {\\n    d.push({\\n        title: getMyVar('b','0')==index? \\\"““\\\"+item.name+\\\"””\\\":item.name,\\n        url: $(item.key+'#noLoading#').lazyRule((index) => {\\n            putMyVar('b',index)\\n            putMyVar('c',input)\\n            refreshPage()\\n            return 'hiker://empty'\\n        },index),\\n        col_type: 'scroll_button'\\n    })\\n})\\n}\\ntry{\\nvar html = apiview.gethtml(apiview.static_address+'api/novel/lib/books/'+getMyVar('c',html[getMyVar('a','0')].categorys[0].key)+'/all/hot/'+MY_PAGE+'.json'); //log(html) \\nvar list = html.items\\nlist.forEach( item => {\\n    d.push({\\n        title: item.bookName+'\\\\n'+item.authorName,\\n        desc: item.intro,\\n        img: apiview.static_address+item.coverUrl,\\n        url: `hiker://page/erji?bookId=${item.bookId}#immersiveTheme#`,\\n        col_type: 'movie_1_vertical_pic',\\n        extra: {\\n            bookId: item.bookId,\\n            pageTitle: item.bookName\\n        }\\n    })\\n})\\n}catch(e){}\"},{\"col_type\":\"movie_3\",\"name\":\"书架\",\"path\":\"cla1\",\"rule\":\"if(MY_PAGE == '1'){\\nd.push({\\n    title: '收藏',\\n    url: 'hiker://collection?rule='+MY_RULE.title,\\n    col_type: 'text_2'\\n})\\nd.push({\\n    title: '历史',\\n    url: 'hiker://history?rule='+MY_RULE.title,\\n    col_type: 'text_2'\\n})\\nvar html = request('hiker://collection?rule='+MY_RULE.title); //log(html) \\nvar html1 = JSON.parse(html); //log(html1)\\n// 使用 filter 筛选符合条件的项\\nvar filteredItems = html1.filter(item => {\\n    // 解析 item.params\\n    let parsedParams = JSON.parse(item.params);\\n    // 筛选条件：parsedParams.title === MY_RULE.title && item.lastClick 存在\\n    return parsedParams.title === MY_RULE.title;\\n});\\n// 遍历筛选后的结果\\nfilteredItems.forEach(item => {\\n    let lastClick = item.lastClick == undefined ? '无足迹' : item.lastClick.split('@@')[0]\\n    let parsedParams = JSON.parse(item.params); // 再次解析\\n    d.push({\\n        title: item.mTitle,\\n        desc: lastClick + '\\\\n' + apiview.formatTimestamp(item.time), // 显示时间戳\\n        img: item.picUrl,\\n        url: `hiker://page/erji?bookId=${JSON.parse(parsedParams.params).bookId}#immersiveTheme#`,\\n        col_type: 'movie_1_vertical_pic',\\n        extra: parsedParams.params // 携带 extra 参数\\n    });\\n});\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"二级\",\"path\":\"erji\",\"rule\":\"js:\\n/*\\naddListener(\\\"onClose\\\", $.toString(() => {\\n    let keys = listMyVarKeys(); //log(keys)\\n    for (let it of keys) {\\n        clearMyVar(\\\"hiker://page/erji#immersiveTheme#\\\");\\n    }\\n}))\\n*/\\nvar apiview = $.require(\\\"hanshu\\\");\\nvar data = apiview.gethtml(apiview.static_address + 'api/novel/book/info/' + MY_PARAMS.bookId + '.json');\\nvar d = [];\\nd.push({\\n    title: data.bookName + '\\\\n作者：' + data.authorName,\\n    desc: '类型：' + data.categoryName + '\\\\n最新：' + data.latestChapterName,\\n    pic_url: apiview.static_address + data.coverUrl,\\n    url: 'hiker://empty',\\n    col_type: 'movie_1_vertical_pic_blur',\\n    extra: {\\n        gradient: true\\n    }\\n})\\napiview.setDesc(d, data.intro)\\nvar html = apiview.gethtml(apiview.static_address + '/api/novel/book/chapters/' + MY_PARAMS.bookId + '.json');\\nvar list = html.chapters\\n\\n/**\\n * 分页函数，将数组按指定数量分成多个页\\n * @param {Array} data - 需要分页的数组\\n * @param {number} itemsPerPage - 每页显示的项目数量\\n * @returns {Array} - 分页后的二维数组，每个子数组为一页\\n */\\nfunction paginateArray(data, itemsPerPage) {\\n    const totalPages = Math.ceil(data.length / itemsPerPage);\\n    const paginatedArray = [];\\n    for (let i = 0; i < totalPages; i++) {\\n        paginatedArray.push(data.slice(i * itemsPerPage, (i + 1) * itemsPerPage));\\n    }\\n    return paginatedArray;\\n}\\n\\n// 示例用法\\nvar itemsPerPage = 50; // 每页显示的数量\\nvar lists = paginateArray(list, itemsPerPage); // 分页后的结果\\n\\nvar tabs = []\\n// 遍历每一页的数据\\nlists.forEach((page, index) => {\\n    tabs.push(`第${index + 1}页`);\\n})\\n\\nfunction setTabs(tabs, vari) {\\n    d.push({\\n        title: (getVar('shsort') == '1') ? '““””<b><span style=\\\"color: #FF0000\\\">逆序</span></b>' : '““””<b><span style=\\\"color: #1aad19\\\">正序</span></b>',\\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\\n        col_type: 'scroll_button'\\n    })\\n    d.push({\\n        title: '““””<b><span style=\\\"color: #FF0000\\\">样式</span></b>',\\n        url: $([\\\"text_1\\\", \\\"text_2\\\", \\\"text_3\\\", \\\"text_4\\\", \\\"开启分页\\\", \\\"关闭分页\\\"], 2).select((MY_URL) => {\\n            if (input == '开启分页') {\\n                refreshPage();\\n                putMyVar(\\\"分页\\\", \\\"1\\\")\\n            } else if (input == '关闭分页') {\\n                refreshPage();\\n                putMyVar(\\\"分页\\\", \\\"0\\\")\\n            } else {\\n                putMyVar(\\\"col_\\\" + MY_URL, input);\\n                for (var i = 0; i < 120; i++) {\\n                    updateItem(\\\"playlist_\\\" + i, {\\n                        col_type: input\\n                    });\\n                }\\n            }\\n            return \\\"hiker://empty\\\"\\n        }, MY_URL),\\n        col_type: 'scroll_button'\\n    })\\n\\n    var pagenum = tabs.length;\\n    if (getMyVar(\\\"分页\\\", \\\"1\\\") == \\\"1\\\") {\\n        d.push({\\n            title: getMyVar(MY_URL, '0') == \\\"0\\\" ? \\\"↪️尾页\\\" : \\\"⏮️上页\\\",\\n            url: $(\\\"#noLoading##noHistory#\\\").lazyRule((myurl, num) => {\\n                var fold = getMyVar(myurl, '0')\\n                if (fold == \\\"0\\\") {\\n                    putMyVar(myurl, num - 1);\\n                } else {\\n                    var id = parseInt(getMyVar(myurl, '0')) - 1;\\n\\n                    putMyVar(myurl, id);\\n                }\\n                refreshPage();\\n                return \\\"hiker://empty\\\";\\n            }, MY_URL, pagenum),\\n            col_type: \\\"text_4\\\"\\n        }, {\\n            title: tabs[getMyVar(MY_URL, '0')],\\n            url: $(tabs, 2).select((myurl, tabs) => {\\n                for (var i in tabs) {\\n                    if (tabs[i] == input) {\\n                        putMyVar(myurl, i)\\n                    }\\n                }\\n\\n                refreshPage()\\n                return \\\"hiker://empty\\\"\\n            }, MY_URL, tabs),\\n            col_type: \\\"text_2\\\"\\n        }, {\\n            title: (parseInt(getMyVar(MY_URL, '0')) + 1) == pagenum ? \\\"首页↩️\\\" : \\\"下页⏭️\\\",\\n            url: $(\\\"#noLoading##noHistory#\\\").lazyRule((myurl, num) => {\\n                var pageNum = parseInt(getMyVar(myurl, '0')) + 1;\\n                putMyVar(myurl, pageNum);\\n                if (pageNum == num) {\\n                    putMyVar(myurl, \\\"0\\\");\\n                };\\n                refreshPage();\\n                return \\\"hiker://empty\\\";\\n            }, MY_URL, pagenum),\\n            col_type: \\\"text_4\\\"\\n        })\\n    }\\n}\\n\\n\\nfunction setLists(lists, list, index) {\\n    if (getMyVar(\\\"分页\\\", \\\"1\\\") == \\\"1\\\") {\\n\\n        list = lists[index]\\n    }\\n\\n\\n    if (getVar('shsort') == '1') {\\n        var list = list.reverse();\\n    }\\n    for (var j in list) {\\n        d.push({\\n            title: list[j].chapterName,\\n            url: apiview.lazy(list[j].chapterId),\\n            col_type: getMyVar(\\\"col_\\\" + MY_URL, \\\"text_2\\\"),\\n            extra: {\\n                id: 'playlist_' + j\\n            }\\n        })\\n    }\\n}\\n\\nsetTabs(tabs, MY_URL);\\nsetLists(lists, list, getMyVar(MY_URL, '0'));\\n\\nsetResult(d)\"},{\"col_type\":\"movie_3\",\"name\":\"查看更多\",\"path\":\"ckgd\",\"rule\":\"js:\\nvar d = [];\\nvar apiview = $.require(\\\"hanshu\\\");\\nvar html = apiview.gethtml(apiview.static_address+'api/novel/lib/'+MY_PARAMS.id+'/list/'+MY_PAGE+'.json'); \\nvar list = html.items\\nlist.forEach( item => {\\n    d.push({\\n        title: item.bookName+'\\\\n'+item.categoryName,\\n        desc: item.authorName+'\\\\n'+item.latestChapterName,\\n        img: apiview.static_address+item.coverUrl,\\n        url: `hiker://page/erji?bookId=${item.bookId}#immersiveTheme#`,\\n        col_type: 'movie_1_vertical_pic',\\n        extra: {\\n            bookId: item.bookId,\\n            pageTitle: item.bookName\\n        }\\n    })\\n})\\nsetResult(d)\"},{\"col_type\":\"text_1\",\"name\":\"获取分类头部\",\"path\":\"classicHeader\",\"rule\":\"js:\\nlet d = [];\\n\\nfunction putKeyIntoMap(key, value) {\\n    const keyMap = JSON.parse(getVar(\\\"cryptor_all_key_Map\\\", \\\"{}\\\"));\\n    keyMap[key] = value;\\n    putVar(\\\"cryptor_all_key_Map\\\", JSON.stringify(keyMap));\\n}\\n\\nfunction getHeaderFromJSONObject(obj) {\\n\\n    var getRangeColors = function() {\\n        return ('00000' + (Math.random() * 0x1000000 << 0).toString(16)).substr(-6);\\n    }\\n    var tindex = storage0.getMyVar('tindex', 0)\\n    var titles = [\\\"首页\\\", \\\"分类\\\", \\\"书架\\\"]\\n    var imgs = [\\\"https://img.vinua.cn/images/IdlUv.th.png\\\", \\\"https://img.vinua.cn/images/Idqlk.th.png\\\", \\\"https://img.vinua.cn/images/Id29J.th.png\\\"]\\n    titles = titles.map((x, i) => {\\n        var title = i == tindex ? `<b><font color=\\\"#9370DB\\\">${x}</font></b>` : x\\n        return title\\n    })\\n    if (MY_PAGE == 1) {\\n        for (var i = 0; i < titles.length; i++) {\\n            var mytitle = titles[i];\\n            d.push({\\n                title: mytitle,\\n                url: $('#noLoading#').lazyRule((i) => {\\n                    storage0.putMyVar('tindex', i)\\n                    refreshPage()\\n                    return 'hiker://empty'\\n                }, i),\\n                img: imgs[i],\\n                col_type: \\\"icon_small_3\\\"\\n            });\\n        }\\n    }\\n    \\n    for (let key in obj) {\\n        d.push({\\n            title: key == getVar(\\\"cryptor\\\", Object.keys(obj)[0]) ? \\\"““\\\" + key + \\\"””\\\" : key,\\n            url: $(\\\"#noLoading#\\\").lazyRule((key) => {\\n                putVar(\\\"cryptor\\\", key);\\n                putVar(\\\"cryptor_cur_index\\\", key);\\n                refreshPage(false);\\n                return \\\"hiker://empty\\\"\\n            }, key),\\n            col_type: \\\"scroll_button\\\"\\n        });\\n    }\\n    d.push({\\n        col_type: \\\"blank_block\\\"\\n    });\\n    let key = getVar(\\\"cryptor\\\", Object.keys(obj)[0]);\\n    putVar(\\\"cryptor_cur_index\\\", key);\\n    getNextHeaderFromJSONArray(key, obj[key]);\\n    return d;\\n}\\n\\nfunction getNextHeaderFromJSONArray(key, array) {\\n    if (array == undefined || array.length == 0) {\\n        return;\\n    }\\n    let nextHeader = {};\\n    let defaultValue = \\\"\\\";\\n    defaultValue = array[0];\\n    if (Object.prototype.toString.call(array[0]) === '[object Object]') {\\n        defaultValue = Object.keys(array[0])[0];\\n    }\\n    putKeyIntoMap(\\\"cryptor@@\\\" + key, getVar(\\\"cryptor@@\\\" + key, defaultValue))\\n    putVar(\\\"cryptor_cur_index\\\", key + \\\"@@\\\" + getVar(\\\"cryptor@@\\\" + key, defaultValue));\\n    for (let value of array) {\\n        if (Object.prototype.toString.call(value) === '[object Object]') {\\n            // log(\\\"valueKeys: \\\"+JSON.stringify(Object.keys(value)[0]))\\n            let valueKey = Object.keys(value)[0];\\n            d.push({\\n                title: valueKey == getVar(\\\"cryptor@@\\\" + key, defaultValue) ? \\\"““\\\" + valueKey + \\\"””\\\" : valueKey,\\n                url: $(\\\"#noLoading#\\\").lazyRule((valueKey, key) => {\\n                    function putKeyIntoMap(key, value) {\\n                        const keyMap = JSON.parse(getVar(\\\"cryptor_all_key_Map\\\", \\\"{}\\\"));\\n                        keyMap[key] = value;\\n                        putVar(\\\"cryptor_all_key_Map\\\", JSON.stringify(keyMap));\\n                    }\\n                    putVar(\\\"cryptor@@\\\" + key, valueKey);\\n                    putVar(\\\"cryptor_cur_index\\\", key + \\\"@@\\\" + valueKey);\\n                    putKeyIntoMap(\\\"cryptor@@\\\" + key, getVar(\\\"cryptor@@\\\" + key, \\\"defaultValue\\\"))\\n                    refreshPage(false);\\n                    return \\\"hiker://empty\\\"\\n                }, valueKey, key),\\n                col_type: \\\"scroll_button\\\"\\n            });\\n            nextHeader[valueKey] = value[valueKey];\\n        } else {\\n            d.push({\\n                title: value == getVar(\\\"cryptor@@\\\" + key, defaultValue) ? \\\"““\\\" + value + \\\"””\\\" : value,\\n                url: $(\\\"#noLoading#\\\").lazyRule((value, key) => {\\n                    function putKeyIntoMap(key, value) {\\n                        const keyMap = JSON.parse(getVar(\\\"cryptor_all_key_Map\\\", \\\"{}\\\"));\\n                        keyMap[key] = value;\\n                        putVar(\\\"cryptor_all_key_Map\\\", JSON.stringify(keyMap));\\n                    }\\n                    putVar(\\\"cryptor@@\\\" + key, value);\\n                    putKeyIntoMap(\\\"cryptor@@\\\" + key, getVar(\\\"cryptor@@\\\" + key, \\\"defaultValue\\\"))\\n                    putVar(\\\"cryptor_cur_index\\\", key + \\\"@@\\\" + value);\\n                    refreshPage(false);\\n                    return \\\"hiker://empty\\\"\\n                }, value, key),\\n                col_type: \\\"scroll_button\\\"\\n            });\\n        }\\n    }\\n\\n    d.push({\\n        col_type: \\\"blank_block\\\"\\n    });\\n    if (nextHeader !== undefined && nextHeader.length != 0) {\\n        getNextHeaderFromJSONArray(key + \\\"@@\\\" + getVar(\\\"cryptor@@\\\" + key, defaultValue), nextHeader[getVar(\\\"cryptor@@\\\" + key, defaultValue)]);\\n    }\\n}\\n\\nlet header = {\\n    /**\\n     * 获取分类头部，返回视界 setResult 用的数组\\n     */\\n    get: function(obj) {\\n        let result = getHeaderFromJSONObject(obj);\\n        //log(\\\"【子页面】\\\" + JSON.stringify(result))\\n        return result;\\n    },\\n    /**\\n\\t   * 页面关闭时需要注册的生命周期，引入依赖后在 addListener 中调用即可\\n\\t   * 例：\\n\\t     const { header } = $.require(\\\"hiker://page/classicHeader\\\");\\n\\t     addListener(\\\"onClose\\\", $.toString((header) => {\\n          header.onClose();\\n        }, header));\\n\\t   */\\n    onClose: function() {\\n        // putVar(\\\"cryptor\\\", \\\"编码\\\");\\n        // putVar(\\\"cryptor@@编码\\\", \\\"佛曰\\\");\\n        let allKeyArr = Object.keys(JSON.parse(getVar(\\\"cryptor_all_key_Map\\\", \\\"{}\\\")));\\n        for (let i in allKeyArr) {\\n            clearVar(allKeyArr[i]);\\n            // log(\\\"【清理后】\\\"+ allKeyArr[i] + \\\": \\\"+JSON.stringify(getVar(allKeyArr[i], \\\"\\\")))\\n        }\\n        clearVar(\\\"cryptor\\\")\\n        clearVar(\\\"cryptor_all_key_Map\\\")\\n    },\\n    /**\\n     * 获取当前已选多级分类，返回的数据格式为：一级分类@@二级分类@@...，可自行做映射获取 url\\n     */\\n    getCurrentIndex: function() {\\n        return getVar(\\\"cryptor_cur_index\\\", \\\"\\\");\\n    }\\n}\\n$.exports.header = header\\n\\n\\n\\n\\n\\n\\n\\n\\n/**\\n * 1. 引入头部依赖\\n */\\nconst { header } = $.require(\\\"hiker://page/classicHeader\\\");\\n/**\\n * 2. 注册关闭页面生命周期\\n */\\naddListener(\\\"onClose\\\", $.toString((header) => {\\n  header.onClose();\\n}, header));\\n\\n/**\\n * 3. 准备好分类数据\\n */\\nlet classic = {\\n    \\\"编码\\\": [\\\"佛曰\\\", \\\"Unicode\\\", \\\"Base64\\\", \\\"ASCII\\\"],\\n    \\\"加密\\\": [{\\n            \\\"AES\\\": [\\\"Pkcs7\\\", \\\"Pkcs5\\\"]\\n        },\\n        \\\"RSA\\\",\\n        {\\n            \\\"DES\\\": [\\\"Pkcs5\\\"]\\n        },\\n    ]\\n}\\n\\n/**\\n * 4. 获取视界分类头部\\n */\\nd = header.get(classic)\\n/**\\n * 5. 获取当前选择的多级分类\\n */\\nlog(header.getCurrentIndex())\"}]","proxy":"","icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIoAAACKCAYAAAB1h9JkAAAAAXNSR0IArs4c6QAAAARzQklUCAgI\nCHwIZIgAABqVSURBVHic7Z15kBzXedh/3+vumb0XuzgXAAkQBHgAkHjLPCIJlGzRPE2CoiLJdimW\nXOU4RyVyJeW4UpWkkjiWZVeiqsSSKolLilJR2VSKoHlKMiVRpmhSZCiCN0WKBEDcu1gsFrs7V3e/\nL3+82d2ZndmjZ2f2MPtXBS6np98x/b7+3ve+9733ICUlJSUlJSUlJSUlJSUlJSVlIXjLXYGUOekG\ndgJtwPllrkvKKmAdsBfILndFUlY+GeAynJZJSZmXXSyDsMhSFzgX+cfv3m4jbzfCNiu6wYBYCyL0\ngm4Es0HV+mIELGBArbI6P2uEmEHQ06KMWsAY1Fo9bTDvGT9+vf3WBw/P8qh2A0eBsda2yDTLKihj\nj9yzV5BbFL1RkJuAjctZnxXIaUGeVuVpFfv97jsOvFrx3S7gFEskLEsuKPmH7rso9uJPo3wWZ6Cl\nLBSRV8B+24v9v2y/6zuHgMuBd4Fiy4tudQEA+qN9/vhE312CfAG4hXRYvlgigYfPjYf/a+8Xvvfu\nyETplVYX2PIGG37s1h4t9XwZlT9BuAQwrS7zfYABLm/P+J/6/G3bg5PnS2+/+s65M60ssKUaZeKx\nu29Va/4nsLmV5bzfiSI7OJqzv7Htsw/9davKaImgjBy4e00QyFdAPteK/FPqoSpivtrhd/y+3PK/\nJ5qde9MFxdkj/fcL3NPsvFPmR+BAR+fZT8nNT0bNzLep9oL+aJ8/Pp4KyXKicE9uov9+/dE+v5n5\nNlVQJib6viWSCslyo3BPLrf2K83Ms2mCMv7I/i+BfKZZ+aUsDlX9x65NmkNTbJTxR/b/MvA90qHv\nykKxxuOmjtseeHaxWS1aUM49cnufT9vroJsWm1dK81F4N6Z47Zo7Hh1ZTD6L1gAe2T9KhWTlIrDD\ntdGi82mciUfuvkYxPyV1ya9oBGIsN3Te9cDzjeaxKI2imD8kFZIVj4Knhv+wmDwa1ijn/+quSz3f\nf0N1ZcW0pMyGqsKe7jsOvNFI6oY1iuf5X0yFZDUhAvLPGk3dsKAo/GqjaVOWB7OINmtIUM4/fO9l\nwLZGC01ZHhS25R+/e3sjaRsSFGP0+kbSpSw/sTX7GknXWNej2lBhKcuPKg295I0JiphUo6xShKUU\nFE09sasWYWlslPFH79sE9DZSWMoKQOkdOXD3mqTJGtAoYapNVjlBJrlWaSAKSlJBaSmCtPXh9e9B\n/CzR0EEoDDu/avPKSNyGqaCsMKRjPe0f+jdIp3vMQfEc+af/APJDTStDldZ3PWq1LWmaJUd88LJI\n0AmmqaGjLcf0XIR0DuCm4QTJ9uGt2dXcMsQkFpTET1GMWUNT1eC8JZanKQxgEBFUDGJ88NqQoBMJ\nupBMNwSdSKYHCbqdkPid6MQJwsOPocVFxe0sGWKC2otec7dFUWzrBQW0L3maeRBBMr3un8ki2S7w\nO1zj+x1I0AVBJybTBZ77q367e6jiIcZHy38RzwnWZG01RtrWUHz566Bx06u+NDR37lWQzqRpGhGU\nbDMrLn47wY678DZdj3htrtG9ADEZMEFZk9RJN8/nqeviYXovdnnFq0BQpM4vabIGVzTx/irJBcXS\nVAE3a/cS7LqvKtOmvj+q6NhRsGEzc20Z9WVi+QU8saCoSFszG1L8ThoVDVWLoOWna90QUi3EBbQ0\nhhZGiM8cJDr25PJ1OwIkUAhiagMG1Ta37qqSeECS3JhF25r5zsfnfo7mTkG23xmq5cZ3DydGw4Jr\n+CiPxEVsmIO4iIbjaHgeLY5C6TxaPIeWzmOLIxAXm66uHc6oFuOhCmIMivuM+IjfUR5ttTtD23d/\niXJEZ16BaHz+ekltk5hsL9p/OWICbDgGhRG0NNaw8AtLIChuRN28RtCJU+Sf+bf4G69DBSiOosWR\nqYZHy5oC67TFpNZoYh0WiunairfxWqRjI+JlINOLaetzIy0v64RmcoQmhknBQmP8U89RePnPIMrP\nmr/4HZj2/prrmct+c9p2UYuWxogOP0Z49Ak0bGQ9uk2cogFBabKRgqKFM4RHHm9ins1HOjaSvfKf\nYnp3MNvvn/WpiIdZfyVe+zrisaNulBf0YDrWQbYfr/tCpHsbpmMDtK+vTe9lqrNrz+Jf+hnMmh0U\nXv7vECUVluQzN6vLG7WMeH27MD0X0fBLonG5OxXMml1kLvsNTOcWJNtDIw0nJsDbdCPZOKL4ytfA\nJtm8ILlGSZeALgjBFs+DLTWWPC4QvvMgmh8CL0vbVV/E69uNZNewqCYQg7flI3hrdiZMuCQapbk2\nytIhEHRgys47CTrBa8eOHUFzp+dJq9iRnxO+9wT+BTe7vKICGuWm/8Z5NMxDlMeG4xBOoKXzaGkU\nzQ+hudOojZBMFsn21/eX1C06Jj7zKnb8KFo4i7fhWry1u6d/lRjM2iuIz76Z4FmsShtlLspjS5Hy\nH3GGrUiVR9YYr+yZDVCvDa9zAOnYgOnYBO0b8Do3Im3ravp6AI1Dij/7MvHgz+auSlyk9Po3KL3+\njUX9Ig1zRMeexN96s9tYVhXBYqMiYksQdDsP8+T9uUGKL/4pGuYAiAZfpOOm/wR++9Q9XvdWknmJ\nVrONYnznkjdB+f+dZ1YynZBZg2nrR9r6kGz5X9ABJusa3wsQL+vSJJwXES8g2H4b8dDB8miqxail\n+Po3iM++gXQOoPlB7MRJKI2icUj7jf8R2tZO354fRG1FvTTERnlMhaAk1+9LolHqDPTnTWKQ7Jry\nbK6b1RW/rTyH043J9qBBFybTA0EXkukCvxOT6S7P/rZYg0WFFvldZiEuEB1/suayZHuRoNq7bsdP\nIGqnhUEMZubLEBcSVqCOV28elkSj+Fs+SrDrk5j2dVSrPSnLwHItOFTs+cOUfvEAK8Huko5NNd2j\nnTiG6vSIxs2aVwuKRkn3I14KjTJpIywQ6Rggu/e3nYey5SgaFcqG5BjEOWwph8R5bDgB0YQbvUQT\naGHEGZrFUbR0rimlS9AJQQ8m2w2+05p4WSTTC5kuTLYPyfSi0QThLw5gx45Upfd6Lprxc2LiidPV\nXWK5a64iTiooS2GjJBASwNkYzRQSG2LHj6HFUWxhBIpny39HnEc3zKG25CYB4xLYCLXh4uZ6Jt3x\nxnceWa8NaVuL6diAtK1D2vpdt5HpLQtHBkym7Nov/5uBZHop/OxPoGykAm6WuwKN8lCqPs9J6jxL\nncPbW58lsVGSYc+/h+ZOObVaFwUbYQtn0fyQM+zyg8QTp/A334C/6caqu6OTz1J69etoHLrBUHml\nvOrkaEyRtrV466/Gjr6DPX9oEbUX/K37yFx8N2qyiF82sE0GxQ1N3W1uVJZI03ZuwevcQnzu7fIF\ng+m+oPqmKIctjVZdUq9OYFNiQVmJox5bIvfUvyDY8hFUfGfdF0fRcBQtTUCUc93FDBtBOgfwPvA7\nVdc0P0TprW+X75+2P6dTKqb3Itqu+9dItg+NipRe+x9u9rgBG0Ta+shc/jkk0z1//EsiRato7iS2\nwn8jXhtkeqrussXzUKo+PENM7ahOw/EkhbMibRQAojzhke8t/H7jEez4NTcqqig3Ov5jNDc4Z9Jg\n++1I1gXhiZ8luPge7MibTlMlxHRsqvJXLARVdY+nbFeojcuz4SWIimiUQ/NDFN/8P27ScxK/w43y\nKpk4URtHUy8G2P4dsFEawevfQ7Dlw1XX7Ni7hEd/OG9aO37UNVK5WzBdm/G2fgz71l8ktlPsxHEI\nxyC7sOhPjQrYkTewhWEonEOLZ12XWhhxmtOGYEPnPJsxHWB6ttWMZuLzR6jRtHUEV+OkUwsr0EZJ\njHgE22+tfmi2RHjocTdXMg/R0R/hb/0YpmvrZIYEW/4eUQMB1loao/jan5e7TW/KLU9pFDq3Emz9\naOXd2OGXKBz8bxDlZs1zNrwN11SFfWpcQseP1vh36glK8ui9lWijJMRffxVm7R4qO/343C+IB19Y\nkOdUwzHiEz/BXPLpqWvSth5v4Aaiw48lq4xa4pPPEJ98puar7Af/0Yx7ITr5XENCgpfFW/dBKn+z\nFs5U2TBT+B211+KkgrIUs8ct9GBKtg9/573l8MhycaUxokOPOL/IQlAlOv4UduxoRcZCZtd9SFtz\nFhBIphuztvrwMps7jR2ZsT2aCEyuFpgDr+dCZIYhqxMn0ULtETxSb4oi8ax28mZvIBCiRTaKCP7A\nDTVT5vHwK0SnnyfJqMXmTpdd5NNpJNODP3Dj7IkWXlH8Cz6GqZiPQS3xqWecbTJ5l99OcMln6Lj5\na7Td+Id46z9Y158CID0Xu7mrqfwUO3poanRXdW8dQVkKG2XFxKOYrq0E22+rXp4R5QkPPd7AZJ0S\nnXwWLZ6tuupvvbmhqapKJOgiGLipavShxXNEx5+qCh7yBj5MZud+p316LyZ71b+cNW7EX7eX6vG1\nJT5bf/NGraedVqRGaQXi41/wy1PrbQFQS3jsh9hzP28gPwNxjujk81VCZjq34G/dx2Lmlrw1O5HO\nLVXX4vOHnOFZgelcX1WOBB34u+5zntvKqravRbqrNxewuUE0d6JO6cZ5hmegS2CjLI0fZR5M99Zy\ntzCdry2cJXrnwfpDWjHleJTAxaMEHZDtc4HJmTWY9vVIxwa8nhn7EXoZgm2fIB583kXvJ0RMgBm4\nHvwK9a8xduilsmd4mvjcOwQaV3U3/vqriPr3OMMcF1/jrbsa01YRUK0WHX3HTUvUlG/qa8QVOepp\nto3itRHs/OQMQ1OJDj8+/bC8LKZ9nZtXaV+HtK93n7P97o3MdIEE5SWlPphyBHwdTPcFeOuvKntr\nkyGdm/HWfaAqby0MEw1VBD2ZDN7aPfgbrwMbg1dtl/gDN04JCl47/qbrql0BcZHw+FP1G1+8+hol\nUbwsrEo/ird2L/6mD1H18KMcZHrIfvB3nWBk+8BrwwTtbs6lzsNaMBLgb/ko0eDPaibc5q3rur2Y\ntsooeSU69TwUhpHubfjrr8DbcC2m+0LnVa7zUknnQHkJh8V0b8GsuaTqe5s7jR2uPp3WdG1GMmuc\nD2emjaKKaJxwgmLV+VGEzI47akYD4neSufjXZknRCDqdUgTTfxle3+XEp3+aqK7euiuqjW0boYUh\nMlf+Ht7ay92wfh6NK0F56C8e3sbrnTasIB5+Ba0IG/DXXUHwgd91wV2l8RobBy3Pjidildko/tZ9\nmP49TcnLLQ6zLoDZlognTqDjx4hHD0FcILP7C1NDUDEZvA1XJhMUMTWNignIXPqbc3Z1dTJy/+3a\nSrD1I9VfxQWi438zfWemG3/X38d0OC0m7dkaP1Y9W2Z+VpmN4q2/svoNnY3JlYI2dtFecQjhGLZ4\nzsWgFEamQhRs7iSaP1O9zsUE+Js/jLf+CkCcUCVdYacWzQ3Bmkurr88WVWhD11WIV16WUSYuAELm\ngpshW70qMDr9Anb03crMa7vZmc+/oaCrVWajxKeexR+4odYRpdZNnRfPYYujaDiG5s+gEyeIx95D\nx487OwYq3rA5emkbUnzl67Rd/XuYzi3EI28SvveDhLVVosEXMBs/NKeNpDaC8fcoHXuK+MTf4G26\nnuzufzBlW8Tn3na+lY3XVaeLS4SH/qo6s3CM6MRTZLoGZg3+soVGBGWV2SjRqeeQ1/4c03c52CI2\nN+SizvNn0HACDccgzKF28YvONT9E4fkvIW19aOEMWkoawwHR6f+H6XrITVpWTjPERdfNnX2DeOgg\ndvRdtBxwFJ34MdgSXu9ObO4U0fGnEL+9ekgMLhRi7Fh1ndUSHn4UDSfIXPrpqfCJKuq4+ednldko\naOziVJLEqiymuNLoVAM2RJSj9Pb/xY68hdlwLV7XZmx+iHjoINHw664bmOlFDvNER39IVBkiIX3Y\n/DCmc6B8zwSlt+6v72G1EdHRH6CFM2R3fx7p3Fz1/KOqrmqhrDIbZVViQ6LBF+DMS1PDXGxMkrko\nLZyj9Po3CXbei+ncRPiLB7Cjb8+hNZX4zMsUXvgymT2fd6MvQPNnsEMvNvIjEqdYdj/KqiWxk6sS\nJR58ATvyOmCcgTtffmqx48cpHvyv+BuugaATO/wKWnwf2Cjvb3RqmWiiNMURwqNPLLLsVR6PkrJU\nrOZ4lJQlZBXHo6QsJas1HiVliVkSjaKLMfdTVgQm8fraVKO8L0ltlJQFsSQ2Sipbq5+lsVFSR8qq\nRxK3YSOCsnIcKSaAmRFfy4nfXhuquCJJ3oYry4VvvPLcmp1XcUlbH9ndn0dNQPT2/cQNzaLOzeSe\n9/MubhfB9O4ic8mn0PwwpTe+UXfx1sphFe8za7o2u2h8v91tCTF+bM77vf7deBt/yW3BmT/jtg5v\n4lErpmMDwSWfBS9D+Pb92POH56hMlmD7r+KtuxKICd/7Ljq6mA18Ws0SzB4rWmh63yMGb/M+/C1u\ndwB/7Cjhz789dxovMxWG6AKWG6+VmACtPJQB8AZuxN/yYUAhHKf48ldnTy8eeB3l6Q0f8ZLtqVLD\n5CpEjVtiEgqSWN0lP4ZFtNAKM6UycFn89ulYj9lTMBVdP71ncWJM7w6yV/5ztDhC8cWvTG2NMb1Q\nXtwOAm4fsLp5KFTNgS3m6FnTuZns1V+EuETx5a9ix483nNdsqGhiQUneWbVgz16hupUFFvAmVS7B\nmL5d/HYyl3ya4OL900sjZi1YCLbfjunagte/p7y+qO5tc0rhzPqKVCwN6d1BZvdv4W3Zh9Tbf20G\n3qbrMT07MH2XubXSLdladSlsFCPFZpsoilY9j6k3dE5hqdYok+m9dXsJdt6LxiVsfpD4xE/mKnh6\nnYwIzNZlTOY/S3VmapSpepuA4OL9+AM3EEQT5M+9hU7UW1M8/ZuqNsrx2hfwHBrA2qS7AzYgWrG2\n4FzYOhplQdI4rVGmbs/2u27LeHgz9hypSS1S1QazRlAk1CiTGYl4Uxv4qfi1i7fqoJVbdSQ8Zm7B\nGJM4cLgRjdKCcV8djTK5Fajfgbf1Y0jQQXT0CbRwdurbejbKpNoXZghB0Elw0Z1uM+Ajf+2On5vc\nmG+y3Nk0RoVGkUw3/rZbwFrCdx9yK/Wgro2iTOc/s829vsvwNn6I+OyrxEMvTQ3BpXJp7TyarFHU\n2sTxk8lHPaoFaXLwUq2NMq1uTd9lZHd/DhCwRcJ33NoXncVGmd5StFr4vAs/QbDrPrch3/lDxGde\nhRkaZTZzoPLN9tZfQ2bnJ0E8dOwI0eALs9oolcJaUVswPv7O/fgbrsHbdB3Fn/57bHl/uhqN0gqE\nxIKSuOsRwxwOhcbQGa+MTqoIcFtaiAGRqi27ql616qXF5W+rhW9yhyQx5aEsuAXelY0xi9BoZf6Z\nLqB8ZmB5BWCNjVLOqFJjVSoGETO9vDXodhsJThU7Q6O0AFkKQQE9lTzNfEjtp0n1XdV4MxujthVm\n0yhTqVSn3/i5bJSZ1ysXJE4J5aTmqKloTf5VGqWqojO6v6XQKA20YWJBCUvN1yh1bZTKV7H6G6a/\nmG4FqaNRqt/IysarfePd51lqV9nKQoUQT9oikNRGqVSBVcK6BBqlkTZMLCh99zx4DpFFLLerZU4/\nyqwPa34bReoIWaVGmVHsgmyUyj3vZ9Mo89ooM35Ypc3Xco2ierrvngdb0vV011xRTXKA3bwoCvEE\nU40Z5aeeqmpYcb1iK28bMuW5jXJT9xDnAUVUq/YZcdfLb/bkLopKxREmWn34QJSfLjesuK6laY1S\nXpejGoMt7+evFo0n9+q37vg3KNenHEWqdnrBly259OU6SEWdk5+asQCMNNR2Cxn1XAi8VnlB4KDC\nLzVSYF1UCY//GK93B+q1E594eqox4pG3iE8+C5ke7ODzU0ni4TeIh14Ev91tfV6eEIyHDhIPvwpR\nAVuxZVZ4+Lt4/XuwhWHs+Xfc7xAIDz+G6dqCLZ6b3jILCE/+Ld66D6Betnwms6tPNHgQf+BNbFxy\nx8uB207r8ON4nQPE4yfQcedUExtSOvw42ewa4qGX0bzbx19tTHj0h0i2j/DoD6BitV946lm89Veh\nccntldLk4+tUaUhQFqLctgIFYGrZ/NjD9/xDEflaIwXOXhNxJ0eIzDhtQ9yZgWLKGqXyesa1dtV1\nps600RlHqInf5uyHSk0j4g5fmqmBEPCzrvuYUR+31+uM+8W462prruNlETtjZyTxXP1tOGM5abk+\n0JRdHGoQfqvr9ge+mTTZQjTKMWAvMAYUAXxfvxvHTe5AVWsatvwFxKU6porOevJV/XyoHyOi6o6k\nrZf/LNfr5q+2flehFqJ8bT4az3LOjjpnYN1fsHg8Y5PvcsjCjdm3gR2TH9pvffAwcGT221NWKEfK\nbZeYhQpKEadZdk1f0oYkM2X5EOG7jaZNMjweA04BuwEU/pg5Bq8pKwxBY+P9l0aTJ/WjjAFHgV3d\ndxx4A/h+owWnLDHK93tu/U4D+8U7GlmkM6lZLj8zWvzjRgtOWVqM4d8tKn2D6caAd7f/+qND+VL0\n+GIqkLIECH/ZcdsDzy4mi8Us+ysCrz723Mn/DCziUOGUFhN78PuLzWTR60M/96Xnn8iX4n+12HxS\nWoOq/pP22x9YtCujaV6z8Ufv/R6qn2hWfilN4YmuOx74lWZk1LQV5/ko/KTAc83KL2WRKM/n42h/\ns7Jrqh/+/AP3rPUy8lOFi5uZb0pClNdsqB/t2X9geP6bF0ZT97Do2X9gONbweoE51kiktBJV/Ump\nzbupmUICLdjspOfOh8905LyPI3yr2XmnzIPwra68//H+X/lOUwPLXNYtZOLR/b+tlj9DWMSRXSnz\nIVBS4XcaCR9IUEZryT22/3pr+Qtg27w3pzTCe0btfR13PtjSgUTLBWWSsYfv3meM+SNVrl+qMv8u\no+iTnpE/WKzHdaEsmaBMknv4vi2W+Ncx8nFVvUHqxeSm1GMM1WdAfqAZ/Wb3LQcGl7LwJReUmUw8\ntP9qa7hJ0BtE5EbVtIsqcwTkbxX9iag+3XXngZeWszLLLigz0Yfv7Bgjc6F4diOxJwDGxL2obETY\nYK0L3zQiomJ7UVkHrEWY3gbAUj2eW87PSh4YRmVYmV7gb0RC1A4ictqqcefqaqwYBrs0OiJ3Ppz0\n6I2UlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlLr8fx/CCKsMQaysAAAAAElFTkSuQmCC"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"函数","path":"hanshu","rule":"var 公共 = {\n    host: \"http://202.63.172.66:5862\",\n    Data: function(url, data) {\n        const e = \"asg#w@!aasdgs2345asga-1_s!as==g\";\n        const api = url.match(/\\/api\\/apps\\/.*?(?=\\?|$)/)[0];\n        let time = String(parseInt(new Date().getTime() / 1000));\n        data[\"time\"] = time;\n        let token = md5(e + time);\n        data[\"token\"] = token;\n        let query = buildUrl(url, data);\n\n        return {\n            url: query,\n            headers: {\n                \"sign\": md5(e + time + api),\n                \"Fing\": md5(e + time + e),\n                \"User-Agent\": \"Mozilla/5.0 (Linux; Android 9; PCRT00 Build/PQ3B.190801.002; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/91.0.4472.114 Mobile Safari/537.36\"\n\n            }\n        }\n\n    },\n   setDesc: (d, desc, num) => {\n        //log(desc)\n        if (desc == undefined) {\n            return;\n        }\n        desc = desc.constructor == Array ? desc.join('<br>') : desc;\n        if (desc.replace(/(<br>|\\s+|<\\/?p>|&nbsp;)/g, '').length == 0) {\n            return;\n        }\n        const mark = 'desc';\n        num = typeof(num) == 'undefined' ? 100 : num\n        desc = desc.startsWith('　　') ? desc : '　　' + desc;\n        desc = desc.replace(/'/g, \"&#39;\");\n        desc = desc.replace(/\\r\\n/g, \"<br>\");\n        desc = desc.replace(/\\r/g, \"<br>\");\n        desc = desc.replace(/\\n/g, \"<br>\");\n\n        function substr(str, maxLength) {\n            let len = 0;\n            for (let i = 0; i < str.length; i++) {\n                if (str.charCodeAt(i) > 255) {\n                    len += 2;\n                } else {\n                    len++;\n                }\n                if (len > maxLength) {\n                    return str.slice(0, i) + '...';\n                }\n            }\n            return str;\n        }\n        let sdesc = substr(desc, num);\n        var colors = {\n            show: \"black\",\n            hide: \"grey\"\n        }\n        var lazy = $(`#noLoading#`).lazyRule((dc, sdc, m, cs) => {\n            var show = storage0.getItem(m, '0');\n            var title = findItem('desc').title;\n            var re = /(<\\/small><br>.*?>).+/g;\n            var exp = '展开:';\n            var ret = '收起:';\n            if (show == '1') {\n                updateItem('desc', {\n                    title: title\n                        .replace(ret, exp)\n                        .replace(re, '$1' + sdc + '</small>')\n                        .replace(/(<\\/small><br>\\<font color=\").*?(\">)/, '$1' + cs.hide + '$2')\n                })\n                storage0.setItem(m, '0');\n            } else {\n                updateItem('desc', {\n                    title: title\n                        .replace(exp, ret)\n                        .replace(re, '$1' + dc + '</small>')\n                        .replace(/(<\\/small><br>\\<font color=\").*?(\">)/, '$1' + cs.show + '$2')\n                })\n                storage0.setItem(m, '1');\n            }\n            return `hiker://empty`\n        }, desc, sdesc, mark, colors)\n        var sc = storage0.getItem(mark, '0') == '0' ? '展开:' : '收起:';\n        var dc = storage0.getItem(mark, '0') == '0' ? sdesc : desc;\n        var cs = storage0.getItem(mark, '0') == '0' ? colors.hide : colors.show;\n        d.push({\n            title: '' + '<b><font color=\"#098AC1\">∷剧情简介\t</font></b>' + \"<small><a style='text-decoration: none;' href='\" + lazy + \"'>\" + sc + '</a></small><br><font color=\"' + cs + '\">' + `${dc}` + '</small>',\n            col_type: 'rich_text',\n            extra: {\n                id: 'desc',\n                lineSpacing: 6,\n                textSize: 15,\n                lineVisible: true,\n            }\n        })\n    }\n\n}"}],"title":"爱听书APP","author":"天涯客","version":0,"type":"video","url":"hiker://empty##fypage","col_type":"movie_3","class_name":"全部&玄幻修真&相声戏曲&综艺娱乐&长篇评书&都市言情&百家讲坛&军事历史&儿童故事&网游竞技&灵异惊悚&官场商站&其他有声&人物传记&通俗文学&经典纪实","class_url":"0&1&2&3&4&5&6&7&8&9&10&11&12&13&14&15","area_name":"连载中&已完结","area_url":"0&1","sort_name":"最新&人气&新书&推荐&收藏","year_name":"","sort_url":"0&1&2&3&4","year_url":"","find_rule":"js:\nvar d=[]\n  if (MY_PAGE == 1) {\n    d.push({\n        desc: \"搜你想要的...\",\n        title: \"🔍\",\n        url: \"'hiker://search?rule=\" + MY_RULE.title + \"&s='+input\",\n        col_type: \"input\",\n    });\n}\neval(JSON.parse(request('hiker://page/hanshu')).rule);\n  let url = 公共.host + \"/api/apps/categorylist\";\n  var data = {\n      isover: MY_RULE.area_url,\n      orderid: MY_RULE.sort_url,\n      id: MY_CLASS_URL,\n      offset: MY_PAGE,\n      limit: 30,\n      platform: \"qq\"\n  };\n\n  var Data = 公共.Data(url, data);\n\n  var html = fetch(Data.url, {\n      headers: Data.headers\n  });\n  var list = JSON.parse(html).playlists;\n  for (var it of list) {\n      d.push({\n          title: it.novel.name,\n          img: it.novel.cover,\n          desc: it.novel.boyinname,\n          url: \"hiker://empty##immersiveTheme##autoCache#\",\n          col_type: \"movie_2\",\n          extra: {\n              info: it.novel\n          }\n      })\n  }\n  \n setResult(d)","searchFind":"js:\neval(JSON.parse(request('hiker://page/hanshu')).rule);\n let data = {\n     \"key\": MY_KEYWORD,\n     \"limit\": 30,\n     \"offset\": MY_PAGE,\n     \"type\": 1,\n }\n let url = 公共.host + \"/api/apps/cloudsearch\"\n var Data = 公共.Data(url, data);\n\n var html = fetch(Data.url, {\n     headers: Data.headers\n });\n var d = []\n var list = JSON.parse(html).data;\n for (var it of list) {\n    \n     d.push({\n         title: it.novel.name,\n         img: it.novel.cover,\n         desc: it.novel.boyinname,\n         url: \"hiker://empty##immersiveTheme##autoCache#\",\n         col_type: \"movie_2\",\n         extra: {\n             info: it.novel\n         }\n     })\n }\n \nsetResult(d)","search_url":"hiker://empty##**##fypage","group":"F听书","detail_col_type":"movie_1","detail_find_rule":"js:\n/*\naddListener(\"onClose\", $.toString(() => {\n    let keys = listMyVarKeys(); //log(keys)\n    for (let it of keys) {\n        clearMyVar(\"hiker://page/erji#immersiveTheme#\");\n    }\n}))\n*/\neval(JSON.parse(request('hiker://page/hanshu')).rule);\nvar info = MY_PARAMS.info;\n\n\nvar d = [];\nd.push({\n    title: \"书名：\" + info.name + '\\n播音：' + info.boyinname,\n    desc: '类型：' + info.caption,\n    pic_url: info.cover,\n    url: 'hiker://empty',\n    col_type: 'movie_1_vertical_pic_blur',\n    extra: {\n        gradient: true\n    }\n})\n\n公共.setDesc(d, info.intro)\nlet data = {\n    \"id\": info.id,\n    \"limit\": 30,\n    \"offset\": 1,\n    \"sorttype\": \"asc\",\n};\n\nlet url = 公共.host + \"/api/apps/bookdir\";\n\nvar Data = 公共.Data(url, data);\n\nvar html = fetch(Data.url, {\n    headers: Data.headers\n});\nvar json = JSON.parse(html);\n\nvar selist = json.selist;\n\nvar tabs = [];\nvar lists = []\nvar arr = selist[getMyVar(info.id, '0')];\nfor (var it of arr) {\n\n    if (it.id != 1) {\n        lists.push({\n            \"id\": info.id,\n            \"limit\": 30,\n            \"offset\": it.id,\n            \"sorttype\": \"asc\",\n        })\n    }\n\n}\n\n\n\nfor (var i = 0; i < selist.length - 1; i++) {\n    tabs.push(`第${i + 1}页`)\n\n}\nlet list = json.playlist\n\n\n\nvar lazy=$(\"\").lazyRule(()=>{\n    eval(JSON.parse(request('hiker://page/hanshu')).rule);\n      let [chapterID, bookID] = input.split(\"@@@\");\n        let data = {\n            bookID,\n            chapterID\n        };\nlog(data)\n        let url = 公共.host + \"/api/ptcms/chapterPlays\";\n        let e = \"asg#w@!aasdgs2345asga-1_s!as==g\";\n        let time = String(parseInt(new Date().getTime() / 1000));\n        let a = md5(bookID + \"-----\" + chapterID)\n        let token = md5(e + \"-\" + a + \"-\" + time)\n        data[\"token\"] = token;\n        data[\"time\"] = time;\n\n        let query = Object.entries(data).map(x => x[0] + \"=\" + encodeURIComponent(x[1])).join(\"&\")\n\n        let resp = fetch(url + \"?\" + query, {\n            withHeaders: true,\n            redirect: false\n        });\n        var mp3 = JSON.parse(resp).headers.location[0]\n        return mp3\n})\n\n\nfunction setTabs(tabs, vari) {\n    \n    d.push({\n        title:'““””<b><span style=\"color: #FF0000\">样式</span></b>',\n        url:$([\"text_1\",\"text_2\",\"text_3\",\"text_4\"],2).select((id)=>{\n            putMyVar(\"col_\"+id,input);\n           for(var i = 0; i<120;i++){\n            updateItem(\"playlist_\"+i,{\n                col_type: input\n            });\n           }\n            return \"hiker://empty\"\n        },info.id),\n        col_type: 'scroll_button'\n    })\n\n   var pagenum=tabs.length;\n    d.push({\n    title: getMyVar(vari, '0')==\"0\"?\"↪️尾页\" : \"⏮️上页\",\n    url: $(\"#noLoading##noHistory#\").lazyRule((myurl,num) => {\n    var  fold=getMyVar(myurl, '0')\n    if(fold==\"0\"){\n        putMyVar(myurl, num-1);\n    }else{\n      var id=parseInt(getMyVar(myurl, '0'))-1;\n     \n     putMyVar(myurl,id);\n  }\n    refreshPage();\n    return \"hiker://empty\";\n   }, vari,pagenum),\n    col_type: \"text_4\"\n}, {\n    title: tabs[getMyVar(vari, '0')],\n    url: $(tabs, 2).select((myurl, tabs) => {\n        for (var i in tabs) {\n            if (tabs[i] == input) {\n                putMyVar(myurl, i)\n            }\n        }\n\n        refreshPage()\n        return \"hiker://empty\"\n    }, vari, tabs),\n    col_type: \"text_2\"\n}, {\n    title:(parseInt(getMyVar(vari, '0')) + 1)==pagenum? \"首页↩️\" : \"下页⏭️\",\n    url: $(\"#noLoading##noHistory#\").lazyRule((myurl,num) => {\n        var pageNum = parseInt(getMyVar(myurl, '0')) + 1;\n         putMyVar(myurl, pageNum);\n        if(pageNum == num){\n           putMyVar(myurl, \"0\");\n        };\n        refreshPage();\n        return \"hiker://empty\";\n    }, vari,pagenum),\n    col_type: \"text_4\"\n})\n    for (var i = 0; i < tabs.length; i++) {\n        var url = \"#noLoading##noHistory#@lazyRule=.js:putMyVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'hiker://empty#noHistory#'\";\n        d.push({\n            title: getMyVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    var urls = []\n    for (var it of lists) {\n\n\n\n        Data1 = 公共.Data(url, it);\n        if (it.id != 1) {\n            urls.push({\n                url: Data1.url,\n                options: {\n                    headers: Data1.headers\n                }\n            })\n        }\n\n    }\n\nvar playlist=[]\n\n\n    if (getMyVar(info.id, '0') == \"0\") {\n        for (var it of list) {\n            playlist.push({\n                title: it.name,\n                 desc: it.time,\n                url: it.id + \"@@@\" + info.id,\n               \n            })\n        }\n\n    }\n\n    if (urls.length >= 1) {\n        var result = bf(urls);\n\n        for (var i in result) {\n            var listn = JSON.parse(result[i]).playlist;\n           \n\n\n            for (var it of listn) {\n                playlist.push({\n                    title: it.name,\n                    desc: it.time,\n                    url: it.id + \"@@@\" + info.id,\n                   \n                })\n            }\n\n        }\n    }\n    \n     \n    for(var i in playlist){\n        var  it= playlist[i];\n        d.push({\n            title: it.title,\n            url: it.url+lazy,\n            desc: it.desc,\n            col_type: getMyVar(\"col_\"+info.id,\"text_3\"),\n            extra: {\n             id: \"playlist_\"+i\n         }\n        })\n    }\n}\n\nsetTabs(tabs, info.id);\nsetLists(lists, getMyVar(info.id, '0'));\nsetResult(d)","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"函数\",\"path\":\"hanshu\",\"rule\":\"var 公共 = {\\n    host: \\\"http://202.63.172.66:5862\\\",\\n    Data: function(url, data) {\\n        const e = \\\"asg#w@!aasdgs2345asga-1_s!as==g\\\";\\n        const api = url.match(/\\\\/api\\\\/apps\\\\/.*?(?=\\\\?|$)/)[0];\\n        let time = String(parseInt(new Date().getTime() / 1000));\\n        data[\\\"time\\\"] = time;\\n        let token = md5(e + time);\\n        data[\\\"token\\\"] = token;\\n        let query = buildUrl(url, data);\\n\\n        return {\\n            url: query,\\n            headers: {\\n                \\\"sign\\\": md5(e + time + api),\\n                \\\"Fing\\\": md5(e + time + e),\\n                \\\"User-Agent\\\": \\\"Mozilla/5.0 (Linux; Android 9; PCRT00 Build/PQ3B.190801.002; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/91.0.4472.114 Mobile Safari/537.36\\\"\\n\\n            }\\n        }\\n\\n    },\\n   setDesc: (d, desc, num) => {\\n        //log(desc)\\n        if (desc == undefined) {\\n            return;\\n        }\\n        desc = desc.constructor == Array ? desc.join('<br>') : desc;\\n        if (desc.replace(/(<br>|\\\\s+|<\\\\/?p>|&nbsp;)/g, '').length == 0) {\\n            return;\\n        }\\n        const mark = 'desc';\\n        num = typeof(num) == 'undefined' ? 100 : num\\n        desc = desc.startsWith('　　') ? desc : '　　' + desc;\\n        desc = desc.replace(/'/g, \\\"&#39;\\\");\\n        desc = desc.replace(/\\\\r\\\\n/g, \\\"<br>\\\");\\n        desc = desc.replace(/\\\\r/g, \\\"<br>\\\");\\n        desc = desc.replace(/\\\\n/g, \\\"<br>\\\");\\n\\n        function substr(str, maxLength) {\\n            let len = 0;\\n            for (let i = 0; i < str.length; i++) {\\n                if (str.charCodeAt(i) > 255) {\\n                    len += 2;\\n                } else {\\n                    len++;\\n                }\\n                if (len > maxLength) {\\n                    return str.slice(0, i) + '...';\\n                }\\n            }\\n            return str;\\n        }\\n        let sdesc = substr(desc, num);\\n        var colors = {\\n            show: \\\"black\\\",\\n            hide: \\\"grey\\\"\\n        }\\n        var lazy = $(`#noLoading#`).lazyRule((dc, sdc, m, cs) => {\\n            var show = storage0.getItem(m, '0');\\n            var title = findItem('desc').title;\\n            var re = /(<\\\\/small><br>.*?>).+/g;\\n            var exp = '展开:';\\n            var ret = '收起:';\\n            if (show == '1') {\\n                updateItem('desc', {\\n                    title: title\\n                        .replace(ret, exp)\\n                        .replace(re, '$1' + sdc + '</small>')\\n                        .replace(/(<\\\\/small><br>\\\\<font color=\\\").*?(\\\">)/, '$1' + cs.hide + '$2')\\n                })\\n                storage0.setItem(m, '0');\\n            } else {\\n                updateItem('desc', {\\n                    title: title\\n                        .replace(exp, ret)\\n                        .replace(re, '$1' + dc + '</small>')\\n                        .replace(/(<\\\\/small><br>\\\\<font color=\\\").*?(\\\">)/, '$1' + cs.show + '$2')\\n                })\\n                storage0.setItem(m, '1');\\n            }\\n            return `hiker://empty`\\n        }, desc, sdesc, mark, colors)\\n        var sc = storage0.getItem(mark, '0') == '0' ? '展开:' : '收起:';\\n        var dc = storage0.getItem(mark, '0') == '0' ? sdesc : desc;\\n        var cs = storage0.getItem(mark, '0') == '0' ? colors.hide : colors.show;\\n        d.push({\\n            title: '' + '<b><font color=\\\"#098AC1\\\">∷剧情简介\\t</font></b>' + \\\"<small><a style='text-decoration: none;' href='\\\" + lazy + \\\"'>\\\" + sc + '</a></small><br><font color=\\\"' + cs + '\\\">' + `${dc}` + '</small>',\\n            col_type: 'rich_text',\\n            extra: {\\n                id: 'desc',\\n                lineSpacing: 6,\\n                textSize: 15,\\n                lineVisible: true,\\n            }\\n        })\\n    }\\n\\n}\"}]","proxy":"","icon":"https://static.dqjsw.com.cn/local-upload/image/png/2023-03-10/85e1d37f34f0c976d39d61a075171221.png"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"解析","path":"lazy","rule":"var lazy = $(\"\").lazyRule((MY_HOME) => {\n    let tag = input.split(\"#\")[1];\n    var cookie = getItem(MY_HOME, \"\")\n    let muid = input.match(/sound\\/(\\d+)/)[1];\n    let timestamp = new Date().getTime();\n    let furl = \"https://mobile.ximalaya.com/mobile-playpage/track/v3/baseInfo/\" + timestamp + \"?device=web&trackId=\" + muid;\n    let headers = {\n        \"User-Agent\": \"Mozilla/5.0 (Linux; U; Android 9; zh-cn; MIX 2S Build/PKQ1.180729.001) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/100.0.4896.127 Mobile Safari/537.36 XiaoMi/MiuiBrowser/16.7.35 swan-mibrowser\",\n        \"Cookie\": cookie,\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n    };\n    if (tag == 0 || tag == 1) {\n        try {\n            var jhtml = fetch(furl, {\n                headers: headers,\n                method: \"get\"\n            });\n            var playlist = JSON.parse(jhtml);\n        } catch (e) {\n            var playlist = JSON.parse(fetch(\"http://jx.nokia.press/api6/xmly?\" + \"ts=\" + timestamp + \"&muid=\" + muid));\n        }\n    } else {\n        var playlist = JSON.parse(fetch(\"http://jx.nokia.press/api6/xmly?\" + \"ts=\" + timestamp + \"&muid=\" + muid));\n    }\n    try {\n        function base64UrlDecode(s) {\n            s = s.replace(/-/g, \"+\").replace(/_/g, \"/\");\n            switch (s.length % 4) {\n                case 0:\n                    break;\n                case 2:\n                    s += \"==\";\n                    break;\n                case 3:\n                    s += \"=\";\n                    break;\n                default:\n                    throw new Error(\"Illegal base64url String!\");\n            }\n            const javaString = java.lang.String;\n            let bytes = _base64.decode(s, _base64.NO_WRAP);\n            let javaImport = new JavaImporter();\n            javaImport.importPackage(Packages.com.alibaba.fastjson);\n            return javaImport.JSON.toJSONString(bytes).replace(\"\\\"\", \"\") + \"\";\n        }\n\n        function De(url) {\n            eval(getCryptoJS());\n            var cipherText = base64UrlDecode(url);\n            log(url)\n            log(cipherText)\n            let res = CryptoJS.AES.decrypt(cipherText, CryptoJS.enc.Hex.parse(\"aaad3e4fd540b0f79dca95606e72bf93\"), {\n                mode: CryptoJS.mode.ECB,\n                padding: CryptoJS.pad.Pkcs7\n            });\n            return res.toString(CryptoJS.enc.Utf8);\n        }\n        let playdata = playlist.trackInfo.playUrlList;\n        var types = [];\n        var urls = [];\n        for (let i = 0; i < playdata.length; i++) {\n            types.push(playdata[i].type);\n            urls.push(De(playdata[i].url));\n        }\n        return JSON.stringify({\n            urls: urls,\n            names: types\n        });\n        //return De(playdata[0].url)\n    } catch (e) {\n        return \"toast://\\u4ed8\\u8d39\\u5185\\u5bb9\\uff0c\\u65e0\\u6cd5\\u64ad\\u653e\\uff01\";\n    }\n\n}, MY_HOME)"},{"col_type":"movie_3","name":"简介","path":"setDesc","rule":"function setDesc(d, desc, num,detail) {\n    //log(desc)\n    if (desc == undefined) {\n        return;\n    }\n    desc = desc.constructor == Array ? desc.join('<br>') : desc;\n    if (desc.replace(/(<br>|\\s+|<\\/?p>|&nbsp;)/g, '').length == 0) {\n        return;\n    }\n    const mark = 'desc';\n    num = typeof(num) == 'undefined' ? 100 : num\n        \n\n    function substr(str, maxLength) {\n        let len = 0;\n        for (let i = 0; i < str.length; i++) {\n            if (str.charCodeAt(i) > 225) {\n                len += 2;\n            } else {\n                len++;\n            }\n            if (len > maxLength) {\n                return str.slice(0, i) + '...';\n            }\n        }\n        return str;\n    }\n\n    \n    var colors = {\n        show: \"black\",\n        hide: \"grey\"\n    }\n\n     sdesc= detail\n \n    \n    var lazy = $(`#noLoading#`).lazyRule((dc, sdc, m, cs) => {\n        var show = storage0.getItem(m, '0');\n        var title = findItem('desc').title;\n        var re = /(<\\/small><br>.*?>).+/g;\n        var exp = '收起:';\n        var ret = '展开:';\n        if (show == '1') {\n            updateItem('desc', {\n                title: title\n                    .replace(ret, exp)\n                    .replace(re, '$1' + sdc + '</small>')\n                    .replace(/(<\\/small><br>\\<font color=\").*?(\">)/, '$1' + cs.hide + '$2')\n            })\n            storage0.setItem(m, '0');\n        } else {\n            updateItem('desc', {\n                title: title\n                    .replace(exp, ret)\n                    .replace(re, '$1' + dc + '</small>')\n                    .replace(/(<\\/small><br>\\<font color=\").*?(\">)/, '$1' + cs.show + '$2')\n            })\n            storage0.setItem(m, '1');\n        }\n        return `hiker://empty`\n    }, desc, sdesc, mark, colors)\n    var sc = storage0.getItem(mark, '0') == '0' ? '收起:' : '展开:';\n    var dc = storage0.getItem(mark, '0') == '0' ? sdesc : desc;\n    var cs = storage0.getItem(mark, '0') == '0' ? colors.hide : colors.show;\n    d.push({\n        title: '' + '<b><font color=\"#098AC1\">∷剧情简介\t</font></b>' + \"<small><a style='text-decoration: none;' href='\" + lazy + \"'>\" + sc + '</a></small><br><font color=\"' + cs + '\">' + `${dc}` + '</small>',\n        col_type: 'rich_text',\n        extra: {\n            id: 'desc',\n            lineSpacing: 6,\n            textSize: 15,\n            lineVisible: true,\n        }\n    })\n}"}],"title":"喜马拉雅","author":"天涯客","version":0,"type":"video","url":"hiker://empty##fypage","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\n  var d = [];\n  MY_URL = \"https://m.ximalaya.com/\";\n  var html = fetchCache(\"https://m.ximalaya.com/category/\", 24);\n  var Color = \"#FA7298\";\n\n  function getHead(title) {\n      return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n  }\n  var lists = [];\n  var conts = pdfa(html, \"body&&.ca-title\");\nvar page=MY_PAGE\n  for (var i in conts) {\n      lists = lists.concat(pdfa(conts[i], \"body&&a\"))\n  }\n\n\n  var fold = getMyVar(\"xmly.fold\", \"有声书\");\n  if (MY_PAGE == 1) {\n    d.push({\n        desc: \"搜你想要的...\",\n        title: \"🔍\",\n        url: \"'hiker://search?rule=\" + MY_RULE.title + \"&s='+input\",\n        col_type: \"input\",\n    });\n}\n\n  if (MY_PAGE == 1) {\n      for (let i in lists) {\n          var it = lists[i];\n          var title = pdfh(it, \"a&&Text\");\n          d.push({\n              title: fold == title ? getHead(title) : title,\n              url: \"https://m.ximalaya.com\" + pdfh(it, \"a&&href\") + $(\"#noLoading#\").lazyRule((i, title) => {\n                  clearMyVar(\"xmly.fl\")\n                  clearMyVar(\"sort\")\n                  putMyVar(\"xmly.fold\", title);\n                  putMyVar(\"xmly.url\", input)\n                  refreshPage()\n                  return \"hiker://empty\"\n\n              }, i, title),\n              col_type: \"scroll_button\"\n          })\n      }\n      d.push({\n          col_type: 'blank_block'\n      })\n  }\n\n\n  var true_url = getMyVar(\"xmly.url\", \"https://m.ximalaya.com/category/a3\")\n\n  var htm = fetch(true_url);\n\n  var list1 = pdfa(htm, \".auto-container&&a\");\n\n  var list2 = pdfa(htm, \".menu-row&&a\");\n  var fl = getMyVar(\"xmly.fl\", \"\")\n  if (MY_PAGE == 1) {\n      var arr = [];\n\n      for (var i in list1) {\n          var it = list1[i];\n          var title1 = pdfh(it, \"a&&Text\").replace(\"全部\", fold)\n          arr.push({\n              title: title1,\n              value: title1\n          })\n          d.push({\n              title: (fl == \"\" ? fold == title1 : fl == title1) ? getHead(title1) : title1,\n              url: \"https://m.ximalaya.com\" + pdfh(it, \"a&&href\") + $(\"#noLoading#\").lazyRule((title1) => {\n                  if (getMyVar(\"xmly.url\").indexOf(\"_\") != -1) {\n                      putMyVar(\"xmly.fl\", title1)\n\n                  } else {\n\n                      putMyVar(\"xmly.fold\", title1)\n                  }\n                  putMyVar(\"xmly.url\", input)\n                  refreshPage()\n                  return \"hiker://empty\"\n              }, title1),\n              col_type: \"scroll_button\"\n          })\n      }\n      d.push({\n          col_type: 'blank_block'\n      })\n  }\n \n  var sort = getMyVar(\"sort\", \"0\");\n  var tabs = [{\n      \"n\": \"综合排序\",\n      \"v\": \"1\"\n  }, {\n      \"n\": \"最多播放\",\n      \"v\": \"3\"\n  }, {\n      \"n\": \"最近更新\",\n      \"v\": \"2\"\n  }];\n  if (page == 1) {\n      for (var i in tabs) {\n          d.push({\n              title: sort == i ? getHead(tabs[i].n) : tabs[i].n,\n              url: $(\"\").lazyRule((i) => {\n                  putMyVar(\"sort\", i)\n                  refreshPage()\n                  return \"hiker://empty\"\n              }, i),\n              col_type: \"scroll_button\"\n          })\n      }\n\n  }\n\n  var link = \"https://m.ximalaya.com/revision/category/v2/albums?pageNum=\" + MY_PAGE + \"&pageSize=20&sort=\" + tabs[sort].v + \"&categoryId=\" + true_url.match(/category\\/a(\\d+)/)[1] + \"&metadataValues=\" + (fl == \"\" ? fold : fl);\n \n\n  var json = JSON.parse(fetch(link, {\n      headers: {\n          'Referer': true_url\n      }\n  }));\n\n  function PlayCount(id) {\n      if (id / 100000000 > 1) {\n          var num = (id / 100000000).toFixed(1) + '亿播放'\n      } else if (id / 10000 > 1) {\n          num = (id / 10000).toFixed(1) + '万播放'\n      } else {\n          num = id + '播放'\n      }\n      return num\n  }\n\n\n\n  var list = json.data.albums;\n  for (var it of list) {\n      d.push({\n          title: it.albumTitle,\n          img: \"http://imagev2.xmcdn.com/\" + it.albumCoverPath,\n          url: \"https://www.ximalaya.com/album/\" + it.albumId+\"#immersiveTheme#\",\n          desc: \"播音：\" + it.albumUserNickName + \"\\n播放：\" + PlayCount(it.albumPlayCount) + \"\\n更新：更新至\" + it.albumTrackCount + \"章\",\n          col_type: \"movie_1_vertical_pic\",\n          extra: {\n            \n            albumId: it.albumId,\n              \n        }\n      })\n  }\n  setResult(d)","searchFind":"js:\n  var d = []\n  var name= MY_KEYWORD;\n  var page=MY_PAGE;\n  surl = 'https://www.ximalaya.com/revision/search/main?core=album&kw=' + name + '&page=' + page + '&spellchecker=true&rows=20&condition=relation&device=iPhone&fq=&paidFilter=false'\nMY_URL=surl;\nvar cookie = getItem(\"https://www.ximalaya.com\", \"\")\n\n\n  var html = fetch(surl, {\n      headers: {\n          'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36',\n          'Referer': 'https://www.ximalaya.com/so/' + encodeURIComponent(name),\n          'xm-sign': 'D2O5woL0nVCgWlCkVGdphnyBjHumi5BBWeESpBKOrvWWEX50&&pSNjaRn56d0m2wI6IVmrX7F69246-9oJEtqNqZ5ySw8_1',\n          'Cookie': cookie\n      }\n  })\n\n\n\n  try {\n      var data = JSON.parse(html).data.album.docs;\n\n      for (var it of data) {\n\n          d.push({\n              title: it.title,\n              img: it.coverPath,\n              desc: '更新至' + it.tracksCount + '集',\n              url: 'https://www.ximalaya.com' + it.url + '#immersiveTheme#',\n       extra: {\n            title: it.title+\"\\n\",\n          desc:  '更新至' + it.tracksCount + '集',\n            albumId: it.albumId,\n              img: \"http://imagev2.xmcdn.com/\" + it.albumCoverPath\n        }\n          })\n\n      }\n\n\n  } catch (e) {\n\n      d.push({\n          title: '加载完成',\n          desc: '到底啦，数据加载完了',\n          col_type: 'text_center_1',\n          url: $(\"#noLoading#\").lazyRule(() => {\n              refreshPage(false);\n              return 'hiker://empty'\n          }),\n      });\n\n  }\n\nsetResult(d)","search_url":"hiker://empty##**##fypage","group":"F听书","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\n\nvar cookie = getItem(\"https://www.ximalaya.com\", \"\")\nvar pageNum = parseInt(getMyVar(MY_URL, '0')) + 1;\n\n\nvar albumId = MY_PARAMS.albumId\nvar html = fetch(\"https://www.ximalaya.com/revision/album/v1/simple?albumId=\" + albumId, {\n    headers: {\n        'Cookie': cookie\n    }\n});\nvar info = JSON.parse(html).data.albumPageMainInfo;\n\n\nvar infourl = 'https://www.ximalaya.com/revision/album/v1/getTracksList?albumId=' + albumId + '&pageNum=' + pageNum + '&pageSize=30';\n\n\nd.push({\n    title: info.albumTitle + \"\\n主播：\" + info.anchorName,\n    desc: \"类型：\" + info.categoryTitle,\n    pic_url: 'http://imagev2.xmcdn.com' + info.cover,\n    url: MY_URL,\n    col_type: 'movie_1_vertical_pic_blur',\n    extra: {\n        gradient: true\n    }\n})\neval(JSON.parse(fetch('hiker://page/setDesc')).rule);\nsetDesc(d, info.shortIntro, 100, info.detailRichIntro)\n\n\nvar html = fetch(infourl, {\n    headers: {\n        \"User-Agent\": \"Mozilla/5.0 (Linux; U; Android 9; zh-cn; MIX 2S Build/PKQ1.180729.001) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/100.0.4896.127 Mobile Safari/537.36 XiaoMi/MiuiBrowser/16.7.35 swan-mibrowser\",\n        \"Cookie\": cookie,\n        \"Referer\": MY_URL,\n\n    }\n});\n\nvar json = JSON.parse(html);\nvar list = json.data.tracks;\nvar num = json.data.trackTotalCount;\nlet pagenum = Math.ceil(parseInt(num) / 30);\n\n\nvar tabs = [];\n\nfor (let i = 1; i <= pagenum; i++) {\n    tabs.push(i == pagenum ? ((i - 1) * 30 + 1) + \"～\" + num : ((i - 1) * 30 + 1) + \"～\" + i * 30);\n}\n\n\n\nfunction setTabs(tabs, vari) {\n    d.push({\n        title: '““””<b><span style=\"color: #FF0000\">样式</span></b>',\n        url: $([\"text_1\", \"text_2\", \"text_3\", \"text_4\"], 2).select((MY_URL) => {\n            putMyVar(\"col_\" + MY_URL, input);\n            for (var i = 0; i < 120; i++) {\n                updateItem(\"playlist_\" + i, {\n                    col_type: input\n                });\n            }\n            return \"hiker://empty\"\n        }, MY_URL),\n        col_type: 'scroll_button'\n    })\n    d.push({\n    title: getMyVar(MY_URL, '0')==\"0\"?\"↪️尾页\" : \"⏮️上页\",\n    url: $(\"#noLoading##noHistory#\").lazyRule((myurl,num) => {\n    var  fold=getMyVar(myurl, '0')\n    if(fold==\"0\"){\n        putMyVar(myurl, num-1);\n    }else{\n      var id=parseInt(getMyVar(myurl, '0'))-1;\n     \n     putMyVar(myurl,id);\n  }\n    refreshPage();\n    return \"hiker://empty\";\n   }, MY_URL,pagenum),\n    col_type: \"text_4\"\n}, {\n    title: tabs[getMyVar(MY_URL, '0')],\n    url: $(tabs, 2).select((myurl, tabs) => {\n        for (var i in tabs) {\n            if (tabs[i] == input) {\n                putMyVar(myurl, i)\n            }\n        }\n\n        refreshPage()\n        return \"hiker://empty\"\n    }, MY_URL, tabs),\n    col_type: \"text_2\"\n}, {\n    title:(parseInt(getMyVar(MY_URL, '0')) + 1)==pagenum? \"首页↩️\" : \"下页⏭️\",\n    url: $(\"#noLoading##noHistory#\").lazyRule((myurl,num) => {\n        var pageNum = parseInt(getMyVar(myurl, '0')) + 1;\n         putMyVar(myurl, pageNum);\n        if(pageNum == num){\n           putMyVar(myurl, \"0\");\n        };\n        refreshPage();\n        return \"hiker://empty\";\n    }, MY_URL,pagenum),\n    col_type: \"text_4\"\n})\n   /* for (var i = 0; i < tabs.length; i++) {\n        var url = \"#noLoading##noHistory#@lazyRule=.js:putMyVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'hiker://empty'\";\n        d.push({\n            title: getMyVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }*/\n}\n\neval(JSON.parse(fetch('hiker://page/lazy')).rule);\n\nfunction setLists(list) {\n\n\n\n    for (var i in list) {\n        var it = list[i]\n        d.push({\n            title: it.title,\n            url: 'https://www.ximalaya.com' + it.url + \"#\" + it.tag + lazy,\n            col_type: getMyVar(\"col_\" + MY_URL, \"text_2\"),\n            extra: {\n                id: 'playlist_' + i\n            }\n        })\n    }\n}\n\n\nsetTabs(tabs, MY_URL);\nsetLists(list);\n\nsetResult(d)","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"var cookie=\"@_xmLog=h5&cd3563c8-eedc-40e8-b87e-b6a4605434c7&2.4.18-alpha.0；； DATE=1727271378661；； crystal=U2FsdGVkX19KdlyQrVCbkZmgJ/9cNW25isJmY16+RFnRIgheJYZVNdEOoDPEQ1RhhTKxZcGXnyw1F/FF7t6SSEtiJf6HyMjxZ+nfH2HczzEo9jfpUJ2jtlAfDN70nqI4WsUqHJReAvA/u8nsMSUanXhNSeXj9DVzxq3YnLnowtJLIkSMo2hqgVuHru6OSTXeJKJzSywxgeSgnRhQ2uRqGOTLRyy5kl811AodEQADOXZhsPRjTLoN2nW5g6FIsUjP；； HMACCOUNT=AEDEC339F1502B93；； trackType=H5；； x_xmly_traffic=utm_source%3A%26utm_medium%3A%26utm_campaign%3A%26utm_content%3A%26utm_term%3A%26utm_from%3A；； 1&remember_me=y；； 1&_token=225021433&2EC7E4F0140N29DC721A28F350894D4D4BE09A50AAEF2F346A538E039BD335BA66900560B9FB4M24C3A11BF19630E_；； 1_l_flag=225021433&2EC7E4F0140N29DC721A28F350894D4D4BE09A50AAEF2F346A538E039BD335BA66900560B9FB4M24C3A11BF19630E__2024-10-2423:40:48；； impl=www.ximalaya.com.login；； HWWAFSESID=44737c7f0b10a8b429；； HWWAFSESTIME=1733156466724；； xm-page-viewid=ximalaya-web；； wfp=ACMxMDBhZTE1ZTkyMGQ3YWM1moS8XXsBaQx4bXdlYl93d3c；； Hm_lvt_4a7d8ec50cfd6af753c4f8aee3425070=1733156494；； Hm_lpvt_4a7d8ec50cfd6af753c4f8aee3425070=1733156494；； cmci9xde=U2FsdGVkX186pVHXqfHL/b5wBAj0ZGjcxIwDXK5xE3FDTlNGW5RLZ+XlY4DPTVU39guVNIcC5oVfemblwlDV/Q==；； pmck9xge=U2FsdGVkX1+jjuammlR0yma2gNHLFHXzTHfXTgGvkno=；； assva6=U2FsdGVkX19MB3SjOJHpArVDeeAfz1/1uzYbXx9VUNg=；； assva5=U2FsdGVkX19RQvZH0NOWTlI5MYryiVu5+X05nnG7e/C/WkGuyfhF99BlhQa4rVI0RO70zNQPyoYx37e2Mr2FXA==；； vmce9xdq=U2FsdGVkX1++FDCtvvJrhNjpV+lKJBaitMrVZhcn95TYHsAP3C4sKgFNJLxV7lWhA2qID9Md4mCDbb7xFUJdw/l7h8QmEu/4Itf8o1D0ilX9pG/Z5IZoaGLLBk2+qG8f1cD4H0FsZ55c3Uc78YSva/M84MTEg2jx+L8r4EZ5SHA=；； web_login=1733156584136&&Accept@text/html,application/xhtml+xml,application/xml；；q=0.9,image/avif,image/webp,image/apng,*/*；；q=0.8,application/signed-exchange；；v=b3；；q=0.7&&Accept-Language@zh-CN,zh；；q=0.9\".split(\"@\")[1].split(\"&&\")[0].replace(/；/g,\"<\").replace(/<</g,\";\")\n\n\nsetItem('https://www.ximalaya.com', cookie)","pages":"[{\"col_type\":\"movie_3\",\"name\":\"解析\",\"path\":\"lazy\",\"rule\":\"var lazy = $(\\\"\\\").lazyRule((MY_HOME) => {\\n    let tag = input.split(\\\"#\\\")[1];\\n    var cookie = getItem(MY_HOME, \\\"\\\")\\n    let muid = input.match(/sound\\\\/(\\\\d+)/)[1];\\n    let timestamp = new Date().getTime();\\n    let furl = \\\"https://mobile.ximalaya.com/mobile-playpage/track/v3/baseInfo/\\\" + timestamp + \\\"?device=web&trackId=\\\" + muid;\\n    let headers = {\\n        \\\"User-Agent\\\": \\\"Mozilla/5.0 (Linux; U; Android 9; zh-cn; MIX 2S Build/PKQ1.180729.001) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/100.0.4896.127 Mobile Safari/537.36 XiaoMi/MiuiBrowser/16.7.35 swan-mibrowser\\\",\\n        \\\"Cookie\\\": cookie,\\n        \\\"Content-Type\\\": \\\"application/x-www-form-urlencoded\\\"\\n    };\\n    if (tag == 0 || tag == 1) {\\n        try {\\n            var jhtml = fetch(furl, {\\n                headers: headers,\\n                method: \\\"get\\\"\\n            });\\n            var playlist = JSON.parse(jhtml);\\n        } catch (e) {\\n            var playlist = JSON.parse(fetch(\\\"http://jx.nokia.press/api6/xmly?\\\" + \\\"ts=\\\" + timestamp + \\\"&muid=\\\" + muid));\\n        }\\n    } else {\\n        var playlist = JSON.parse(fetch(\\\"http://jx.nokia.press/api6/xmly?\\\" + \\\"ts=\\\" + timestamp + \\\"&muid=\\\" + muid));\\n    }\\n    try {\\n        function base64UrlDecode(s) {\\n            s = s.replace(/-/g, \\\"+\\\").replace(/_/g, \\\"/\\\");\\n            switch (s.length % 4) {\\n                case 0:\\n                    break;\\n                case 2:\\n                    s += \\\"==\\\";\\n                    break;\\n                case 3:\\n                    s += \\\"=\\\";\\n                    break;\\n                default:\\n                    throw new Error(\\\"Illegal base64url String!\\\");\\n            }\\n            const javaString = java.lang.String;\\n            let bytes = _base64.decode(s, _base64.NO_WRAP);\\n            let javaImport = new JavaImporter();\\n            javaImport.importPackage(Packages.com.alibaba.fastjson);\\n            return javaImport.JSON.toJSONString(bytes).replace(\\\"\\\\\\\"\\\", \\\"\\\") + \\\"\\\";\\n        }\\n\\n        function De(url) {\\n            eval(getCryptoJS());\\n            var cipherText = base64UrlDecode(url);\\n            log(url)\\n            log(cipherText)\\n            let res = CryptoJS.AES.decrypt(cipherText, CryptoJS.enc.Hex.parse(\\\"aaad3e4fd540b0f79dca95606e72bf93\\\"), {\\n                mode: CryptoJS.mode.ECB,\\n                padding: CryptoJS.pad.Pkcs7\\n            });\\n            return res.toString(CryptoJS.enc.Utf8);\\n        }\\n        let playdata = playlist.trackInfo.playUrlList;\\n        var types = [];\\n        var urls = [];\\n        for (let i = 0; i < playdata.length; i++) {\\n            types.push(playdata[i].type);\\n            urls.push(De(playdata[i].url));\\n        }\\n        return JSON.stringify({\\n            urls: urls,\\n            names: types\\n        });\\n        //return De(playdata[0].url)\\n    } catch (e) {\\n        return \\\"toast://\\\\u4ed8\\\\u8d39\\\\u5185\\\\u5bb9\\\\uff0c\\\\u65e0\\\\u6cd5\\\\u64ad\\\\u653e\\\\uff01\\\";\\n    }\\n\\n}, MY_HOME)\"},{\"col_type\":\"movie_3\",\"name\":\"简介\",\"path\":\"setDesc\",\"rule\":\"function setDesc(d, desc, num,detail) {\\n    //log(desc)\\n    if (desc == undefined) {\\n        return;\\n    }\\n    desc = desc.constructor == Array ? desc.join('<br>') : desc;\\n    if (desc.replace(/(<br>|\\\\s+|<\\\\/?p>|&nbsp;)/g, '').length == 0) {\\n        return;\\n    }\\n    const mark = 'desc';\\n    num = typeof(num) == 'undefined' ? 100 : num\\n        \\n\\n    function substr(str, maxLength) {\\n        let len = 0;\\n        for (let i = 0; i < str.length; i++) {\\n            if (str.charCodeAt(i) > 225) {\\n                len += 2;\\n            } else {\\n                len++;\\n            }\\n            if (len > maxLength) {\\n                return str.slice(0, i) + '...';\\n            }\\n        }\\n        return str;\\n    }\\n\\n    \\n    var colors = {\\n        show: \\\"black\\\",\\n        hide: \\\"grey\\\"\\n    }\\n\\n     sdesc= detail\\n \\n    \\n    var lazy = $(`#noLoading#`).lazyRule((dc, sdc, m, cs) => {\\n        var show = storage0.getItem(m, '0');\\n        var title = findItem('desc').title;\\n        var re = /(<\\\\/small><br>.*?>).+/g;\\n        var exp = '收起:';\\n        var ret = '展开:';\\n        if (show == '1') {\\n            updateItem('desc', {\\n                title: title\\n                    .replace(ret, exp)\\n                    .replace(re, '$1' + sdc + '</small>')\\n                    .replace(/(<\\\\/small><br>\\\\<font color=\\\").*?(\\\">)/, '$1' + cs.hide + '$2')\\n            })\\n            storage0.setItem(m, '0');\\n        } else {\\n            updateItem('desc', {\\n                title: title\\n                    .replace(exp, ret)\\n                    .replace(re, '$1' + dc + '</small>')\\n                    .replace(/(<\\\\/small><br>\\\\<font color=\\\").*?(\\\">)/, '$1' + cs.show + '$2')\\n            })\\n            storage0.setItem(m, '1');\\n        }\\n        return `hiker://empty`\\n    }, desc, sdesc, mark, colors)\\n    var sc = storage0.getItem(mark, '0') == '0' ? '收起:' : '展开:';\\n    var dc = storage0.getItem(mark, '0') == '0' ? sdesc : desc;\\n    var cs = storage0.getItem(mark, '0') == '0' ? colors.hide : colors.show;\\n    d.push({\\n        title: '' + '<b><font color=\\\"#098AC1\\\">∷剧情简介\\t</font></b>' + \\\"<small><a style='text-decoration: none;' href='\\\" + lazy + \\\"'>\\\" + sc + '</a></small><br><font color=\\\"' + cs + '\\\">' + `${dc}` + '</small>',\\n        col_type: 'rich_text',\\n        extra: {\\n            id: 'desc',\\n            lineSpacing: 6,\\n            textSize: 15,\\n            lineVisible: true,\\n        }\\n    })\\n}\"}]","proxy":"","icon":"https://www.yxzhi.com/wp-content/uploads/2023/07/xmly-480x300.webp"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"选集","path":"details","rule":"surl = MY_URL\nvar sname = MY_RULE.title;\nvar stype = \"听书\"\n\nvar name = getPageTitle()\nvar desc=details.desc\n\n function setDesc(d, desc, num){\n        //log(desc)\n        if (desc == undefined) {\n            return;\n        }\n        desc = desc.constructor == Array ? desc.join('<br>') : desc;\n        if (desc.replace(/(<br>|\\s+|<\\/?p>|&nbsp;)/g, '').length == 0) {\n            return;\n        }\n        const mark = 'desc';\n        num = typeof(num) == 'undefined' ? 100 : num\n        desc = desc.startsWith('　　') ? desc : '　　' + desc;\n        desc = desc.replace(/'/g, \"&#39;\");\n        desc = desc.replace(/\\r\\n/g, \"<br>\");\n        desc = desc.replace(/\\r/g, \"<br>\");\n        desc = desc.replace(/\\n/g, \"<br>\");\n\n        function substr(str, maxLength) {\n            let len = 0;\n            for (let i = 0; i < str.length; i++) {\n                if (str.charCodeAt(i) > 255) {\n                    len += 2;\n                } else {\n                    len++;\n                }\n                if (len > maxLength) {\n                    return str.slice(0, i) + '...';\n                }\n            }\n            return str;\n        }\n        let sdesc = substr(desc, num);\n        var colors = {\n            show: \"black\",\n            hide: \"grey\"\n        }\n        var lazy = $(`#noLoading#`).lazyRule((dc, sdc, m, cs) => {\n            var show = storage0.getItem(m, '0');\n            var title = findItem('desc').title;\n            var re = /(<\\/small><br>.*?>).+/g;\n            var exp = '展开:';\n            var ret = '收起:';\n            if (show == '1') {\n                updateItem('desc', {\n                    title: title\n                        .replace(ret, exp)\n                        .replace(re, '$1' + sdc + '</small>')\n                        .replace(/(<\\/small><br>\\<font color=\").*?(\">)/, '$1' + cs.hide + '$2')\n                })\n                storage0.setItem(m, '0');\n            } else {\n                updateItem('desc', {\n                    title: title\n                        .replace(exp, ret)\n                        .replace(re, '$1' + dc + '</small>')\n                        .replace(/(<\\/small><br>\\<font color=\").*?(\">)/, '$1' + cs.show + '$2')\n                })\n                storage0.setItem(m, '1');\n            }\n            return `hiker://empty`\n        }, desc, sdesc, mark, colors)\n        var sc = storage0.getItem(mark, '0') == '0' ? '展开:' : '收起:';\n        var dc = storage0.getItem(mark, '0') == '0' ? sdesc : desc;\n        var cs = storage0.getItem(mark, '0') == '0' ? colors.hide : colors.show;\n        d.push({\n            title: '' + '<b><font color=\"#098AC1\">∷剧情简介\t</font></b>' + \"<small><a style='text-decoration: none;' href='\" + lazy + \"'>\" + sc + '</a></small><br><font color=\"' + cs + '\">' + `${dc}` + '</small>',\n            col_type: 'rich_text',\n            extra: {\n                id: 'desc',\n                lineSpacing: 6,\n                textSize: 15,\n                lineVisible: true,\n            }\n        })\n    }\n       \n    setDesc(d,details.desc)\n\n\nlineid = parseInt(getMyVar(\"SrcJu_\" + surl + \"_line\", \"0\"));\npageid = parseInt(getMyVar(\"SrcJu_\" + surl + \"_page\", \"0\"));\n\nlet 线路s = [\"线路\"];\nlet 列表s = [\n    []\n];\ntry {\n    线路s = details.line ? details.line : [\"线路\"];\n    列表s = details.line ? details.list : [details.list];\n    if (线路s.length != 列表s.length) {\n        xlog('√' + sname + '>源接口返回的线路数' + 线路s.length + '和列表数' + 列表s.length + '不相等');\n    }\n} catch (e) {\n    xlog('√' + sname + \">线路或列表返回数据有误>\" + e.message);\n}\nif (details.listparse) { //选集列表需要动态解析获取\n    let 线路选集 = details.listparse(lineid, 线路s[lineid]) || [];\n    if (线路选集.length > 0) {\n        列表s[lineid] = 线路选集;\n    }\n}\nif (details.page && details.pageparse) { //网站分页显示列表的，需要动态解析获取\n    try {\n        if ((detailsmark && pageid != details.pageid) || (!detailsmark && pageid > 0)) {\n            let 分页s = details.page;\n            if (pageid > 分页s.length) {\n                pageid = 0;\n            }\n            let 分页选集 = details.pageparse(分页s[pageid].url);\n            if ($.type(分页选集) == \"array\") {\n                列表s[lineid] = 分页选集;\n                details.list = details.line ? 列表s : 分页选集;\n            }\n        }\n    } catch (e) {\n        xlog('√' + sname + '分页选集处理失败>' + e.message);\n    }\n}\n\nif (lineid > 列表s.length - 1) {\n    toast('选择的线路无选集，将显示第1线路');\n    lineid = 0;\n}\n\nlet 列表 = 列表s[lineid] || [];\nif (列表.length > 0) {\n    function checkAndReverseArray(arr) {\n        const numbers = [];\n        arr.slice(0, 50).forEach(it => {\n            const digits = it.title.match(/\\d+/);\n            if (digits) {\n                numbers.push(parseInt(digits[0]));\n            }\n        })\n\n        if (numbers.length < 3) {\n            return arr;\n        }\n        let increasingCount = 0;\n        let decreasingCount = 0;\n        for (let i = 1; i < numbers.length; i++) {\n            if (numbers[i] > numbers[i - 1]) {\n                increasingCount++;\n            } else if (numbers[i] < numbers[i - 1]) {\n                decreasingCount++;\n            }\n        }\n        if (increasingCount > decreasingCount) {\n            return arr;\n        } else {\n            return arr.reverse();\n        }\n    }\n    try {\n        列表 = checkAndReverseArray(列表);\n    } catch (e) {\n        //xlog('√强制修正选集顺序失败>'+e.message)\n    }\n}\nif (getMyVar(sname + 'sort') == '1') {\n    列表.reverse();\n}\nlet line_col_type = getItem('SrcJuLine_col_type', 'scroll_button');\nd.push({\n    title: getMyVar(sname + 'sort') == '1' ? `““””<b><span style=\"color: #66CCEE\">排序⇅</span></b>` : `““””<b><span style=\"color: #55AA44\">排序⇅</span></b>`,\n    url: $(\"#noLoading#\").lazyRule((sname) => {\n        let 列表 = findItemsByCls('playlist') || [];\n        if (列表.length == 0) {\n            return 'toast://未获取到列表'\n        }\n        deleteItemByCls('playlist');\n        if (getMyVar(sname + 'sort') == '1') {\n            putMyVar(sname + 'sort', '0');\n            updateItem('listsort', {\n                title: `““””<b><span style=\"color: #55AA44\">排序⇅</span></b>`\n            });\n        } else {\n            putMyVar(sname + 'sort', '1')\n            updateItem('listsort', {\n                title: `““””<b><span style=\"color: #66CCEE\">排序⇅</span></b>`\n            });\n        };\n        列表.reverse();\n        列表.forEach(item => {\n            item.col_type = item.type;\n        })\n\n        addItemBefore(getMyVar('二级加载扩展列表') ? \"extendlist\" : getMyVar('换源变更列表id') ? \"Julistloading2\" : \"Julistloading\", 列表); //排序和样式动态处理插入列表时查找id\n        return 'toast://切换排序成功'\n    }, sname),\n    col_type: line_col_type,\n    extra: {\n        id: \"listsort\",\n        cls: \"Juloadlist\"\n    }\n})\nlet reviseLiTitle = getItem('reviseLiTitle', '0');\nd.push({\n    title: `““””<b><span style=\"color: #f47983\">样式<small>🎨</small></span></b>`,\n    url: $([\"text_1\", \"text_2\", \"text_3\", \"text_4\", \"flex_button\", \"text_2_left\", \"text_3_left\", \"分页设置\"], 2, \"选集列表样式\").select(() => {\n        if (input == \"分页设置\") {\n            return $([\"开启分页\", \"关闭分页\", \"每页数量\", \"分页阀值\"], 2).select(() => {\n                let partpage = storage0.getItem('partpage') || {};\n                if (input == \"开启分页\") {\n                    partpage.ispage = 1;\n                    storage0.setItem('partpage', partpage);\n                } else if (input == \"关闭分页\") {\n                    partpage.ispage = 0;\n                    storage0.setItem('partpage', partpage);\n                } else if (input == \"每页数量\") {\n                    return $(partpage.pagenum || \"40\", \"每页选集数量\").input((partpage) => {\n                        partpage.pagenum = parseInt(input);\n                        storage0.setItem('partpage', partpage);\n                        refreshPage(false);\n                        return 'hiker://empty'\n                    }, partpage)\n                } else if (input == \"分页阀值\") {\n                    return $(partpage.partnum || \"100\", \"选集数量超过多少才分页\").input((partpage) => {\n                        partpage.partnum = parseInt(input);\n                        storage0.setItem('partpage', partpage);\n                        refreshPage(false);\n                        return 'hiker://empty'\n                    }, partpage)\n                }\n                refreshPage(false);\n                return 'hiker://empty'\n            })\n        } else {\n            let 列表 = findItemsByCls('playlist') || [];\n            if (列表.length == 0) {\n                return 'toast://未获取到列表'\n            }\n            deleteItemByCls('playlist');\n            let list_col_type = input;\n            列表.forEach(item => {\n                item.col_type = list_col_type.replace(\"_left\", \"\");\n                if (list_col_type.indexOf(\"_left\") > -1) {\n                    item.extra.textAlign = 'left';\n                } else {\n                    delete item.extra.textAlign;\n                }\n            })\n            addItemBefore(getMyVar('二级加载扩展列表') ? \"extendlist\" : getMyVar('换源变更列表id') ? \"Julistloading2\" : \"Julistloading\", 列表);\n            setItem('SrcJuList_col_type', input);\n            return 'hiker://empty'\n        }\n    }),\n    col_type: line_col_type,\n    extra: {\n        cls: \"Juloadlist\",\n        longClick: [{\n            title: \"修正选集标题：\" + (reviseLiTitle == \"1\" ? \"是\" : \"否\"),\n            js: $.toString(() => {\n                let sm;\n                if (getItem('reviseLiTitle', '0') == \"1\") {\n                    clearItem('reviseLiTitle');\n                    sm = \"取消修正选集标题名称\";\n                } else {\n                    setItem('reviseLiTitle', '1');\n                    sm = \"统一修正选集标题名称\";\n                }\n                refreshPage(false);\n                return \"toast://\" + sm;\n            })\n        }, {\n            title: \"显示扩展项：\" + (getItem('extenditems', '1') == \"1\" ? \"是\" : \"否\"),\n            js: $.toString(() => {\n                let sm;\n                if (getItem('extenditems', '1') == \"1\") {\n                    setItem('extenditems', '0');\n                    sm = \"取消显示二级扩展项\";\n                } else {\n                    clearItem('extenditems');\n                    sm = \"显示二级扩展项\";\n                }\n                refreshPage(false);\n                return \"toast://\" + sm;\n            })\n        }, {\n            title: \"线路样式：\" + getItem('SrcJuLine_col_type', 'scroll_button'),\n            js: $.toString(() => {\n                let sm;\n                if (getItem('SrcJuLine_col_type', 'scroll_button') == \"flex_button\") {\n                    clearItem('SrcJuLine_col_type');\n                    sm = \"线路样式已切换为scroll_button\";\n                } else {\n                    setItem('SrcJuLine_col_type', 'flex_button');\n                    sm = \"线路样式已切换为flex_button\";\n                }\n                refreshPage(false);\n                return \"toast://\" + sm;\n            })\n        }]\n    }\n})\n\nif (线路s.length > 0 && 线路s[0] != \"线路\") {\n    线路s.forEach((it, i) => {\n        d.push({\n            title: lineid == i ? `““””<b><span style=\"color: #04B45F\">` + it + `</span></b>` : it,\n            url: $(\"#noLoading#\").lazyRule((lineurl, nowid, newid) => {\n                if (nowid != newid) {\n                    putMyVar(lineurl, newid);\n                    refreshPage(false);\n                }\n                return 'hiker://empty'\n            }, \"SrcJu_\" + surl + \"_line\", lineid, i),\n            col_type: line_col_type,\n            extra: {\n                cls: \"Juloadlist\"\n            }\n        })\n    })\n}\n//分页定义\nlet partpage = storage0.getItem('partpage') || {};\nif (details.page && details.pageparse) { //原网站有分页，不执行自定义分页\n    let 分页s = details.page\n    let 分页链接 = [];\n    let 分页名 = [];\n    分页s.forEach((it, i) => {\n        分页链接.push($(\"#noLoading#\").lazyRule((pageurl, nowid, newid) => {\n            if (nowid != newid) {\n                putMyVar(pageurl, newid);\n                refreshPage(false);\n            }\n            return 'hiker://empty'\n        }, \"SrcJu_\" + surl + \"_page\", pageid, i))\n        分页名.push(pageid == i ? '““””<span style=\"color: #87CEFA\">' + it.title : it.title)\n    })\n    if (分页名.length > 0) {\n        d.push({\n            col_type: \"blank_block\",\n            extra: {\n                cls: \"Juloadlist\"\n            }\n        });\n        d.push({\n            title: pageid == 0 ? \"↪️尾页\" : \"⏮️上页\",\n            url: pageid == 0 ? 分页链接[分页名.length - 1] : 分页链接[pageid - 1],\n            col_type: 'text_4',\n            extra: {\n                cls: \"Juloadlist\"\n            }\n        })\n        d.push({\n            title: 分页名[pageid],\n            url: $(分页名, 2).select((分页名, 分页链接) => {\n                return 分页链接[分页名.indexOf(input)];\n            }, 分页名, 分页链接),\n            col_type: 'text_2',\n            extra: {\n                cls: \"Juloadlist\"\n            }\n        })\n        d.push({\n            title: pageid == 分页名.length - 1 ? \"首页↩️\" : \"下页⏭️\",\n            url: pageid == 分页名.length - 1 ? 分页链接[0] : 分页链接[pageid + 1],\n            col_type: 'text_4',\n            extra: {\n                cls: \"Juloadlist\"\n            }\n        })\n    }\n} else if (partpage.ispage) { //启用分页\n    let 每页数量 = partpage.pagenum || 40; // 分页的每页数量       \n    let 翻页阀值 = partpage.partnum || 100; // 分页的翻页阀值，超过多少才显示翻页\n\n    if (列表.length > 翻页阀值) {\n        let 最大页数 = Math.ceil(列表.length / 每页数量);\n        let 分页页码 = pageid + 1; //当前页数\n        if (分页页码 > 最大页数) { //防止切换线路导致页数数组越界\n            分页页码 = 最大页数;\n        }\n        let 分页链接 = [];\n        let 分页名 = [];\n\n        function getNewArray(array, subGroupLength) {\n            let index = 0;\n            let newArray = [];\n            while (index < array.length) {\n                newArray.push(array.slice(index, index += subGroupLength));\n            }\n            return newArray;\n        }\n        let 分页s = getNewArray(列表, 每页数量); //按每页数据切割成小数组\n\n        分页s.forEach((it, i) => {\n            分页链接.push($(\"#noLoading#\").lazyRule((pageurl, nowid, newid) => {\n                if (nowid != newid) {\n                    putMyVar(pageurl, newid);\n                    refreshPage(false);\n                }\n                return 'hiker://empty'\n            }, \"SrcJu_\" + surl + \"_page\", pageid, i))\n            let start = i * 每页数量 + 1;\n            let end = i * 每页数量 + it.length;\n            let title = start + ' - ' + end;\n            分页名.push(pageid == i ? '““””<span style=\"color: #87CEFA\">' + title : title)\n        })\n        d.push({\n            col_type: \"blank_block\",\n            extra: {\n                cls: \"Juloadlist\"\n            }\n        });\n        d.push({\n            title: 分页页码 == 1 ? \"↪️尾页\" : \"⏮️上页\",\n            url: 分页页码 == 1 ? 分页链接[分页名.length - 1] : 分页链接[pageid - 1],\n            col_type: 'text_4',\n            extra: {\n                cls: \"Juloadlist\"\n            }\n        })\n        d.push({\n            title: 分页名[pageid],\n            url: $(分页名, 2).select((分页名, 分页链接) => {\n                return 分页链接[分页名.indexOf(input)];\n            }, 分页名, 分页链接),\n            col_type: 'text_2',\n            extra: {\n                cls: \"Juloadlist\"\n            }\n        })\n        d.push({\n            title: 分页页码 == 分页名.length ? \"首页↩️\" : \"下页⏭️\",\n            url: 分页页码 == 分页名.length ? 分页链接[0] : 分页链接[pageid + 1],\n            col_type: 'text_4',\n            extra: {\n                cls: \"Juloadlist\"\n            }\n        })\n        列表 = 分页s[pageid]; //取当前分页的选集列表\n    }\n}\n\nlet list_col_type = getItem('SrcJuList_col_type', 'text_2'); //列表样式\nfor (let i = 0; i < 列表.length; i++) {\n    let extra = Object.assign({}, details[\"extra\"] || {}); //二级返回数据中的extra设为默认\n    try {\n        extra = Object.assign(extra, 列表[i].extra || {}); //优先用选集的extra\n    } catch (e) {}\n\n    extra.id = name + \"_选集_\" + (pageid ? pageid + \"_\" : \"\") + i;\n    extra.cls = \"Juloadlist playlist\";\n    if (stype == \"听书\" || stype == \"影视\" || stype == \"音乐\") {\n        extra.jsLoadingInject = true;\n        if (!extra.blockRules) {\n            extra.blockRules = ['.m4a', '.mp3', '.gif', '.jpeg', '.jpg', '.ico', '.png', 'hm.baidu.com', '/ads/*.js', 'cnzz.com', '51.la'];\n        }\n    }\n\n    if (list_col_type.indexOf(\"_left\") > -1) {\n        extra.textAlign = 'left';\n    }\n    if (stype == \"小说\" || details[\"rule\"] || details[\"novel\"] || 列表[i].rule) {\n        extra.url = 列表[i].url;\n        lazy = lazy.replace(\"@lazyRule=.\", ((stype == \"小说\" || details[\"novel\"]) ? \"#readTheme##autoPage#\" : \"#noRecordHistory#\") + \"@rule=\").replace(`input.split(\"##\")[1]`, `MY_PARAMS.url || \"\"`);\n    }\n    d.push({\n        title: reviseLiTitle == \"1\" ? 列表[i].title.replace(name, '').replace(/‘|’|“|”|<[^>]+>| |-|_|第|集|话|章|\\</g, '').replace('（', '(').replace('）', ')') : 列表[i].title,\n        url: 列表[i].url + lazy,\n        desc: 列表[i].desc,\n        img: 列表[i].img,\n        col_type: 列表[i].col_type || list_col_type.replace(\"_left\", \"\"),\n        extra: extra\n    });\n\n}\n\nd.push({\n    title: \"‘‘’’<small><font color=#f20c00>当前数据源：\" + sname + \"作者：\" + \"</font></small>\",\n    url: 'hiker://empty',\n    col_type: 'text_center_1',\n    extra: {\n        id: getMyVar('换源变更列表id') ? \"Julistloading2\" : \"Julistloading\",\n        lineVisible: false\n    }\n});"},{"col_type":"movie_3","name":"Lazy","path":"lazy","rule":"var lazy = $(\"\").lazyRule(() => {\n    var url=input\n    var 公共={\nhost:\"http://www.yuetingba.cn\",\nplay:'http://223.242.110.85:50010'\n};\n    var html = fetch(公共.host + \"/api/app/docs-listen/\"+url+\"/ting-with-ef\", {\n            \"headers\": {\n                \"Accept\": \"application/json, text/plain, */*\",\n                \"Referer\":\"http://www.yuetingba.cn/tingpage/index.html\"\n            }\n        })\n        \n      var e =JSON.parse(html).ef;\n     eval(getCryptoJS())\n        let key = CryptoJS.enc.Base64.parse(\"le95G3hnFDJsBE+1/v9eYw==\"),\n    iv = CryptoJS.enc.Base64.parse(\"IvswQFEUdKYf+d1wKpYLTg==\")\ne = (e + \"\").replace(/\\n*$/g, \"\").replace(/\\n/g, \"\");\nconst t = CryptoJS.enc.Base64.parse(e)\n    , n = CryptoJS.enc.Base64.stringify(t);\n\nreturn  公共.play+ CryptoJS.AES.decrypt(n, key, {\n    iv: iv,\n    mode: CryptoJS.mode.CBC,\n    padding: CryptoJS.pad.Pkcs7\n}).toString(CryptoJS.enc.Utf8).toString()\n});"}],"title":"悦听吧","author":"天涯客","version":0,"type":"video","url":"http://www.yuetingba.cn/fyAll/fypage","col_type":"movie_3","class_name":"玄幻&历史&武侠&都市&科幻&名著&女频&社科&儿童","class_url":"book/1&book/2&book/3&book/4&book/5&book/6&book/7&book/8&book/9","area_name":"最新&推荐","area_url":"top/latest&top/recommend","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d=[]\n var html = getResCode();\nif (MY_PAGE == 1) {\n    d.push({\n        desc: \"搜你想要的...\",\n        title: \"🔍\",\n        url: \"'hiker://search?rule=\" + MY_RULE.title + \"&s='+input\",\n        col_type: \"input\",\n    });\n}\n var list = pdfa(html, \"body&&.section-box-list-item\");\n for (var it of list) {\n     d.push({\n         title: pdfh(it, \"img&&alt\"),\n         img: pd(it, \"img&&src\"),\n         desc: pdfh(it, \"span,-1&&title\"),\n         url: pd(it, \"a&&href\")+\"#immersiveTheme#\"\n     })\n }\n \n setResult(d)","searchFind":"js:\n  \n\n  \n  var d = []\n  var html = getResCode()\n\n  var list = pdfa(html, \"body&&.section-box-list-item\");\n  for (var it of list) {\n      d.push({\n          title: pdfh(it, \"img&&alt\"),\n          img: pd(it, \"img&&src\"),\n          desc: pdfh(it, \"span,-1&&title\"),\n          url: pd(it, \"a&&href\")+\"#immersiveTheme#\"\n      })\n  }\n  \n setResult(d)","search_url":"http://www.yuetingba.cn/Search?type=1&name=**&pageIndex=fypage&multiSpeaker=","group":"F听书","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\n\nvar html = getResCode();\nvar detail1 = \"书名：\" + pdfh(html, \"h1&&Text\") + \"\\n\" + pdfh(html, \".books-detail-detail&&.col-md-6,1&&Text\") + \"\\n\" + pdfh(html, \".books-detail-detail&&.col-md-6,0&&Text\");\n\nvar detail2 = pdfh(html, \".books-detail-detail&&.col-md-6,2&&Text\");\nvar desc = pdfh(html, \".text-desc-content,-2&&Text\");\nvar tabs = pdfa(html, \".nav-tabs&&a\");\nvar list = pdfa(html, \".ting-list-content&&.ting-list-content-item\").map(it => {\n    return {\n        title: pdfh(it, \"a,-1&&Text\"),\n        url: pdfh(it, \"a,-1&&onclick\").match(/'(.*?)'/)[1]\n    }\n})\nif (tabs.length > 1) {\n    var urls = [];\n    for (var i = 1; i <= tabs.length - 1; i++) {\n        urls.push({\n            url: pd(tabs[i], \"a&&href\")\n        })\n    }\n\n\n    var data = bf(urls);\n    for (var i in data) {\n        var arr = pdfa(data[i], \".ting-list-content&&.ting-list-content-item\");\n        var result = []\n        for (var it of arr) {\n            result.push({\n                title: pdfh(it, \"a,-1&&Text\"),\n                url: pdfh(it, \"a,-1&&onclick\").match(/'(.*?)'/)[1]\n            })\n        }\n        list = list.concat(result)\n    }\n\n}\nvar details = {\n    detail1: detail1,\n    detail2: detail2,\n    img: pd(html, \".books-detail-img&&img&&src\"),\n    desc: desc,\n    list: list\n}\n\n\npic = details.img || \"https://p1.ssl.qhimgs1.com/sdr/400__/t018d6e64991221597b.jpg\";\npic = pic && pic.indexOf(\"@Referer=\") == -1 ? pic + \"@Referer=\" : pic;\n\nd.push({\n    title: details.detail1 || \"\",\n    desc: details.detail2 || \"\",\n    pic_url: details.img,\n    url: details.detailurl || (/^http/.test(MY_URL) ? MY_URL + '#noRecordHistory##noHistory#' : details.img),\n    col_type: 'movie_1_vertical_pic_blur',\n    extra: {\n        gradient: true\n    }\n})\n\n\n\neval(JSON.parse(fetch(\"hiker://page/lazy\")).rule);\neval(JSON.parse(fetch(\"hiker://page/details\")).rule);\n\n\nsetResult(d)","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"选集\",\"path\":\"details\",\"rule\":\"surl = MY_URL\\nvar sname = MY_RULE.title;\\nvar stype = \\\"听书\\\"\\n\\nvar name = getPageTitle()\\nvar desc=details.desc\\n\\n function setDesc(d, desc, num){\\n        //log(desc)\\n        if (desc == undefined) {\\n            return;\\n        }\\n        desc = desc.constructor == Array ? desc.join('<br>') : desc;\\n        if (desc.replace(/(<br>|\\\\s+|<\\\\/?p>|&nbsp;)/g, '').length == 0) {\\n            return;\\n        }\\n        const mark = 'desc';\\n        num = typeof(num) == 'undefined' ? 100 : num\\n        desc = desc.startsWith('　　') ? desc : '　　' + desc;\\n        desc = desc.replace(/'/g, \\\"&#39;\\\");\\n        desc = desc.replace(/\\\\r\\\\n/g, \\\"<br>\\\");\\n        desc = desc.replace(/\\\\r/g, \\\"<br>\\\");\\n        desc = desc.replace(/\\\\n/g, \\\"<br>\\\");\\n\\n        function substr(str, maxLength) {\\n            let len = 0;\\n            for (let i = 0; i < str.length; i++) {\\n                if (str.charCodeAt(i) > 255) {\\n                    len += 2;\\n                } else {\\n                    len++;\\n                }\\n                if (len > maxLength) {\\n                    return str.slice(0, i) + '...';\\n                }\\n            }\\n            return str;\\n        }\\n        let sdesc = substr(desc, num);\\n        var colors = {\\n            show: \\\"black\\\",\\n            hide: \\\"grey\\\"\\n        }\\n        var lazy = $(`#noLoading#`).lazyRule((dc, sdc, m, cs) => {\\n            var show = storage0.getItem(m, '0');\\n            var title = findItem('desc').title;\\n            var re = /(<\\\\/small><br>.*?>).+/g;\\n            var exp = '展开:';\\n            var ret = '收起:';\\n            if (show == '1') {\\n                updateItem('desc', {\\n                    title: title\\n                        .replace(ret, exp)\\n                        .replace(re, '$1' + sdc + '</small>')\\n                        .replace(/(<\\\\/small><br>\\\\<font color=\\\").*?(\\\">)/, '$1' + cs.hide + '$2')\\n                })\\n                storage0.setItem(m, '0');\\n            } else {\\n                updateItem('desc', {\\n                    title: title\\n                        .replace(exp, ret)\\n                        .replace(re, '$1' + dc + '</small>')\\n                        .replace(/(<\\\\/small><br>\\\\<font color=\\\").*?(\\\">)/, '$1' + cs.show + '$2')\\n                })\\n                storage0.setItem(m, '1');\\n            }\\n            return `hiker://empty`\\n        }, desc, sdesc, mark, colors)\\n        var sc = storage0.getItem(mark, '0') == '0' ? '展开:' : '收起:';\\n        var dc = storage0.getItem(mark, '0') == '0' ? sdesc : desc;\\n        var cs = storage0.getItem(mark, '0') == '0' ? colors.hide : colors.show;\\n        d.push({\\n            title: '' + '<b><font color=\\\"#098AC1\\\">∷剧情简介\\t</font></b>' + \\\"<small><a style='text-decoration: none;' href='\\\" + lazy + \\\"'>\\\" + sc + '</a></small><br><font color=\\\"' + cs + '\\\">' + `${dc}` + '</small>',\\n            col_type: 'rich_text',\\n            extra: {\\n                id: 'desc',\\n                lineSpacing: 6,\\n                textSize: 15,\\n                lineVisible: true,\\n            }\\n        })\\n    }\\n       \\n    setDesc(d,details.desc)\\n\\n\\nlineid = parseInt(getMyVar(\\\"SrcJu_\\\" + surl + \\\"_line\\\", \\\"0\\\"));\\npageid = parseInt(getMyVar(\\\"SrcJu_\\\" + surl + \\\"_page\\\", \\\"0\\\"));\\n\\nlet 线路s = [\\\"线路\\\"];\\nlet 列表s = [\\n    []\\n];\\ntry {\\n    线路s = details.line ? details.line : [\\\"线路\\\"];\\n    列表s = details.line ? details.list : [details.list];\\n    if (线路s.length != 列表s.length) {\\n        xlog('√' + sname + '>源接口返回的线路数' + 线路s.length + '和列表数' + 列表s.length + '不相等');\\n    }\\n} catch (e) {\\n    xlog('√' + sname + \\\">线路或列表返回数据有误>\\\" + e.message);\\n}\\nif (details.listparse) { //选集列表需要动态解析获取\\n    let 线路选集 = details.listparse(lineid, 线路s[lineid]) || [];\\n    if (线路选集.length > 0) {\\n        列表s[lineid] = 线路选集;\\n    }\\n}\\nif (details.page && details.pageparse) { //网站分页显示列表的，需要动态解析获取\\n    try {\\n        if ((detailsmark && pageid != details.pageid) || (!detailsmark && pageid > 0)) {\\n            let 分页s = details.page;\\n            if (pageid > 分页s.length) {\\n                pageid = 0;\\n            }\\n            let 分页选集 = details.pageparse(分页s[pageid].url);\\n            if ($.type(分页选集) == \\\"array\\\") {\\n                列表s[lineid] = 分页选集;\\n                details.list = details.line ? 列表s : 分页选集;\\n            }\\n        }\\n    } catch (e) {\\n        xlog('√' + sname + '分页选集处理失败>' + e.message);\\n    }\\n}\\n\\nif (lineid > 列表s.length - 1) {\\n    toast('选择的线路无选集，将显示第1线路');\\n    lineid = 0;\\n}\\n\\nlet 列表 = 列表s[lineid] || [];\\nif (列表.length > 0) {\\n    function checkAndReverseArray(arr) {\\n        const numbers = [];\\n        arr.slice(0, 50).forEach(it => {\\n            const digits = it.title.match(/\\\\d+/);\\n            if (digits) {\\n                numbers.push(parseInt(digits[0]));\\n            }\\n        })\\n\\n        if (numbers.length < 3) {\\n            return arr;\\n        }\\n        let increasingCount = 0;\\n        let decreasingCount = 0;\\n        for (let i = 1; i < numbers.length; i++) {\\n            if (numbers[i] > numbers[i - 1]) {\\n                increasingCount++;\\n            } else if (numbers[i] < numbers[i - 1]) {\\n                decreasingCount++;\\n            }\\n        }\\n        if (increasingCount > decreasingCount) {\\n            return arr;\\n        } else {\\n            return arr.reverse();\\n        }\\n    }\\n    try {\\n        列表 = checkAndReverseArray(列表);\\n    } catch (e) {\\n        //xlog('√强制修正选集顺序失败>'+e.message)\\n    }\\n}\\nif (getMyVar(sname + 'sort') == '1') {\\n    列表.reverse();\\n}\\nlet line_col_type = getItem('SrcJuLine_col_type', 'scroll_button');\\nd.push({\\n    title: getMyVar(sname + 'sort') == '1' ? `““””<b><span style=\\\"color: #66CCEE\\\">排序⇅</span></b>` : `““””<b><span style=\\\"color: #55AA44\\\">排序⇅</span></b>`,\\n    url: $(\\\"#noLoading#\\\").lazyRule((sname) => {\\n        let 列表 = findItemsByCls('playlist') || [];\\n        if (列表.length == 0) {\\n            return 'toast://未获取到列表'\\n        }\\n        deleteItemByCls('playlist');\\n        if (getMyVar(sname + 'sort') == '1') {\\n            putMyVar(sname + 'sort', '0');\\n            updateItem('listsort', {\\n                title: `““””<b><span style=\\\"color: #55AA44\\\">排序⇅</span></b>`\\n            });\\n        } else {\\n            putMyVar(sname + 'sort', '1')\\n            updateItem('listsort', {\\n                title: `““””<b><span style=\\\"color: #66CCEE\\\">排序⇅</span></b>`\\n            });\\n        };\\n        列表.reverse();\\n        列表.forEach(item => {\\n            item.col_type = item.type;\\n        })\\n\\n        addItemBefore(getMyVar('二级加载扩展列表') ? \\\"extendlist\\\" : getMyVar('换源变更列表id') ? \\\"Julistloading2\\\" : \\\"Julistloading\\\", 列表); //排序和样式动态处理插入列表时查找id\\n        return 'toast://切换排序成功'\\n    }, sname),\\n    col_type: line_col_type,\\n    extra: {\\n        id: \\\"listsort\\\",\\n        cls: \\\"Juloadlist\\\"\\n    }\\n})\\nlet reviseLiTitle = getItem('reviseLiTitle', '0');\\nd.push({\\n    title: `““””<b><span style=\\\"color: #f47983\\\">样式<small>🎨</small></span></b>`,\\n    url: $([\\\"text_1\\\", \\\"text_2\\\", \\\"text_3\\\", \\\"text_4\\\", \\\"flex_button\\\", \\\"text_2_left\\\", \\\"text_3_left\\\", \\\"分页设置\\\"], 2, \\\"选集列表样式\\\").select(() => {\\n        if (input == \\\"分页设置\\\") {\\n            return $([\\\"开启分页\\\", \\\"关闭分页\\\", \\\"每页数量\\\", \\\"分页阀值\\\"], 2).select(() => {\\n                let partpage = storage0.getItem('partpage') || {};\\n                if (input == \\\"开启分页\\\") {\\n                    partpage.ispage = 1;\\n                    storage0.setItem('partpage', partpage);\\n                } else if (input == \\\"关闭分页\\\") {\\n                    partpage.ispage = 0;\\n                    storage0.setItem('partpage', partpage);\\n                } else if (input == \\\"每页数量\\\") {\\n                    return $(partpage.pagenum || \\\"40\\\", \\\"每页选集数量\\\").input((partpage) => {\\n                        partpage.pagenum = parseInt(input);\\n                        storage0.setItem('partpage', partpage);\\n                        refreshPage(false);\\n                        return 'hiker://empty'\\n                    }, partpage)\\n                } else if (input == \\\"分页阀值\\\") {\\n                    return $(partpage.partnum || \\\"100\\\", \\\"选集数量超过多少才分页\\\").input((partpage) => {\\n                        partpage.partnum = parseInt(input);\\n                        storage0.setItem('partpage', partpage);\\n                        refreshPage(false);\\n                        return 'hiker://empty'\\n                    }, partpage)\\n                }\\n                refreshPage(false);\\n                return 'hiker://empty'\\n            })\\n        } else {\\n            let 列表 = findItemsByCls('playlist') || [];\\n            if (列表.length == 0) {\\n                return 'toast://未获取到列表'\\n            }\\n            deleteItemByCls('playlist');\\n            let list_col_type = input;\\n            列表.forEach(item => {\\n                item.col_type = list_col_type.replace(\\\"_left\\\", \\\"\\\");\\n                if (list_col_type.indexOf(\\\"_left\\\") > -1) {\\n                    item.extra.textAlign = 'left';\\n                } else {\\n                    delete item.extra.textAlign;\\n                }\\n            })\\n            addItemBefore(getMyVar('二级加载扩展列表') ? \\\"extendlist\\\" : getMyVar('换源变更列表id') ? \\\"Julistloading2\\\" : \\\"Julistloading\\\", 列表);\\n            setItem('SrcJuList_col_type', input);\\n            return 'hiker://empty'\\n        }\\n    }),\\n    col_type: line_col_type,\\n    extra: {\\n        cls: \\\"Juloadlist\\\",\\n        longClick: [{\\n            title: \\\"修正选集标题：\\\" + (reviseLiTitle == \\\"1\\\" ? \\\"是\\\" : \\\"否\\\"),\\n            js: $.toString(() => {\\n                let sm;\\n                if (getItem('reviseLiTitle', '0') == \\\"1\\\") {\\n                    clearItem('reviseLiTitle');\\n                    sm = \\\"取消修正选集标题名称\\\";\\n                } else {\\n                    setItem('reviseLiTitle', '1');\\n                    sm = \\\"统一修正选集标题名称\\\";\\n                }\\n                refreshPage(false);\\n                return \\\"toast://\\\" + sm;\\n            })\\n        }, {\\n            title: \\\"显示扩展项：\\\" + (getItem('extenditems', '1') == \\\"1\\\" ? \\\"是\\\" : \\\"否\\\"),\\n            js: $.toString(() => {\\n                let sm;\\n                if (getItem('extenditems', '1') == \\\"1\\\") {\\n                    setItem('extenditems', '0');\\n                    sm = \\\"取消显示二级扩展项\\\";\\n                } else {\\n                    clearItem('extenditems');\\n                    sm = \\\"显示二级扩展项\\\";\\n                }\\n                refreshPage(false);\\n                return \\\"toast://\\\" + sm;\\n            })\\n        }, {\\n            title: \\\"线路样式：\\\" + getItem('SrcJuLine_col_type', 'scroll_button'),\\n            js: $.toString(() => {\\n                let sm;\\n                if (getItem('SrcJuLine_col_type', 'scroll_button') == \\\"flex_button\\\") {\\n                    clearItem('SrcJuLine_col_type');\\n                    sm = \\\"线路样式已切换为scroll_button\\\";\\n                } else {\\n                    setItem('SrcJuLine_col_type', 'flex_button');\\n                    sm = \\\"线路样式已切换为flex_button\\\";\\n                }\\n                refreshPage(false);\\n                return \\\"toast://\\\" + sm;\\n            })\\n        }]\\n    }\\n})\\n\\nif (线路s.length > 0 && 线路s[0] != \\\"线路\\\") {\\n    线路s.forEach((it, i) => {\\n        d.push({\\n            title: lineid == i ? `““””<b><span style=\\\"color: #04B45F\\\">` + it + `</span></b>` : it,\\n            url: $(\\\"#noLoading#\\\").lazyRule((lineurl, nowid, newid) => {\\n                if (nowid != newid) {\\n                    putMyVar(lineurl, newid);\\n                    refreshPage(false);\\n                }\\n                return 'hiker://empty'\\n            }, \\\"SrcJu_\\\" + surl + \\\"_line\\\", lineid, i),\\n            col_type: line_col_type,\\n            extra: {\\n                cls: \\\"Juloadlist\\\"\\n            }\\n        })\\n    })\\n}\\n//分页定义\\nlet partpage = storage0.getItem('partpage') || {};\\nif (details.page && details.pageparse) { //原网站有分页，不执行自定义分页\\n    let 分页s = details.page\\n    let 分页链接 = [];\\n    let 分页名 = [];\\n    分页s.forEach((it, i) => {\\n        分页链接.push($(\\\"#noLoading#\\\").lazyRule((pageurl, nowid, newid) => {\\n            if (nowid != newid) {\\n                putMyVar(pageurl, newid);\\n                refreshPage(false);\\n            }\\n            return 'hiker://empty'\\n        }, \\\"SrcJu_\\\" + surl + \\\"_page\\\", pageid, i))\\n        分页名.push(pageid == i ? '““””<span style=\\\"color: #87CEFA\\\">' + it.title : it.title)\\n    })\\n    if (分页名.length > 0) {\\n        d.push({\\n            col_type: \\\"blank_block\\\",\\n            extra: {\\n                cls: \\\"Juloadlist\\\"\\n            }\\n        });\\n        d.push({\\n            title: pageid == 0 ? \\\"↪️尾页\\\" : \\\"⏮️上页\\\",\\n            url: pageid == 0 ? 分页链接[分页名.length - 1] : 分页链接[pageid - 1],\\n            col_type: 'text_4',\\n            extra: {\\n                cls: \\\"Juloadlist\\\"\\n            }\\n        })\\n        d.push({\\n            title: 分页名[pageid],\\n            url: $(分页名, 2).select((分页名, 分页链接) => {\\n                return 分页链接[分页名.indexOf(input)];\\n            }, 分页名, 分页链接),\\n            col_type: 'text_2',\\n            extra: {\\n                cls: \\\"Juloadlist\\\"\\n            }\\n        })\\n        d.push({\\n            title: pageid == 分页名.length - 1 ? \\\"首页↩️\\\" : \\\"下页⏭️\\\",\\n            url: pageid == 分页名.length - 1 ? 分页链接[0] : 分页链接[pageid + 1],\\n            col_type: 'text_4',\\n            extra: {\\n                cls: \\\"Juloadlist\\\"\\n            }\\n        })\\n    }\\n} else if (partpage.ispage) { //启用分页\\n    let 每页数量 = partpage.pagenum || 40; // 分页的每页数量       \\n    let 翻页阀值 = partpage.partnum || 100; // 分页的翻页阀值，超过多少才显示翻页\\n\\n    if (列表.length > 翻页阀值) {\\n        let 最大页数 = Math.ceil(列表.length / 每页数量);\\n        let 分页页码 = pageid + 1; //当前页数\\n        if (分页页码 > 最大页数) { //防止切换线路导致页数数组越界\\n            分页页码 = 最大页数;\\n        }\\n        let 分页链接 = [];\\n        let 分页名 = [];\\n\\n        function getNewArray(array, subGroupLength) {\\n            let index = 0;\\n            let newArray = [];\\n            while (index < array.length) {\\n                newArray.push(array.slice(index, index += subGroupLength));\\n            }\\n            return newArray;\\n        }\\n        let 分页s = getNewArray(列表, 每页数量); //按每页数据切割成小数组\\n\\n        分页s.forEach((it, i) => {\\n            分页链接.push($(\\\"#noLoading#\\\").lazyRule((pageurl, nowid, newid) => {\\n                if (nowid != newid) {\\n                    putMyVar(pageurl, newid);\\n                    refreshPage(false);\\n                }\\n                return 'hiker://empty'\\n            }, \\\"SrcJu_\\\" + surl + \\\"_page\\\", pageid, i))\\n            let start = i * 每页数量 + 1;\\n            let end = i * 每页数量 + it.length;\\n            let title = start + ' - ' + end;\\n            分页名.push(pageid == i ? '““””<span style=\\\"color: #87CEFA\\\">' + title : title)\\n        })\\n        d.push({\\n            col_type: \\\"blank_block\\\",\\n            extra: {\\n                cls: \\\"Juloadlist\\\"\\n            }\\n        });\\n        d.push({\\n            title: 分页页码 == 1 ? \\\"↪️尾页\\\" : \\\"⏮️上页\\\",\\n            url: 分页页码 == 1 ? 分页链接[分页名.length - 1] : 分页链接[pageid - 1],\\n            col_type: 'text_4',\\n            extra: {\\n                cls: \\\"Juloadlist\\\"\\n            }\\n        })\\n        d.push({\\n            title: 分页名[pageid],\\n            url: $(分页名, 2).select((分页名, 分页链接) => {\\n                return 分页链接[分页名.indexOf(input)];\\n            }, 分页名, 分页链接),\\n            col_type: 'text_2',\\n            extra: {\\n                cls: \\\"Juloadlist\\\"\\n            }\\n        })\\n        d.push({\\n            title: 分页页码 == 分页名.length ? \\\"首页↩️\\\" : \\\"下页⏭️\\\",\\n            url: 分页页码 == 分页名.length ? 分页链接[0] : 分页链接[pageid + 1],\\n            col_type: 'text_4',\\n            extra: {\\n                cls: \\\"Juloadlist\\\"\\n            }\\n        })\\n        列表 = 分页s[pageid]; //取当前分页的选集列表\\n    }\\n}\\n\\nlet list_col_type = getItem('SrcJuList_col_type', 'text_2'); //列表样式\\nfor (let i = 0; i < 列表.length; i++) {\\n    let extra = Object.assign({}, details[\\\"extra\\\"] || {}); //二级返回数据中的extra设为默认\\n    try {\\n        extra = Object.assign(extra, 列表[i].extra || {}); //优先用选集的extra\\n    } catch (e) {}\\n\\n    extra.id = name + \\\"_选集_\\\" + (pageid ? pageid + \\\"_\\\" : \\\"\\\") + i;\\n    extra.cls = \\\"Juloadlist playlist\\\";\\n    if (stype == \\\"听书\\\" || stype == \\\"影视\\\" || stype == \\\"音乐\\\") {\\n        extra.jsLoadingInject = true;\\n        if (!extra.blockRules) {\\n            extra.blockRules = ['.m4a', '.mp3', '.gif', '.jpeg', '.jpg', '.ico', '.png', 'hm.baidu.com', '/ads/*.js', 'cnzz.com', '51.la'];\\n        }\\n    }\\n\\n    if (list_col_type.indexOf(\\\"_left\\\") > -1) {\\n        extra.textAlign = 'left';\\n    }\\n    if (stype == \\\"小说\\\" || details[\\\"rule\\\"] || details[\\\"novel\\\"] || 列表[i].rule) {\\n        extra.url = 列表[i].url;\\n        lazy = lazy.replace(\\\"@lazyRule=.\\\", ((stype == \\\"小说\\\" || details[\\\"novel\\\"]) ? \\\"#readTheme##autoPage#\\\" : \\\"#noRecordHistory#\\\") + \\\"@rule=\\\").replace(`input.split(\\\"##\\\")[1]`, `MY_PARAMS.url || \\\"\\\"`);\\n    }\\n    d.push({\\n        title: reviseLiTitle == \\\"1\\\" ? 列表[i].title.replace(name, '').replace(/‘|’|“|”|<[^>]+>| |-|_|第|集|话|章|\\\\</g, '').replace('（', '(').replace('）', ')') : 列表[i].title,\\n        url: 列表[i].url + lazy,\\n        desc: 列表[i].desc,\\n        img: 列表[i].img,\\n        col_type: 列表[i].col_type || list_col_type.replace(\\\"_left\\\", \\\"\\\"),\\n        extra: extra\\n    });\\n\\n}\\n\\nd.push({\\n    title: \\\"‘‘’’<small><font color=#f20c00>当前数据源：\\\" + sname + \\\"作者：\\\" + \\\"</font></small>\\\",\\n    url: 'hiker://empty',\\n    col_type: 'text_center_1',\\n    extra: {\\n        id: getMyVar('换源变更列表id') ? \\\"Julistloading2\\\" : \\\"Julistloading\\\",\\n        lineVisible: false\\n    }\\n});\"},{\"col_type\":\"movie_3\",\"name\":\"Lazy\",\"path\":\"lazy\",\"rule\":\"var lazy = $(\\\"\\\").lazyRule(() => {\\n    var url=input\\n    var 公共={\\nhost:\\\"http://www.yuetingba.cn\\\",\\nplay:'http://223.242.110.85:50010'\\n};\\n    var html = fetch(公共.host + \\\"/api/app/docs-listen/\\\"+url+\\\"/ting-with-ef\\\", {\\n            \\\"headers\\\": {\\n                \\\"Accept\\\": \\\"application/json, text/plain, */*\\\",\\n                \\\"Referer\\\":\\\"http://www.yuetingba.cn/tingpage/index.html\\\"\\n            }\\n        })\\n        \\n      var e =JSON.parse(html).ef;\\n     eval(getCryptoJS())\\n        let key = CryptoJS.enc.Base64.parse(\\\"le95G3hnFDJsBE+1/v9eYw==\\\"),\\n    iv = CryptoJS.enc.Base64.parse(\\\"IvswQFEUdKYf+d1wKpYLTg==\\\")\\ne = (e + \\\"\\\").replace(/\\\\n*$/g, \\\"\\\").replace(/\\\\n/g, \\\"\\\");\\nconst t = CryptoJS.enc.Base64.parse(e)\\n    , n = CryptoJS.enc.Base64.stringify(t);\\n\\nreturn  公共.play+ CryptoJS.AES.decrypt(n, key, {\\n    iv: iv,\\n    mode: CryptoJS.mode.CBC,\\n    padding: CryptoJS.pad.Pkcs7\\n}).toString(CryptoJS.enc.Utf8).toString()\\n});\"}]","proxy":"","icon":"http://www.yuetingba.cn/custom/images/logo.png"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"Lazy","path":"lazy","rule":"var lazy = $(\"\").lazyRule(() => {\n    var url=input\n    var url = JSON.parse(request(url)).data.url.replace(/(.*?)\\?.*/ ,'$1')\n        return url+';{Referer@'+url+'}#isMusic=true#';\n});"}],"title":"酷我听书","author":"天涯客","version":0,"type":"video","url":"hiker://empty##fypage","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar page=MY_PAGE\nrc('https://gitee.com/mistywater/hiker_info/raw/master/f', 24);\r\n        addListener('onClose', () => {\r\n            clearMyVar('curl');\r\n            clearMyVar('index');\r\n        });\r\n        let d = [];\r\n\nif (MY_PAGE == 1) {\n    d.push({\n        desc: \"搜你想要的...\",\n        title: \"🔍\",\n        url: \"'hiker://search?rule=\" + MY_RULE.title + \"&s='+input\",\n        col_type: \"input\",\n    });\n}\n        if (MY_PAGE == 1) {\r\n            var data = JSON.parse(fetchPC('http://tingshu.kuwo.cn/v2/api/product/page/template/info?tempId=1685&rn=20&platform=1&pn=1')).data.child;\r\n            var list1 = data[0].child.concat(data[1].child);\r\n            list1.forEach(function(list, index, data) {\r\n                d.push({\r\n                    title: getMyVar('cindex', '0') == index ? strong(list.moduleTitle, 'FF6699') : color(list.moduleTitle, '666666'),\r\n                    url: $(list.moduleUrl.split(':')[0] + '#noLoading#').lazyRule((index) => {\r\n                        clearMyVar('url');\r\n                        clearMyVar('index');\r\n                        putMyVar('curl', input);\r\n                        putMyVar('cindex', index + '');\r\n                        refreshPage();\r\n                        return 'hiker://empty';\r\n                    }, index),\r\n                    col_type: 'scroll_button'\r\n                });\r\n            });\r\n            d.push({\r\n                col_type: 'blank_block'\r\n            });\r\n            var list2 = JSON.parse(fetchPC('https://tingshu.kuwo.cn/v2/api/search/filter/classify?categoryId=' + getMyVar('curl', '2'))).data;\r\n            list2.unshift({\r\n                name: '全部',\r\n                id: 0,\r\n            });\r\n          \n            \n            list2.forEach(function(list, index, data) {\r\n           \n            \n                d.push({\r\n                    title: index == getMyVar('index', '0') ? strong(list.name, 'FF6699') : color(list.name, '666666'),\r\n                    url: $(list.id + '#noLoading#').lazyRule((index) => {\r\n                        putMyVar('url', input);\r\n                        putMyVar('index', index + '');\r\n                        refreshPage();\r\n                        return 'hiker://empty';\r\n                    }, index),\r\n                    col_type: 'scroll_button'\r\n                });\r\n            });\r\n        }\r\n     \n        var url = 'https://tingshu.kuwo.cn/v2/api/search/filter/albums?classifyId=' + getMyVar('url', '0') + '&notrace=0&platform=1&sortType=playCnt&rn=30&categoryId=' + getMyVar('curl', '2') + '&pn=' + page;\r\n      \n        var list = JSON.parse(fetchPC(url)).data.data;\r\n        for (var list of list) {\r\n            d.push({\r\n                title: list.albumName,\r\n                img: list.coverImg,\r\n                url: 'http://search.kuwo.cn/r.s?stype=albuminfo&albumid=' + list.albumId + '&pn=0&rn=' + list.songNum + '&show_copyright_off=1&vipver=MUSIC_8.2.0.0_BCS17&mobi=1&sortby=3&iskwbook=1#immersiveTheme#',\r\n            });\r\n        }         \n setResult(d)","searchFind":"js:\nrc('https://gitee.com/mistywater/hiker_info/raw/master/f', 24);\nvar d = [];\nvar host = 'http://tingshu.kuwo.cn';\nvar url = 'http://search.kuwo.cn/r.s?client=kt&all=' + MY_KEYWORD + '&ft=album&pn=' + (MY_PAGE - 1) + '&rn=10&rformat=json&encoding=utf8&show_series_listen=1';\nvar html = fetchPC(url);\neval('var json = ' + html)\nvar list = json.albumlist;\nfor (var list of list) {\n        d.push({\n        title: list.name,\n        img: list.img,\n        desc: list.artist,\n        content: list.info,\n        url: 'http://search.kuwo.cn/r.s?stype=albuminfo&albumid=' + list.id + '&pn=0&rn=' + list.musiccnt + '&show_copyright_off=1&vipver=MUSIC_8.2.0.0_BCS17&mobi=1&sortby=3&iskwbook=1#immersiveTheme#',\n    });\n}\n\nsetResult(d)","search_url":"hiker://empty##**##fypage","group":"F听书","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\n\nrc('https://gitee.com/mistywater/hiker_info/raw/master/f', 24);\n         \n       surl=MY_URL\n        let html = fetchPC(surl);\n        var list = JSON.parse(html);       \n        let 作, 状, 类, 字, 章, 更, 简, 图;\n        try {\n            作 = '播音：'+list.artist;\n            状 = list.title\n            //状 = xpath(html, '//p[contains(text(),\"状  态\")]/text()');\n            //字 = xpath(html, '//p[contains(text(),\"字数：\")]/text()');\n            更 = \"最后更新：\"+list.pub;\n            //章 = '最新章节：' + pdfh(html, '.section-list&&a&&Text');\n            简 = list.info;\n            图 = list.img;\n        } catch (e) {}\n        let detail1 = ss((作 ? 作 : '') + '\\n' + (类 ? 类 : '') + '\\n' + (字 ? 字 : ''), 'CC3366');\n        let detail2 = color((状 ? 状 : '') + '\\n' + (章 ? 章 : '') + '\\n' + (更 ? 更 : ''), '006699');        \n        let 选集 = list.musiclist.map((data) => {\n            let 选集列表 = {};\n            选集列表.title = data.name.replace(/《.*?》/, '')\n            选集列表.url = 'https://mobi.kuwo.cn/mobi.s?f=web&source=kwplayertv_ar_5.1.0.1_B_fangyitong_vh.apk&type=convert_url_with_sign&rid='+data.musicrid\n            return 选集列表;\n        });\n       \n     var details =  {\n            detail1: detail1,\n            detail2: detail2,\n            desc: 简||'',\n            img: 图,\n            list: 选集\n        }\n\n\npic = details.img || \"https://p1.ssl.qhimgs1.com/sdr/400__/t018d6e64991221597b.jpg\";\npic = pic && pic.indexOf(\"@Referer=\") == -1 ? pic + \"@Referer=\" : pic;\n\nd.push({\n    title: details.detail1 || \"\",\n    desc: details.detail2 || \"\",\n    pic_url: details.img,\n    url: details.detailurl || (/^http/.test(MY_URL) ? MY_URL + '#noRecordHistory##noHistory#' : details.img),\n    col_type: 'movie_1_vertical_pic_blur',\n    extra: {\n        gradient: true\n    }\n})\n\n\n\neval(JSON.parse(fetch(\"hiker://page/lazy\")).rule);\neval(JSON.parse(fetch(\"hiker://page/details?rule=六月听书\")).rule);\n\n\nsetResult(d)","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"Lazy\",\"path\":\"lazy\",\"rule\":\"var lazy = $(\\\"\\\").lazyRule(() => {\\n    var url=input\\n    var url = JSON.parse(request(url)).data.url.replace(/(.*?)\\\\?.*/ ,'$1')\\n        return url+';{Referer@'+url+'}#isMusic=true#';\\n});\"}]","proxy":"","icon":"http://tingshu.kuwo.cn/favicon.ico"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"Lazy","path":"lazy","rule":"var lazy = $(\"\").lazyRule(() => {\n    var url=input\n    var url = JSON.parse(request(url)).data.url.replace(/(.*?)\\?.*/ ,'$1')\n        return url+';{Referer@'+url+'}#isMusic=true#';\n});"},{"col_type":"movie_3","name":"选集","path":"details","rule":"surl = MY_URL\nvar sname = MY_RULE.title;\nvar stype = \"听书\"\n\nvar name = getPageTitle()\nvar desc=details.desc\n\n function setDesc(d, desc, num){\n        //log(desc)\n        if (desc == undefined) {\n            return;\n        }\n        desc = desc.constructor == Array ? desc.join('<br>') : desc;\n        if (desc.replace(/(<br>|\\s+|<\\/?p>|&nbsp;)/g, '').length == 0) {\n            return;\n        }\n        const mark = 'desc';\n        num = typeof(num) == 'undefined' ? 100 : num\n        desc = desc.startsWith('　　') ? desc : '　　' + desc;\n        desc = desc.replace(/'/g, \"&#39;\");\n        desc = desc.replace(/\\r\\n/g, \"<br>\");\n        desc = desc.replace(/\\r/g, \"<br>\");\n        desc = desc.replace(/\\n/g, \"<br>\");\n\n        function substr(str, maxLength) {\n            let len = 0;\n            for (let i = 0; i < str.length; i++) {\n                if (str.charCodeAt(i) > 255) {\n                    len += 2;\n                } else {\n                    len++;\n                }\n                if (len > maxLength) {\n                    return str.slice(0, i) + '...';\n                }\n            }\n            return str;\n        }\n        let sdesc = substr(desc, num);\n        var colors = {\n            show: \"black\",\n            hide: \"grey\"\n        }\n        var lazy = $(`#noLoading#`).lazyRule((dc, sdc, m, cs) => {\n            var show = storage0.getItem(m, '0');\n            var title = findItem('desc').title;\n            var re = /(<\\/small><br>.*?>).+/g;\n            var exp = '展开:';\n            var ret = '收起:';\n            if (show == '1') {\n                updateItem('desc', {\n                    title: title\n                        .replace(ret, exp)\n                        .replace(re, '$1' + sdc + '</small>')\n                        .replace(/(<\\/small><br>\\<font color=\").*?(\">)/, '$1' + cs.hide + '$2')\n                })\n                storage0.setItem(m, '0');\n            } else {\n                updateItem('desc', {\n                    title: title\n                        .replace(exp, ret)\n                        .replace(re, '$1' + dc + '</small>')\n                        .replace(/(<\\/small><br>\\<font color=\").*?(\">)/, '$1' + cs.show + '$2')\n                })\n                storage0.setItem(m, '1');\n            }\n            return `hiker://empty`\n        }, desc, sdesc, mark, colors)\n        var sc = storage0.getItem(mark, '0') == '0' ? '展开:' : '收起:';\n        var dc = storage0.getItem(mark, '0') == '0' ? sdesc : desc;\n        var cs = storage0.getItem(mark, '0') == '0' ? colors.hide : colors.show;\n        d.push({\n            title: '' + '<b><font color=\"#098AC1\">∷剧情简介\t</font></b>' + \"<small><a style='text-decoration: none;' href='\" + lazy + \"'>\" + sc + '</a></small><br><font color=\"' + cs + '\">' + `${dc}` + '</small>',\n            col_type: 'rich_text',\n            extra: {\n                id: 'desc',\n                lineSpacing: 6,\n                textSize: 15,\n                lineVisible: true,\n            }\n        })\n    }\n       \n    setDesc(d,details.desc)\n\n\nlineid = parseInt(getMyVar(\"SrcJu_\" + surl + \"_line\", \"0\"));\npageid = parseInt(getMyVar(\"SrcJu_\" + surl + \"_page\", \"0\"));\n\nlet 线路s = [\"线路\"];\nlet 列表s = [\n    []\n];\ntry {\n    线路s = details.line ? details.line : [\"线路\"];\n    列表s = details.line ? details.list : [details.list];\n    if (线路s.length != 列表s.length) {\n        xlog('√' + sname + '>源接口返回的线路数' + 线路s.length + '和列表数' + 列表s.length + '不相等');\n    }\n} catch (e) {\n    xlog('√' + sname + \">线路或列表返回数据有误>\" + e.message);\n}\nif (details.listparse) { //选集列表需要动态解析获取\n    let 线路选集 = details.listparse(lineid, 线路s[lineid]) || [];\n    if (线路选集.length > 0) {\n        列表s[lineid] = 线路选集;\n    }\n}\nif (details.page && details.pageparse) { //网站分页显示列表的，需要动态解析获取\n    try {\n        if ((detailsmark && pageid != details.pageid) || (!detailsmark && pageid > 0)) {\n            let 分页s = details.page;\n            if (pageid > 分页s.length) {\n                pageid = 0;\n            }\n            let 分页选集 = details.pageparse(分页s[pageid].url);\n            if ($.type(分页选集) == \"array\") {\n                列表s[lineid] = 分页选集;\n                details.list = details.line ? 列表s : 分页选集;\n            }\n        }\n    } catch (e) {\n        xlog('√' + sname + '分页选集处理失败>' + e.message);\n    }\n}\n\nif (lineid > 列表s.length - 1) {\n    toast('选择的线路无选集，将显示第1线路');\n    lineid = 0;\n}\n\nlet 列表 = 列表s[lineid] || [];\nif (列表.length > 0) {\n    function checkAndReverseArray(arr) {\n        const numbers = [];\n        arr.slice(0, 50).forEach(it => {\n            const digits = it.title.match(/\\d+/);\n            if (digits) {\n                numbers.push(parseInt(digits[0]));\n            }\n        })\n\n        if (numbers.length < 3) {\n            return arr;\n        }\n        let increasingCount = 0;\n        let decreasingCount = 0;\n        for (let i = 1; i < numbers.length; i++) {\n            if (numbers[i] > numbers[i - 1]) {\n                increasingCount++;\n            } else if (numbers[i] < numbers[i - 1]) {\n                decreasingCount++;\n            }\n        }\n        if (increasingCount > decreasingCount) {\n            return arr;\n        } else {\n            return arr.reverse();\n        }\n    }\n    try {\n        列表 = checkAndReverseArray(列表);\n    } catch (e) {\n        //xlog('√强制修正选集顺序失败>'+e.message)\n    }\n}\nif (getMyVar(sname + 'sort') == '1') {\n    列表.reverse();\n}\nlet line_col_type = getItem('SrcJuLine_col_type', 'scroll_button');\nd.push({\n    title: getMyVar(sname + 'sort') == '1' ? `““””<b><span style=\"color: #66CCEE\">排序⇅</span></b>` : `““””<b><span style=\"color: #55AA44\">排序⇅</span></b>`,\n    url: $(\"#noLoading#\").lazyRule((sname) => {\n        let 列表 = findItemsByCls('playlist') || [];\n        if (列表.length == 0) {\n            return 'toast://未获取到列表'\n        }\n        deleteItemByCls('playlist');\n        if (getMyVar(sname + 'sort') == '1') {\n            putMyVar(sname + 'sort', '0');\n            updateItem('listsort', {\n                title: `““””<b><span style=\"color: #55AA44\">排序⇅</span></b>`\n            });\n        } else {\n            putMyVar(sname + 'sort', '1')\n            updateItem('listsort', {\n                title: `““””<b><span style=\"color: #66CCEE\">排序⇅</span></b>`\n            });\n        };\n        列表.reverse();\n        列表.forEach(item => {\n            item.col_type = item.type;\n        })\n\n        addItemBefore(getMyVar('二级加载扩展列表') ? \"extendlist\" : getMyVar('换源变更列表id') ? \"Julistloading2\" : \"Julistloading\", 列表); //排序和样式动态处理插入列表时查找id\n        return 'toast://切换排序成功'\n    }, sname),\n    col_type: line_col_type,\n    extra: {\n        id: \"listsort\",\n        cls: \"Juloadlist\"\n    }\n})\nlet reviseLiTitle = getItem('reviseLiTitle', '0');\nd.push({\n    title: `““””<b><span style=\"color: #f47983\">样式<small>🎨</small></span></b>`,\n    url: $([\"text_1\", \"text_2\", \"text_3\", \"text_4\", \"flex_button\", \"text_2_left\", \"text_3_left\", \"分页设置\"], 2, \"选集列表样式\").select(() => {\n        if (input == \"分页设置\") {\n            return $([\"开启分页\", \"关闭分页\", \"每页数量\", \"分页阀值\"], 2).select(() => {\n                let partpage = storage0.getItem('partpage') || {};\n                if (input == \"开启分页\") {\n                    partpage.ispage = 1;\n                    storage0.setItem('partpage', partpage);\n                } else if (input == \"关闭分页\") {\n                    partpage.ispage = 0;\n                    storage0.setItem('partpage', partpage);\n                } else if (input == \"每页数量\") {\n                    return $(partpage.pagenum || \"40\", \"每页选集数量\").input((partpage) => {\n                        partpage.pagenum = parseInt(input);\n                        storage0.setItem('partpage', partpage);\n                        refreshPage(false);\n                        return 'hiker://empty'\n                    }, partpage)\n                } else if (input == \"分页阀值\") {\n                    return $(partpage.partnum || \"100\", \"选集数量超过多少才分页\").input((partpage) => {\n                        partpage.partnum = parseInt(input);\n                        storage0.setItem('partpage', partpage);\n                        refreshPage(false);\n                        return 'hiker://empty'\n                    }, partpage)\n                }\n                refreshPage(false);\n                return 'hiker://empty'\n            })\n        } else {\n            let 列表 = findItemsByCls('playlist') || [];\n            if (列表.length == 0) {\n                return 'toast://未获取到列表'\n            }\n            deleteItemByCls('playlist');\n            let list_col_type = input;\n            列表.forEach(item => {\n                item.col_type = list_col_type.replace(\"_left\", \"\");\n                if (list_col_type.indexOf(\"_left\") > -1) {\n                    item.extra.textAlign = 'left';\n                } else {\n                    delete item.extra.textAlign;\n                }\n            })\n            addItemBefore(getMyVar('二级加载扩展列表') ? \"extendlist\" : getMyVar('换源变更列表id') ? \"Julistloading2\" : \"Julistloading\", 列表);\n            setItem('SrcJuList_col_type', input);\n            return 'hiker://empty'\n        }\n    }),\n    col_type: line_col_type,\n    extra: {\n        cls: \"Juloadlist\",\n        longClick: [{\n            title: \"修正选集标题：\" + (reviseLiTitle == \"1\" ? \"是\" : \"否\"),\n            js: $.toString(() => {\n                let sm;\n                if (getItem('reviseLiTitle', '0') == \"1\") {\n                    clearItem('reviseLiTitle');\n                    sm = \"取消修正选集标题名称\";\n                } else {\n                    setItem('reviseLiTitle', '1');\n                    sm = \"统一修正选集标题名称\";\n                }\n                refreshPage(false);\n                return \"toast://\" + sm;\n            })\n        }, {\n            title: \"显示扩展项：\" + (getItem('extenditems', '1') == \"1\" ? \"是\" : \"否\"),\n            js: $.toString(() => {\n                let sm;\n                if (getItem('extenditems', '1') == \"1\") {\n                    setItem('extenditems', '0');\n                    sm = \"取消显示二级扩展项\";\n                } else {\n                    clearItem('extenditems');\n                    sm = \"显示二级扩展项\";\n                }\n                refreshPage(false);\n                return \"toast://\" + sm;\n            })\n        }, {\n            title: \"线路样式：\" + getItem('SrcJuLine_col_type', 'scroll_button'),\n            js: $.toString(() => {\n                let sm;\n                if (getItem('SrcJuLine_col_type', 'scroll_button') == \"flex_button\") {\n                    clearItem('SrcJuLine_col_type');\n                    sm = \"线路样式已切换为scroll_button\";\n                } else {\n                    setItem('SrcJuLine_col_type', 'flex_button');\n                    sm = \"线路样式已切换为flex_button\";\n                }\n                refreshPage(false);\n                return \"toast://\" + sm;\n            })\n        }]\n    }\n})\n\nif (线路s.length > 0 && 线路s[0] != \"线路\") {\n    线路s.forEach((it, i) => {\n        d.push({\n            title: lineid == i ? `““””<b><span style=\"color: #04B45F\">` + it + `</span></b>` : it,\n            url: $(\"#noLoading#\").lazyRule((lineurl, nowid, newid) => {\n                if (nowid != newid) {\n                    putMyVar(lineurl, newid);\n                    refreshPage(false);\n                }\n                return 'hiker://empty'\n            }, \"SrcJu_\" + surl + \"_line\", lineid, i),\n            col_type: line_col_type,\n            extra: {\n                cls: \"Juloadlist\"\n            }\n        })\n    })\n}\n//分页定义\nlet partpage = storage0.getItem('partpage') || {};\nif (details.page && details.pageparse) { //原网站有分页，不执行自定义分页\n    let 分页s = details.page\n    let 分页链接 = [];\n    let 分页名 = [];\n    分页s.forEach((it, i) => {\n        分页链接.push($(\"#noLoading#\").lazyRule((pageurl, nowid, newid) => {\n            if (nowid != newid) {\n                putMyVar(pageurl, newid);\n                refreshPage(false);\n            }\n            return 'hiker://empty'\n        }, \"SrcJu_\" + surl + \"_page\", pageid, i))\n        分页名.push(pageid == i ? '““””<span style=\"color: #87CEFA\">' + it.title : it.title)\n    })\n    if (分页名.length > 0) {\n        d.push({\n            col_type: \"blank_block\",\n            extra: {\n                cls: \"Juloadlist\"\n            }\n        });\n        d.push({\n            title: pageid == 0 ? \"↪️尾页\" : \"⏮️上页\",\n            url: pageid == 0 ? 分页链接[分页名.length - 1] : 分页链接[pageid - 1],\n            col_type: 'text_4',\n            extra: {\n                cls: \"Juloadlist\"\n            }\n        })\n        d.push({\n            title: 分页名[pageid],\n            url: $(分页名, 2).select((分页名, 分页链接) => {\n                return 分页链接[分页名.indexOf(input)];\n            }, 分页名, 分页链接),\n            col_type: 'text_2',\n            extra: {\n                cls: \"Juloadlist\"\n            }\n        })\n        d.push({\n            title: pageid == 分页名.length - 1 ? \"首页↩️\" : \"下页⏭️\",\n            url: pageid == 分页名.length - 1 ? 分页链接[0] : 分页链接[pageid + 1],\n            col_type: 'text_4',\n            extra: {\n                cls: \"Juloadlist\"\n            }\n        })\n    }\n} else if (partpage.ispage) { //启用分页\n    let 每页数量 = partpage.pagenum || 40; // 分页的每页数量       \n    let 翻页阀值 = partpage.partnum || 100; // 分页的翻页阀值，超过多少才显示翻页\n\n    if (列表.length > 翻页阀值) {\n        let 最大页数 = Math.ceil(列表.length / 每页数量);\n        let 分页页码 = pageid + 1; //当前页数\n        if (分页页码 > 最大页数) { //防止切换线路导致页数数组越界\n            分页页码 = 最大页数;\n        }\n        let 分页链接 = [];\n        let 分页名 = [];\n\n        function getNewArray(array, subGroupLength) {\n            let index = 0;\n            let newArray = [];\n            while (index < array.length) {\n                newArray.push(array.slice(index, index += subGroupLength));\n            }\n            return newArray;\n        }\n        let 分页s = getNewArray(列表, 每页数量); //按每页数据切割成小数组\n\n        分页s.forEach((it, i) => {\n            分页链接.push($(\"#noLoading#\").lazyRule((pageurl, nowid, newid) => {\n                if (nowid != newid) {\n                    putMyVar(pageurl, newid);\n                    refreshPage(false);\n                }\n                return 'hiker://empty'\n            }, \"SrcJu_\" + surl + \"_page\", pageid, i))\n            let start = i * 每页数量 + 1;\n            let end = i * 每页数量 + it.length;\n            let title = start + ' - ' + end;\n            分页名.push(pageid == i ? '““””<span style=\"color: #87CEFA\">' + title : title)\n        })\n        d.push({\n            col_type: \"blank_block\",\n            extra: {\n                cls: \"Juloadlist\"\n            }\n        });\n        d.push({\n            title: 分页页码 == 1 ? \"↪️尾页\" : \"⏮️上页\",\n            url: 分页页码 == 1 ? 分页链接[分页名.length - 1] : 分页链接[pageid - 1],\n            col_type: 'text_4',\n            extra: {\n                cls: \"Juloadlist\"\n            }\n        })\n        d.push({\n            title: 分页名[pageid],\n            url: $(分页名, 2).select((分页名, 分页链接) => {\n                return 分页链接[分页名.indexOf(input)];\n            }, 分页名, 分页链接),\n            col_type: 'text_2',\n            extra: {\n                cls: \"Juloadlist\"\n            }\n        })\n        d.push({\n            title: 分页页码 == 分页名.length ? \"首页↩️\" : \"下页⏭️\",\n            url: 分页页码 == 分页名.length ? 分页链接[0] : 分页链接[pageid + 1],\n            col_type: 'text_4',\n            extra: {\n                cls: \"Juloadlist\"\n            }\n        })\n        列表 = 分页s[pageid]; //取当前分页的选集列表\n    }\n}\n\nlet list_col_type = getItem('SrcJuList_col_type', 'text_2'); //列表样式\nfor (let i = 0; i < 列表.length; i++) {\n    let extra = Object.assign({}, details[\"extra\"] || {}); //二级返回数据中的extra设为默认\n    try {\n        extra = Object.assign(extra, 列表[i].extra || {}); //优先用选集的extra\n    } catch (e) {}\n\n    extra.id = name + \"_选集_\" + (pageid ? pageid + \"_\" : \"\") + i;\n    extra.cls = \"Juloadlist playlist\";\n    if (stype == \"听书\" || stype == \"影视\" || stype == \"音乐\") {\n        extra.jsLoadingInject = true;\n        if (!extra.blockRules) {\n            extra.blockRules = ['.m4a', '.mp3', '.gif', '.jpeg', '.jpg', '.ico', '.png', 'hm.baidu.com', '/ads/*.js', 'cnzz.com', '51.la'];\n        }\n    }\n\n    if (list_col_type.indexOf(\"_left\") > -1) {\n        extra.textAlign = 'left';\n    }\n    if (stype == \"小说\" || details[\"rule\"] || details[\"novel\"] || 列表[i].rule) {\n        extra.url = 列表[i].url;\n        lazy = lazy.replace(\"@lazyRule=.\", ((stype == \"小说\" || details[\"novel\"]) ? \"#readTheme##autoPage#\" : \"#noRecordHistory#\") + \"@rule=\").replace(`input.split(\"##\")[1]`, `MY_PARAMS.url || \"\"`);\n    }\n    d.push({\n        title: reviseLiTitle == \"1\" ? 列表[i].title.replace(name, '').replace(/‘|’|“|”|<[^>]+>| |-|_|第|集|话|章|\\</g, '').replace('（', '(').replace('）', ')') : 列表[i].title,\n        url: 列表[i].url + lazy,\n        desc: 列表[i].desc,\n        img: 列表[i].img,\n        col_type: 列表[i].col_type || list_col_type.replace(\"_left\", \"\"),\n        extra: extra\n    });\n\n}\n\nd.push({\n    title: \"‘‘’’<small><font color=#f20c00>当前数据源：\" + sname + \"作者：\" + \"</font></small>\",\n    url: 'hiker://empty',\n    col_type: 'text_center_1',\n    extra: {\n        id: getMyVar('换源变更列表id') ? \"Julistloading2\" : \"Julistloading\",\n        lineVisible: false\n    }\n});"}],"title":"六月听书","author":"天涯客","version":0,"type":"video","url":"hiker://empty##http://m.6yueting.com##fypage","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar page=MY_PAGE\nlet d = [];      \r\nif (MY_PAGE == 1) {\n    d.push({\n        desc: \"搜你想要的...\",\n        title: \"🔍\",\n        url: \"'hiker://search?rule=\" + MY_RULE.title + \"&s='+input\",\n        col_type: \"input\",\n    });\n}\n        var 类别 = MY_RULE.title + \"类别\";\r\n        var 类别名 = getMyVar(类别, \"http://m.6yueting.com/ys/t1\");\n        var 排序 = MY_RULE.title + \"排序\"\n        var 排序名 = getMyVar(排序, \"o1\");\r\n\r\n        var class_Name = MY_RULE.title + \"分类\";\r\n        if (page == 1) {\r\n            if (!getMyVar(class_Name)) {\r\n                var codes = request(\"http://m.6yueting.com/ys\");\r\n                putMyVar(class_Name, codes)\r\n            } else {\r\n                var codes = getMyVar(class_Name)\r\n            }\r\n            var 分类项1 = pdfa(codes, '.type-list&&li,1:').map((data) => {\r\n                var 项数据 = {};\r\n                项数据.title = pdfh(data, 'a&&Text')\r\n                项数据.bs = 'http://m.6yueting.com' + pdfh(data, 'a&&href')\r\n                项数据.sz = 项数据.bs == 类别名 ? true : false;\r\n                return 项数据;\r\n            })\n            var 分类项2 = pdfa(codes, '.type-list,1&&li').map((data) => {\n                var 项数据 = {};\n                项数据.title = pdfh(data, 'a&&Text')\n                项数据.bs = 'http://m.6yueting.com' +pdfh(data, 'a&&href')\n                项数据.sz = 项数据.bs == 类别名 ? true : false;\n                return 项数据;\n            })\r\n\r\n            function List_of_options(数据源, 赋值名) {\r\n                d.push({\r\n                    col_type: 'blank_block'\r\n                });\r\n                数据源.forEach((data) => {\r\n                    var title = data.title;                    \n              \r\n                    if (data.sz||getMyVar(排序, \"o1\") == data.bs) {\r\n                        title = '““””<b><font color=#FA7298>' + title + '</font></b>';\r\n                    }\r\n                    var url_qz = $(\"#noLoading#\").lazyRule((list_name, Url) => {\r\n                        putMyVar(list_name, Url)\r\n                        refreshPage(false);\r\n                        return \"hiker://empty\"\r\n                    }, 赋值名, data.bs)\r\n                    d.push({\r\n                        title: title,\r\n                        url: url_qz,\r\n                        col_type: \"scroll_button\"\r\n                    });\r\n                })\r\n            }\r\n            List_of_options(分类项1, 类别);\n            List_of_options(分类项2, 类别);\n            let 排序项 = [{title:\"最多播放\",bs:\"o1\",id:\"1\"},{title:\"最近更新\",bs:\"o2\",id:\"2\"}]\n            List_of_options(排序项, 排序);\n            var 排序index = 排序项.filter(d => d.bs==排序名)[0].id;\r\n        }\r\n\r\n        var html = request(类别名+'/'+排序名+'/p'+ page);        \r\n        pdfa(html, '.list-wrapper&&a').forEach(function(data) {\r\n            d.push({\r\n                title: pdfh(data, 'h2--span&&Text').replace(/\\（.*|\\｜.*|\\|.*|\\(.*|【.*?】|\\丨|\\s.*/, '').replace(/(.*?)\\|.*/,'$1')\n           .replace(/(.*?)\\|.*/,'$1')\n           .replace(/(.*?)\\（.*/,'$1')\n           .replace(/(.*?)\\/.*/,'$1')\n           .replace(/(.*?)-.*/,'$1'),\r\n                desc: pdfh(data, '.text--h2&&Text'),\r\n                pic_url: pdfh(data, 'img&&src'),\r\n                url: 'http://m.6yueting.com' + pdfh(data, 'a&&href')+\"#immersiveTheme#\",\r\n                col_type: \"movie_1_vertical_pic\"\r\n            });\r\n        });\n setResult(d)","searchFind":"js:\nvar d = [];\n\nvar key = MY_KEYWORD\nvar page= MY_PAGE\nvar url = 'http://m.6yueting.com/search/index/search?content=' + key + '&type=1&pageNum=' + page + '&pageSize=40';\nvar json = {};\neval('json=' + fetch(url, {}));\nfor (var i = 0; i < json.data.content.length; i++) {\n    var r = {};\n    var j = json.data.content[i];\n    r.title = j.name.replace(/<.*?>/g, '');\n    r.url = 'http://m.6yueting.com/list/' + j.code+\"#immersiveTheme#\";\n    r.desc = j.broadcaster;\n    r.content = j.descXx.replace(/&nbsp;/g, '');\n    r.img = 'http://img.6yueting.com:20001/' + j.coverUrlLocal;\n    if (r.title !== null && r.title !== undefined && r.title !== '') d.push(r);\n}\n\nsetResult(d)","search_url":"hiker://empty##**##fypage","group":"F听书","detail_col_type":"movie_1","detail_find_rule":"js:\n           \n           var d = [];\n\n          var html = getResCode()\n        let 类型 = pdfh(html, '.desc&&.extra&&Text');\n          let 主播 = pdfh(html, '.desc&&.extra,1&&Text');\n        let 作者 = pdfh(html, '.desc&&.extra,2&&Text');\n       let 状态 = pdfh(html, '.desc&&.extra,3&&Text');\n        let detail1 = 类型+\"\\n\"+主播+\"\\n\"+作者; \n        let detail2 = 状态;\n        let 图片 = pdfh(html, '.book&&img&&src');\n        let 简介 = pdfh(html, '.book-intro&&Text')\n        var list = parseDom(html, '.book-list&&Html').match(/<a[\\s\\S]*?<\\/a>/g);\n        let 选集 = list.reverse().map((data) => {\n            let 选集列表 = {};\n            选集列表.title = pdfh(data, 'a&&Text');\n            选集列表.url = pd(data, 'a&&href');\n            return 选集列表;\n        })\n        var details={\n           detail1: `‘‘’’<font color=#FFA07A><b>${detail1}</b></font>`,\n            detail2: `‘‘’’<font color=\"#006699\">${detail2}</font>`,\n            desc: 简介,\n            img: 图片,\n            list: 选集\n        }\n\n\npic = details.img || \"https://p1.ssl.qhimgs1.com/sdr/400__/t018d6e64991221597b.jpg\";\npic = pic && pic.indexOf(\"@Referer=\") == -1 ? pic + \"@Referer=\" : pic;\n\nd.push({\n    title: details.detail1 || \"\",\n    desc: details.detail2 || \"\",\n    pic_url: details.img,\n    url: details.detailurl || (/^http/.test(MY_URL) ? MY_URL + '#noRecordHistory##noHistory#' : details.img),\n    col_type: 'movie_1_vertical_pic_blur',\n    extra: {\n        gradient: true\n    }\n})\n\neval(JSON.parse(fetch('hiker://page/setDesc?rule=喜马拉雅')).rule);\nsetDesc(d, details.desc)\n\neval(JSON.parse(fetch(\"hiker://page/lazy\")).rule);\neval(JSON.parse(fetch(\"hiker://page/details\")).rule);\n\n\nsetResult(d)","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"Lazy\",\"path\":\"lazy\",\"rule\":\"var lazy = $(\\\"\\\").lazyRule(() => {\\n    var url=input\\n    var url = JSON.parse(request(url)).data.url.replace(/(.*?)\\\\?.*/ ,'$1')\\n        return url+';{Referer@'+url+'}#isMusic=true#';\\n});\"},{\"col_type\":\"movie_3\",\"name\":\"选集\",\"path\":\"details\",\"rule\":\"surl = MY_URL\\nvar sname = MY_RULE.title;\\nvar stype = \\\"听书\\\"\\n\\nvar name = getPageTitle()\\nvar desc=details.desc\\n\\n function setDesc(d, desc, num){\\n        //log(desc)\\n        if (desc == undefined) {\\n            return;\\n        }\\n        desc = desc.constructor == Array ? desc.join('<br>') : desc;\\n        if (desc.replace(/(<br>|\\\\s+|<\\\\/?p>|&nbsp;)/g, '').length == 0) {\\n            return;\\n        }\\n        const mark = 'desc';\\n        num = typeof(num) == 'undefined' ? 100 : num\\n        desc = desc.startsWith('　　') ? desc : '　　' + desc;\\n        desc = desc.replace(/'/g, \\\"&#39;\\\");\\n        desc = desc.replace(/\\\\r\\\\n/g, \\\"<br>\\\");\\n        desc = desc.replace(/\\\\r/g, \\\"<br>\\\");\\n        desc = desc.replace(/\\\\n/g, \\\"<br>\\\");\\n\\n        function substr(str, maxLength) {\\n            let len = 0;\\n            for (let i = 0; i < str.length; i++) {\\n                if (str.charCodeAt(i) > 255) {\\n                    len += 2;\\n                } else {\\n                    len++;\\n                }\\n                if (len > maxLength) {\\n                    return str.slice(0, i) + '...';\\n                }\\n            }\\n            return str;\\n        }\\n        let sdesc = substr(desc, num);\\n        var colors = {\\n            show: \\\"black\\\",\\n            hide: \\\"grey\\\"\\n        }\\n        var lazy = $(`#noLoading#`).lazyRule((dc, sdc, m, cs) => {\\n            var show = storage0.getItem(m, '0');\\n            var title = findItem('desc').title;\\n            var re = /(<\\\\/small><br>.*?>).+/g;\\n            var exp = '展开:';\\n            var ret = '收起:';\\n            if (show == '1') {\\n                updateItem('desc', {\\n                    title: title\\n                        .replace(ret, exp)\\n                        .replace(re, '$1' + sdc + '</small>')\\n                        .replace(/(<\\\\/small><br>\\\\<font color=\\\").*?(\\\">)/, '$1' + cs.hide + '$2')\\n                })\\n                storage0.setItem(m, '0');\\n            } else {\\n                updateItem('desc', {\\n                    title: title\\n                        .replace(exp, ret)\\n                        .replace(re, '$1' + dc + '</small>')\\n                        .replace(/(<\\\\/small><br>\\\\<font color=\\\").*?(\\\">)/, '$1' + cs.show + '$2')\\n                })\\n                storage0.setItem(m, '1');\\n            }\\n            return `hiker://empty`\\n        }, desc, sdesc, mark, colors)\\n        var sc = storage0.getItem(mark, '0') == '0' ? '展开:' : '收起:';\\n        var dc = storage0.getItem(mark, '0') == '0' ? sdesc : desc;\\n        var cs = storage0.getItem(mark, '0') == '0' ? colors.hide : colors.show;\\n        d.push({\\n            title: '' + '<b><font color=\\\"#098AC1\\\">∷剧情简介\\t</font></b>' + \\\"<small><a style='text-decoration: none;' href='\\\" + lazy + \\\"'>\\\" + sc + '</a></small><br><font color=\\\"' + cs + '\\\">' + `${dc}` + '</small>',\\n            col_type: 'rich_text',\\n            extra: {\\n                id: 'desc',\\n                lineSpacing: 6,\\n                textSize: 15,\\n                lineVisible: true,\\n            }\\n        })\\n    }\\n       \\n    setDesc(d,details.desc)\\n\\n\\nlineid = parseInt(getMyVar(\\\"SrcJu_\\\" + surl + \\\"_line\\\", \\\"0\\\"));\\npageid = parseInt(getMyVar(\\\"SrcJu_\\\" + surl + \\\"_page\\\", \\\"0\\\"));\\n\\nlet 线路s = [\\\"线路\\\"];\\nlet 列表s = [\\n    []\\n];\\ntry {\\n    线路s = details.line ? details.line : [\\\"线路\\\"];\\n    列表s = details.line ? details.list : [details.list];\\n    if (线路s.length != 列表s.length) {\\n        xlog('√' + sname + '>源接口返回的线路数' + 线路s.length + '和列表数' + 列表s.length + '不相等');\\n    }\\n} catch (e) {\\n    xlog('√' + sname + \\\">线路或列表返回数据有误>\\\" + e.message);\\n}\\nif (details.listparse) { //选集列表需要动态解析获取\\n    let 线路选集 = details.listparse(lineid, 线路s[lineid]) || [];\\n    if (线路选集.length > 0) {\\n        列表s[lineid] = 线路选集;\\n    }\\n}\\nif (details.page && details.pageparse) { //网站分页显示列表的，需要动态解析获取\\n    try {\\n        if ((detailsmark && pageid != details.pageid) || (!detailsmark && pageid > 0)) {\\n            let 分页s = details.page;\\n            if (pageid > 分页s.length) {\\n                pageid = 0;\\n            }\\n            let 分页选集 = details.pageparse(分页s[pageid].url);\\n            if ($.type(分页选集) == \\\"array\\\") {\\n                列表s[lineid] = 分页选集;\\n                details.list = details.line ? 列表s : 分页选集;\\n            }\\n        }\\n    } catch (e) {\\n        xlog('√' + sname + '分页选集处理失败>' + e.message);\\n    }\\n}\\n\\nif (lineid > 列表s.length - 1) {\\n    toast('选择的线路无选集，将显示第1线路');\\n    lineid = 0;\\n}\\n\\nlet 列表 = 列表s[lineid] || [];\\nif (列表.length > 0) {\\n    function checkAndReverseArray(arr) {\\n        const numbers = [];\\n        arr.slice(0, 50).forEach(it => {\\n            const digits = it.title.match(/\\\\d+/);\\n            if (digits) {\\n                numbers.push(parseInt(digits[0]));\\n            }\\n        })\\n\\n        if (numbers.length < 3) {\\n            return arr;\\n        }\\n        let increasingCount = 0;\\n        let decreasingCount = 0;\\n        for (let i = 1; i < numbers.length; i++) {\\n            if (numbers[i] > numbers[i - 1]) {\\n                increasingCount++;\\n            } else if (numbers[i] < numbers[i - 1]) {\\n                decreasingCount++;\\n            }\\n        }\\n        if (increasingCount > decreasingCount) {\\n            return arr;\\n        } else {\\n            return arr.reverse();\\n        }\\n    }\\n    try {\\n        列表 = checkAndReverseArray(列表);\\n    } catch (e) {\\n        //xlog('√强制修正选集顺序失败>'+e.message)\\n    }\\n}\\nif (getMyVar(sname + 'sort') == '1') {\\n    列表.reverse();\\n}\\nlet line_col_type = getItem('SrcJuLine_col_type', 'scroll_button');\\nd.push({\\n    title: getMyVar(sname + 'sort') == '1' ? `““””<b><span style=\\\"color: #66CCEE\\\">排序⇅</span></b>` : `““””<b><span style=\\\"color: #55AA44\\\">排序⇅</span></b>`,\\n    url: $(\\\"#noLoading#\\\").lazyRule((sname) => {\\n        let 列表 = findItemsByCls('playlist') || [];\\n        if (列表.length == 0) {\\n            return 'toast://未获取到列表'\\n        }\\n        deleteItemByCls('playlist');\\n        if (getMyVar(sname + 'sort') == '1') {\\n            putMyVar(sname + 'sort', '0');\\n            updateItem('listsort', {\\n                title: `““””<b><span style=\\\"color: #55AA44\\\">排序⇅</span></b>`\\n            });\\n        } else {\\n            putMyVar(sname + 'sort', '1')\\n            updateItem('listsort', {\\n                title: `““””<b><span style=\\\"color: #66CCEE\\\">排序⇅</span></b>`\\n            });\\n        };\\n        列表.reverse();\\n        列表.forEach(item => {\\n            item.col_type = item.type;\\n        })\\n\\n        addItemBefore(getMyVar('二级加载扩展列表') ? \\\"extendlist\\\" : getMyVar('换源变更列表id') ? \\\"Julistloading2\\\" : \\\"Julistloading\\\", 列表); //排序和样式动态处理插入列表时查找id\\n        return 'toast://切换排序成功'\\n    }, sname),\\n    col_type: line_col_type,\\n    extra: {\\n        id: \\\"listsort\\\",\\n        cls: \\\"Juloadlist\\\"\\n    }\\n})\\nlet reviseLiTitle = getItem('reviseLiTitle', '0');\\nd.push({\\n    title: `““””<b><span style=\\\"color: #f47983\\\">样式<small>🎨</small></span></b>`,\\n    url: $([\\\"text_1\\\", \\\"text_2\\\", \\\"text_3\\\", \\\"text_4\\\", \\\"flex_button\\\", \\\"text_2_left\\\", \\\"text_3_left\\\", \\\"分页设置\\\"], 2, \\\"选集列表样式\\\").select(() => {\\n        if (input == \\\"分页设置\\\") {\\n            return $([\\\"开启分页\\\", \\\"关闭分页\\\", \\\"每页数量\\\", \\\"分页阀值\\\"], 2).select(() => {\\n                let partpage = storage0.getItem('partpage') || {};\\n                if (input == \\\"开启分页\\\") {\\n                    partpage.ispage = 1;\\n                    storage0.setItem('partpage', partpage);\\n                } else if (input == \\\"关闭分页\\\") {\\n                    partpage.ispage = 0;\\n                    storage0.setItem('partpage', partpage);\\n                } else if (input == \\\"每页数量\\\") {\\n                    return $(partpage.pagenum || \\\"40\\\", \\\"每页选集数量\\\").input((partpage) => {\\n                        partpage.pagenum = parseInt(input);\\n                        storage0.setItem('partpage', partpage);\\n                        refreshPage(false);\\n                        return 'hiker://empty'\\n                    }, partpage)\\n                } else if (input == \\\"分页阀值\\\") {\\n                    return $(partpage.partnum || \\\"100\\\", \\\"选集数量超过多少才分页\\\").input((partpage) => {\\n                        partpage.partnum = parseInt(input);\\n                        storage0.setItem('partpage', partpage);\\n                        refreshPage(false);\\n                        return 'hiker://empty'\\n                    }, partpage)\\n                }\\n                refreshPage(false);\\n                return 'hiker://empty'\\n            })\\n        } else {\\n            let 列表 = findItemsByCls('playlist') || [];\\n            if (列表.length == 0) {\\n                return 'toast://未获取到列表'\\n            }\\n            deleteItemByCls('playlist');\\n            let list_col_type = input;\\n            列表.forEach(item => {\\n                item.col_type = list_col_type.replace(\\\"_left\\\", \\\"\\\");\\n                if (list_col_type.indexOf(\\\"_left\\\") > -1) {\\n                    item.extra.textAlign = 'left';\\n                } else {\\n                    delete item.extra.textAlign;\\n                }\\n            })\\n            addItemBefore(getMyVar('二级加载扩展列表') ? \\\"extendlist\\\" : getMyVar('换源变更列表id') ? \\\"Julistloading2\\\" : \\\"Julistloading\\\", 列表);\\n            setItem('SrcJuList_col_type', input);\\n            return 'hiker://empty'\\n        }\\n    }),\\n    col_type: line_col_type,\\n    extra: {\\n        cls: \\\"Juloadlist\\\",\\n        longClick: [{\\n            title: \\\"修正选集标题：\\\" + (reviseLiTitle == \\\"1\\\" ? \\\"是\\\" : \\\"否\\\"),\\n            js: $.toString(() => {\\n                let sm;\\n                if (getItem('reviseLiTitle', '0') == \\\"1\\\") {\\n                    clearItem('reviseLiTitle');\\n                    sm = \\\"取消修正选集标题名称\\\";\\n                } else {\\n                    setItem('reviseLiTitle', '1');\\n                    sm = \\\"统一修正选集标题名称\\\";\\n                }\\n                refreshPage(false);\\n                return \\\"toast://\\\" + sm;\\n            })\\n        }, {\\n            title: \\\"显示扩展项：\\\" + (getItem('extenditems', '1') == \\\"1\\\" ? \\\"是\\\" : \\\"否\\\"),\\n            js: $.toString(() => {\\n                let sm;\\n                if (getItem('extenditems', '1') == \\\"1\\\") {\\n                    setItem('extenditems', '0');\\n                    sm = \\\"取消显示二级扩展项\\\";\\n                } else {\\n                    clearItem('extenditems');\\n                    sm = \\\"显示二级扩展项\\\";\\n                }\\n                refreshPage(false);\\n                return \\\"toast://\\\" + sm;\\n            })\\n        }, {\\n            title: \\\"线路样式：\\\" + getItem('SrcJuLine_col_type', 'scroll_button'),\\n            js: $.toString(() => {\\n                let sm;\\n                if (getItem('SrcJuLine_col_type', 'scroll_button') == \\\"flex_button\\\") {\\n                    clearItem('SrcJuLine_col_type');\\n                    sm = \\\"线路样式已切换为scroll_button\\\";\\n                } else {\\n                    setItem('SrcJuLine_col_type', 'flex_button');\\n                    sm = \\\"线路样式已切换为flex_button\\\";\\n                }\\n                refreshPage(false);\\n                return \\\"toast://\\\" + sm;\\n            })\\n        }]\\n    }\\n})\\n\\nif (线路s.length > 0 && 线路s[0] != \\\"线路\\\") {\\n    线路s.forEach((it, i) => {\\n        d.push({\\n            title: lineid == i ? `““””<b><span style=\\\"color: #04B45F\\\">` + it + `</span></b>` : it,\\n            url: $(\\\"#noLoading#\\\").lazyRule((lineurl, nowid, newid) => {\\n                if (nowid != newid) {\\n                    putMyVar(lineurl, newid);\\n                    refreshPage(false);\\n                }\\n                return 'hiker://empty'\\n            }, \\\"SrcJu_\\\" + surl + \\\"_line\\\", lineid, i),\\n            col_type: line_col_type,\\n            extra: {\\n                cls: \\\"Juloadlist\\\"\\n            }\\n        })\\n    })\\n}\\n//分页定义\\nlet partpage = storage0.getItem('partpage') || {};\\nif (details.page && details.pageparse) { //原网站有分页，不执行自定义分页\\n    let 分页s = details.page\\n    let 分页链接 = [];\\n    let 分页名 = [];\\n    分页s.forEach((it, i) => {\\n        分页链接.push($(\\\"#noLoading#\\\").lazyRule((pageurl, nowid, newid) => {\\n            if (nowid != newid) {\\n                putMyVar(pageurl, newid);\\n                refreshPage(false);\\n            }\\n            return 'hiker://empty'\\n        }, \\\"SrcJu_\\\" + surl + \\\"_page\\\", pageid, i))\\n        分页名.push(pageid == i ? '““””<span style=\\\"color: #87CEFA\\\">' + it.title : it.title)\\n    })\\n    if (分页名.length > 0) {\\n        d.push({\\n            col_type: \\\"blank_block\\\",\\n            extra: {\\n                cls: \\\"Juloadlist\\\"\\n            }\\n        });\\n        d.push({\\n            title: pageid == 0 ? \\\"↪️尾页\\\" : \\\"⏮️上页\\\",\\n            url: pageid == 0 ? 分页链接[分页名.length - 1] : 分页链接[pageid - 1],\\n            col_type: 'text_4',\\n            extra: {\\n                cls: \\\"Juloadlist\\\"\\n            }\\n        })\\n        d.push({\\n            title: 分页名[pageid],\\n            url: $(分页名, 2).select((分页名, 分页链接) => {\\n                return 分页链接[分页名.indexOf(input)];\\n            }, 分页名, 分页链接),\\n            col_type: 'text_2',\\n            extra: {\\n                cls: \\\"Juloadlist\\\"\\n            }\\n        })\\n        d.push({\\n            title: pageid == 分页名.length - 1 ? \\\"首页↩️\\\" : \\\"下页⏭️\\\",\\n            url: pageid == 分页名.length - 1 ? 分页链接[0] : 分页链接[pageid + 1],\\n            col_type: 'text_4',\\n            extra: {\\n                cls: \\\"Juloadlist\\\"\\n            }\\n        })\\n    }\\n} else if (partpage.ispage) { //启用分页\\n    let 每页数量 = partpage.pagenum || 40; // 分页的每页数量       \\n    let 翻页阀值 = partpage.partnum || 100; // 分页的翻页阀值，超过多少才显示翻页\\n\\n    if (列表.length > 翻页阀值) {\\n        let 最大页数 = Math.ceil(列表.length / 每页数量);\\n        let 分页页码 = pageid + 1; //当前页数\\n        if (分页页码 > 最大页数) { //防止切换线路导致页数数组越界\\n            分页页码 = 最大页数;\\n        }\\n        let 分页链接 = [];\\n        let 分页名 = [];\\n\\n        function getNewArray(array, subGroupLength) {\\n            let index = 0;\\n            let newArray = [];\\n            while (index < array.length) {\\n                newArray.push(array.slice(index, index += subGroupLength));\\n            }\\n            return newArray;\\n        }\\n        let 分页s = getNewArray(列表, 每页数量); //按每页数据切割成小数组\\n\\n        分页s.forEach((it, i) => {\\n            分页链接.push($(\\\"#noLoading#\\\").lazyRule((pageurl, nowid, newid) => {\\n                if (nowid != newid) {\\n                    putMyVar(pageurl, newid);\\n                    refreshPage(false);\\n                }\\n                return 'hiker://empty'\\n            }, \\\"SrcJu_\\\" + surl + \\\"_page\\\", pageid, i))\\n            let start = i * 每页数量 + 1;\\n            let end = i * 每页数量 + it.length;\\n            let title = start + ' - ' + end;\\n            分页名.push(pageid == i ? '““””<span style=\\\"color: #87CEFA\\\">' + title : title)\\n        })\\n        d.push({\\n            col_type: \\\"blank_block\\\",\\n            extra: {\\n                cls: \\\"Juloadlist\\\"\\n            }\\n        });\\n        d.push({\\n            title: 分页页码 == 1 ? \\\"↪️尾页\\\" : \\\"⏮️上页\\\",\\n            url: 分页页码 == 1 ? 分页链接[分页名.length - 1] : 分页链接[pageid - 1],\\n            col_type: 'text_4',\\n            extra: {\\n                cls: \\\"Juloadlist\\\"\\n            }\\n        })\\n        d.push({\\n            title: 分页名[pageid],\\n            url: $(分页名, 2).select((分页名, 分页链接) => {\\n                return 分页链接[分页名.indexOf(input)];\\n            }, 分页名, 分页链接),\\n            col_type: 'text_2',\\n            extra: {\\n                cls: \\\"Juloadlist\\\"\\n            }\\n        })\\n        d.push({\\n            title: 分页页码 == 分页名.length ? \\\"首页↩️\\\" : \\\"下页⏭️\\\",\\n            url: 分页页码 == 分页名.length ? 分页链接[0] : 分页链接[pageid + 1],\\n            col_type: 'text_4',\\n            extra: {\\n                cls: \\\"Juloadlist\\\"\\n            }\\n        })\\n        列表 = 分页s[pageid]; //取当前分页的选集列表\\n    }\\n}\\n\\nlet list_col_type = getItem('SrcJuList_col_type', 'text_2'); //列表样式\\nfor (let i = 0; i < 列表.length; i++) {\\n    let extra = Object.assign({}, details[\\\"extra\\\"] || {}); //二级返回数据中的extra设为默认\\n    try {\\n        extra = Object.assign(extra, 列表[i].extra || {}); //优先用选集的extra\\n    } catch (e) {}\\n\\n    extra.id = name + \\\"_选集_\\\" + (pageid ? pageid + \\\"_\\\" : \\\"\\\") + i;\\n    extra.cls = \\\"Juloadlist playlist\\\";\\n    if (stype == \\\"听书\\\" || stype == \\\"影视\\\" || stype == \\\"音乐\\\") {\\n        extra.jsLoadingInject = true;\\n        if (!extra.blockRules) {\\n            extra.blockRules = ['.m4a', '.mp3', '.gif', '.jpeg', '.jpg', '.ico', '.png', 'hm.baidu.com', '/ads/*.js', 'cnzz.com', '51.la'];\\n        }\\n    }\\n\\n    if (list_col_type.indexOf(\\\"_left\\\") > -1) {\\n        extra.textAlign = 'left';\\n    }\\n    if (stype == \\\"小说\\\" || details[\\\"rule\\\"] || details[\\\"novel\\\"] || 列表[i].rule) {\\n        extra.url = 列表[i].url;\\n        lazy = lazy.replace(\\\"@lazyRule=.\\\", ((stype == \\\"小说\\\" || details[\\\"novel\\\"]) ? \\\"#readTheme##autoPage#\\\" : \\\"#noRecordHistory#\\\") + \\\"@rule=\\\").replace(`input.split(\\\"##\\\")[1]`, `MY_PARAMS.url || \\\"\\\"`);\\n    }\\n    d.push({\\n        title: reviseLiTitle == \\\"1\\\" ? 列表[i].title.replace(name, '').replace(/‘|’|“|”|<[^>]+>| |-|_|第|集|话|章|\\\\</g, '').replace('（', '(').replace('）', ')') : 列表[i].title,\\n        url: 列表[i].url + lazy,\\n        desc: 列表[i].desc,\\n        img: 列表[i].img,\\n        col_type: 列表[i].col_type || list_col_type.replace(\\\"_left\\\", \\\"\\\"),\\n        extra: extra\\n    });\\n\\n}\\n\\nd.push({\\n    title: \\\"‘‘’’<small><font color=#f20c00>当前数据源：\\\" + sname + \\\"作者：\\\" + \\\"</font></small>\\\",\\n    url: 'hiker://empty',\\n    col_type: 'text_center_1',\\n    extra: {\\n        id: getMyVar('换源变更列表id') ? \\\"Julistloading2\\\" : \\\"Julistloading\\\",\\n        lineVisible: false\\n    }\\n});\"}]","proxy":"","icon":"http://123.56.105.145/tubiao/music/73.svg"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"Lazy","path":"lazy","rule":"var lazy = $(\"\").lazyRule(() => {\n     var url=input\n    let PUBLIC_KEY = \"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAtSwotbu7UEonUCzCsJXPSpYOrkuMnpyk24PBQskkcwYZsUTwbh8Y9vHuPIerh3AfZZ1luFV9yPC282xiNX+/+IAzWHWG6M+dWmJnDyybeUVTh7H7YVM31eSR9TFT4VASr7NftgCv7hfS2mVNL0sxRrMSPSXa6SbjkIeW4GTpYpWKehKfaqrgDwVfFCu67ogL9JLIdDxvWthIe42uUMnz4II1/pdrPtWRu0CDjaxvsLz26UdMGSL3gFEloaJhp4KuIPK4RlIx+9t28H00+3IpeVirmiayDYJQe1cjiDKoERSkLubJRD2yj5X3trGmgXex3QkcRtx5UNXYkLEuEMNGiwIDAQAB\"\n        let playid = url.split(\"#\");\n        //log(playid)   \n        var t = new Date() / 1000;\n        t = (t - t % 60).toString();\n        var json = {\n            \"m\": \"play\",\n            \"t\": md5(md5(\"play\" + playid[0] + playid[1]) + \"1449682949\" + t),\n            \"aid\": playid[0],\n            \"pid\": playid[1]\n        }\n      \n        var str = JSON.stringify(json);\n        let data = rsaEncrypt(str, PUBLIC_KEY)\n        let html = fetch(\"https://apk-lb-play.fodexin.com/api2/web/index.php/?r=api\", {\n            headers: {\n                \"Referer\": \"https://apk.jqkan.com/\",\n                \"User-Agent\": \"laobai_tv/1.1.5(Mozilla/5.0 (Linux; Android 11; Mi 10 Pro Build/RKQ1.200826.002; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/92.0.4515.131 Mobile Safari/537.36)\",\n                \"content-type\": \"application/x-www-form-urlencoded\"\n            },\n            body: \"params=\" + data + \"&version=1.1.5\",\n            method: 'POST'\n        });\n        let json = JSON.parse(html);\n        return json.data.url + \";{User-Agent@laobai_tv/1.1.5&&Referer@https://apk-lb.iiszg.com/}#isMusic=true#\"\n});"},{"col_type":"movie_3","name":"选集","path":"details","rule":"surl = MY_URL\nvar sname = MY_RULE.title;\nvar stype = \"听书\"\n\nvar name = getPageTitle()\nvar desc=details.desc\n\n function setDesc(d, desc, num){\n        //log(desc)\n        if (desc == undefined) {\n            return;\n        }\n        desc = desc.constructor == Array ? desc.join('<br>') : desc;\n        if (desc.replace(/(<br>|\\s+|<\\/?p>|&nbsp;)/g, '').length == 0) {\n            return;\n        }\n        const mark = 'desc';\n        num = typeof(num) == 'undefined' ? 100 : num\n        desc = desc.startsWith('　　') ? desc : '　　' + desc;\n        desc = desc.replace(/'/g, \"&#39;\");\n        desc = desc.replace(/\\r\\n/g, \"<br>\");\n        desc = desc.replace(/\\r/g, \"<br>\");\n        desc = desc.replace(/\\n/g, \"<br>\");\n\n        function substr(str, maxLength) {\n            let len = 0;\n            for (let i = 0; i < str.length; i++) {\n                if (str.charCodeAt(i) > 255) {\n                    len += 2;\n                } else {\n                    len++;\n                }\n                if (len > maxLength) {\n                    return str.slice(0, i) + '...';\n                }\n            }\n            return str;\n        }\n        let sdesc = substr(desc, num);\n        var colors = {\n            show: \"black\",\n            hide: \"grey\"\n        }\n        var lazy = $(`#noLoading#`).lazyRule((dc, sdc, m, cs) => {\n            var show = storage0.getItem(m, '0');\n            var title = findItem('desc').title;\n            var re = /(<\\/small><br>.*?>).+/g;\n            var exp = '展开:';\n            var ret = '收起:';\n            if (show == '1') {\n                updateItem('desc', {\n                    title: title\n                        .replace(ret, exp)\n                        .replace(re, '$1' + sdc + '</small>')\n                        .replace(/(<\\/small><br>\\<font color=\").*?(\">)/, '$1' + cs.hide + '$2')\n                })\n                storage0.setItem(m, '0');\n            } else {\n                updateItem('desc', {\n                    title: title\n                        .replace(exp, ret)\n                        .replace(re, '$1' + dc + '</small>')\n                        .replace(/(<\\/small><br>\\<font color=\").*?(\">)/, '$1' + cs.show + '$2')\n                })\n                storage0.setItem(m, '1');\n            }\n            return `hiker://empty`\n        }, desc, sdesc, mark, colors)\n        var sc = storage0.getItem(mark, '0') == '0' ? '展开:' : '收起:';\n        var dc = storage0.getItem(mark, '0') == '0' ? sdesc : desc;\n        var cs = storage0.getItem(mark, '0') == '0' ? colors.hide : colors.show;\n        d.push({\n            title: '' + '<b><font color=\"#098AC1\">∷剧情简介\t</font></b>' + \"<small><a style='text-decoration: none;' href='\" + lazy + \"'>\" + sc + '</a></small><br><font color=\"' + cs + '\">' + `${dc}` + '</small>',\n            col_type: 'rich_text',\n            extra: {\n                id: 'desc',\n                lineSpacing: 6,\n                textSize: 15,\n                lineVisible: true,\n            }\n        })\n    }\n       \n    setDesc(d,details.desc)\n\n\nlineid = parseInt(getMyVar(\"SrcJu_\" + surl + \"_line\", \"0\"));\npageid = parseInt(getMyVar(\"SrcJu_\" + surl + \"_page\", \"0\"));\n\nlet 线路s = [\"线路\"];\nlet 列表s = [\n    []\n];\ntry {\n    线路s = details.line ? details.line : [\"线路\"];\n    列表s = details.line ? details.list : [details.list];\n    if (线路s.length != 列表s.length) {\n        xlog('√' + sname + '>源接口返回的线路数' + 线路s.length + '和列表数' + 列表s.length + '不相等');\n    }\n} catch (e) {\n    xlog('√' + sname + \">线路或列表返回数据有误>\" + e.message);\n}\nif (details.listparse) { //选集列表需要动态解析获取\n    let 线路选集 = details.listparse(lineid, 线路s[lineid]) || [];\n    if (线路选集.length > 0) {\n        列表s[lineid] = 线路选集;\n    }\n}\nif (details.page && details.pageparse) { //网站分页显示列表的，需要动态解析获取\n    try {\n        if ((detailsmark && pageid != details.pageid) || (!detailsmark && pageid > 0)) {\n            let 分页s = details.page;\n            if (pageid > 分页s.length) {\n                pageid = 0;\n            }\n            let 分页选集 = details.pageparse(分页s[pageid].url);\n            if ($.type(分页选集) == \"array\") {\n                列表s[lineid] = 分页选集;\n                details.list = details.line ? 列表s : 分页选集;\n            }\n        }\n    } catch (e) {\n        xlog('√' + sname + '分页选集处理失败>' + e.message);\n    }\n}\n\nif (lineid > 列表s.length - 1) {\n    toast('选择的线路无选集，将显示第1线路');\n    lineid = 0;\n}\n\nlet 列表 = 列表s[lineid] || [];\nif (列表.length > 0) {\n    function checkAndReverseArray(arr) {\n        const numbers = [];\n        arr.slice(0, 50).forEach(it => {\n            const digits = it.title.match(/\\d+/);\n            if (digits) {\n                numbers.push(parseInt(digits[0]));\n            }\n        })\n\n        if (numbers.length < 3) {\n            return arr;\n        }\n        let increasingCount = 0;\n        let decreasingCount = 0;\n        for (let i = 1; i < numbers.length; i++) {\n            if (numbers[i] > numbers[i - 1]) {\n                increasingCount++;\n            } else if (numbers[i] < numbers[i - 1]) {\n                decreasingCount++;\n            }\n        }\n        if (increasingCount > decreasingCount) {\n            return arr;\n        } else {\n            return arr.reverse();\n        }\n    }\n    try {\n        列表 = checkAndReverseArray(列表);\n    } catch (e) {\n        //xlog('√强制修正选集顺序失败>'+e.message)\n    }\n}\nif (getMyVar(sname + 'sort') == '1') {\n    列表.reverse();\n}\nlet line_col_type = getItem('SrcJuLine_col_type', 'scroll_button');\nd.push({\n    title: getMyVar(sname + 'sort') == '1' ? `““””<b><span style=\"color: #66CCEE\">排序⇅</span></b>` : `““””<b><span style=\"color: #55AA44\">排序⇅</span></b>`,\n    url: $(\"#noLoading#\").lazyRule((sname) => {\n        let 列表 = findItemsByCls('playlist') || [];\n        if (列表.length == 0) {\n            return 'toast://未获取到列表'\n        }\n        deleteItemByCls('playlist');\n        if (getMyVar(sname + 'sort') == '1') {\n            putMyVar(sname + 'sort', '0');\n            updateItem('listsort', {\n                title: `““””<b><span style=\"color: #55AA44\">排序⇅</span></b>`\n            });\n        } else {\n            putMyVar(sname + 'sort', '1')\n            updateItem('listsort', {\n                title: `““””<b><span style=\"color: #66CCEE\">排序⇅</span></b>`\n            });\n        };\n        列表.reverse();\n        列表.forEach(item => {\n            item.col_type = item.type;\n        })\n\n        addItemBefore(getMyVar('二级加载扩展列表') ? \"extendlist\" : getMyVar('换源变更列表id') ? \"Julistloading2\" : \"Julistloading\", 列表); //排序和样式动态处理插入列表时查找id\n        return 'toast://切换排序成功'\n    }, sname),\n    col_type: line_col_type,\n    extra: {\n        id: \"listsort\",\n        cls: \"Juloadlist\"\n    }\n})\nlet reviseLiTitle = getItem('reviseLiTitle', '0');\nd.push({\n    title: `““””<b><span style=\"color: #f47983\">样式<small>🎨</small></span></b>`,\n    url: $([\"text_1\", \"text_2\", \"text_3\", \"text_4\", \"flex_button\", \"text_2_left\", \"text_3_left\", \"分页设置\"], 2, \"选集列表样式\").select(() => {\n        if (input == \"分页设置\") {\n            return $([\"开启分页\", \"关闭分页\", \"每页数量\", \"分页阀值\"], 2).select(() => {\n                let partpage = storage0.getItem('partpage') || {};\n                if (input == \"开启分页\") {\n                    partpage.ispage = 1;\n                    storage0.setItem('partpage', partpage);\n                } else if (input == \"关闭分页\") {\n                    partpage.ispage = 0;\n                    storage0.setItem('partpage', partpage);\n                } else if (input == \"每页数量\") {\n                    return $(partpage.pagenum || \"40\", \"每页选集数量\").input((partpage) => {\n                        partpage.pagenum = parseInt(input);\n                        storage0.setItem('partpage', partpage);\n                        refreshPage(false);\n                        return 'hiker://empty'\n                    }, partpage)\n                } else if (input == \"分页阀值\") {\n                    return $(partpage.partnum || \"100\", \"选集数量超过多少才分页\").input((partpage) => {\n                        partpage.partnum = parseInt(input);\n                        storage0.setItem('partpage', partpage);\n                        refreshPage(false);\n                        return 'hiker://empty'\n                    }, partpage)\n                }\n                refreshPage(false);\n                return 'hiker://empty'\n            })\n        } else {\n            let 列表 = findItemsByCls('playlist') || [];\n            if (列表.length == 0) {\n                return 'toast://未获取到列表'\n            }\n            deleteItemByCls('playlist');\n            let list_col_type = input;\n            列表.forEach(item => {\n                item.col_type = list_col_type.replace(\"_left\", \"\");\n                if (list_col_type.indexOf(\"_left\") > -1) {\n                    item.extra.textAlign = 'left';\n                } else {\n                    delete item.extra.textAlign;\n                }\n            })\n            addItemBefore(getMyVar('二级加载扩展列表') ? \"extendlist\" : getMyVar('换源变更列表id') ? \"Julistloading2\" : \"Julistloading\", 列表);\n            setItem('SrcJuList_col_type', input);\n            return 'hiker://empty'\n        }\n    }),\n    col_type: line_col_type,\n    extra: {\n        cls: \"Juloadlist\",\n        longClick: [{\n            title: \"修正选集标题：\" + (reviseLiTitle == \"1\" ? \"是\" : \"否\"),\n            js: $.toString(() => {\n                let sm;\n                if (getItem('reviseLiTitle', '0') == \"1\") {\n                    clearItem('reviseLiTitle');\n                    sm = \"取消修正选集标题名称\";\n                } else {\n                    setItem('reviseLiTitle', '1');\n                    sm = \"统一修正选集标题名称\";\n                }\n                refreshPage(false);\n                return \"toast://\" + sm;\n            })\n        }, {\n            title: \"显示扩展项：\" + (getItem('extenditems', '1') == \"1\" ? \"是\" : \"否\"),\n            js: $.toString(() => {\n                let sm;\n                if (getItem('extenditems', '1') == \"1\") {\n                    setItem('extenditems', '0');\n                    sm = \"取消显示二级扩展项\";\n                } else {\n                    clearItem('extenditems');\n                    sm = \"显示二级扩展项\";\n                }\n                refreshPage(false);\n                return \"toast://\" + sm;\n            })\n        }, {\n            title: \"线路样式：\" + getItem('SrcJuLine_col_type', 'scroll_button'),\n            js: $.toString(() => {\n                let sm;\n                if (getItem('SrcJuLine_col_type', 'scroll_button') == \"flex_button\") {\n                    clearItem('SrcJuLine_col_type');\n                    sm = \"线路样式已切换为scroll_button\";\n                } else {\n                    setItem('SrcJuLine_col_type', 'flex_button');\n                    sm = \"线路样式已切换为flex_button\";\n                }\n                refreshPage(false);\n                return \"toast://\" + sm;\n            })\n        }]\n    }\n})\n\nif (线路s.length > 0 && 线路s[0] != \"线路\") {\n    线路s.forEach((it, i) => {\n        d.push({\n            title: lineid == i ? `““””<b><span style=\"color: #04B45F\">` + it + `</span></b>` : it,\n            url: $(\"#noLoading#\").lazyRule((lineurl, nowid, newid) => {\n                if (nowid != newid) {\n                    putMyVar(lineurl, newid);\n                    refreshPage(false);\n                }\n                return 'hiker://empty'\n            }, \"SrcJu_\" + surl + \"_line\", lineid, i),\n            col_type: line_col_type,\n            extra: {\n                cls: \"Juloadlist\"\n            }\n        })\n    })\n}\n//分页定义\nlet partpage = storage0.getItem('partpage') || {};\nif (details.page && details.pageparse) { //原网站有分页，不执行自定义分页\n    let 分页s = details.page\n    let 分页链接 = [];\n    let 分页名 = [];\n    分页s.forEach((it, i) => {\n        分页链接.push($(\"#noLoading#\").lazyRule((pageurl, nowid, newid) => {\n            if (nowid != newid) {\n                putMyVar(pageurl, newid);\n                refreshPage(false);\n            }\n            return 'hiker://empty'\n        }, \"SrcJu_\" + surl + \"_page\", pageid, i))\n        分页名.push(pageid == i ? '““””<span style=\"color: #87CEFA\">' + it.title : it.title)\n    })\n    if (分页名.length > 0) {\n        d.push({\n            col_type: \"blank_block\",\n            extra: {\n                cls: \"Juloadlist\"\n            }\n        });\n        d.push({\n            title: pageid == 0 ? \"↪️尾页\" : \"⏮️上页\",\n            url: pageid == 0 ? 分页链接[分页名.length - 1] : 分页链接[pageid - 1],\n            col_type: 'text_4',\n            extra: {\n                cls: \"Juloadlist\"\n            }\n        })\n        d.push({\n            title: 分页名[pageid],\n            url: $(分页名, 2).select((分页名, 分页链接) => {\n                return 分页链接[分页名.indexOf(input)];\n            }, 分页名, 分页链接),\n            col_type: 'text_2',\n            extra: {\n                cls: \"Juloadlist\"\n            }\n        })\n        d.push({\n            title: pageid == 分页名.length - 1 ? \"首页↩️\" : \"下页⏭️\",\n            url: pageid == 分页名.length - 1 ? 分页链接[0] : 分页链接[pageid + 1],\n            col_type: 'text_4',\n            extra: {\n                cls: \"Juloadlist\"\n            }\n        })\n    }\n} else if (partpage.ispage) { //启用分页\n    let 每页数量 = partpage.pagenum || 40; // 分页的每页数量       \n    let 翻页阀值 = partpage.partnum || 100; // 分页的翻页阀值，超过多少才显示翻页\n\n    if (列表.length > 翻页阀值) {\n        let 最大页数 = Math.ceil(列表.length / 每页数量);\n        let 分页页码 = pageid + 1; //当前页数\n        if (分页页码 > 最大页数) { //防止切换线路导致页数数组越界\n            分页页码 = 最大页数;\n        }\n        let 分页链接 = [];\n        let 分页名 = [];\n\n        function getNewArray(array, subGroupLength) {\n            let index = 0;\n            let newArray = [];\n            while (index < array.length) {\n                newArray.push(array.slice(index, index += subGroupLength));\n            }\n            return newArray;\n        }\n        let 分页s = getNewArray(列表, 每页数量); //按每页数据切割成小数组\n\n        分页s.forEach((it, i) => {\n            分页链接.push($(\"#noLoading#\").lazyRule((pageurl, nowid, newid) => {\n                if (nowid != newid) {\n                    putMyVar(pageurl, newid);\n                    refreshPage(false);\n                }\n                return 'hiker://empty'\n            }, \"SrcJu_\" + surl + \"_page\", pageid, i))\n            let start = i * 每页数量 + 1;\n            let end = i * 每页数量 + it.length;\n            let title = start + ' - ' + end;\n            分页名.push(pageid == i ? '““””<span style=\"color: #87CEFA\">' + title : title)\n        })\n        d.push({\n            col_type: \"blank_block\",\n            extra: {\n                cls: \"Juloadlist\"\n            }\n        });\n        d.push({\n            title: 分页页码 == 1 ? \"↪️尾页\" : \"⏮️上页\",\n            url: 分页页码 == 1 ? 分页链接[分页名.length - 1] : 分页链接[pageid - 1],\n            col_type: 'text_4',\n            extra: {\n                cls: \"Juloadlist\"\n            }\n        })\n        d.push({\n            title: 分页名[pageid],\n            url: $(分页名, 2).select((分页名, 分页链接) => {\n                return 分页链接[分页名.indexOf(input)];\n            }, 分页名, 分页链接),\n            col_type: 'text_2',\n            extra: {\n                cls: \"Juloadlist\"\n            }\n        })\n        d.push({\n            title: 分页页码 == 分页名.length ? \"首页↩️\" : \"下页⏭️\",\n            url: 分页页码 == 分页名.length ? 分页链接[0] : 分页链接[pageid + 1],\n            col_type: 'text_4',\n            extra: {\n                cls: \"Juloadlist\"\n            }\n        })\n        列表 = 分页s[pageid]; //取当前分页的选集列表\n    }\n}\n\nlet list_col_type = getItem('SrcJuList_col_type', 'text_2'); //列表样式\nfor (let i = 0; i < 列表.length; i++) {\n    let extra = Object.assign({}, details[\"extra\"] || {}); //二级返回数据中的extra设为默认\n    try {\n        extra = Object.assign(extra, 列表[i].extra || {}); //优先用选集的extra\n    } catch (e) {}\n\n    extra.id = name + \"_选集_\" + (pageid ? pageid + \"_\" : \"\") + i;\n    extra.cls = \"Juloadlist playlist\";\n    if (stype == \"听书\" || stype == \"影视\" || stype == \"音乐\") {\n        extra.jsLoadingInject = true;\n        if (!extra.blockRules) {\n            extra.blockRules = ['.m4a', '.mp3', '.gif', '.jpeg', '.jpg', '.ico', '.png', 'hm.baidu.com', '/ads/*.js', 'cnzz.com', '51.la'];\n        }\n    }\n\n    if (list_col_type.indexOf(\"_left\") > -1) {\n        extra.textAlign = 'left';\n    }\n    if (stype == \"小说\" || details[\"rule\"] || details[\"novel\"] || 列表[i].rule) {\n        extra.url = 列表[i].url;\n        lazy = lazy.replace(\"@lazyRule=.\", ((stype == \"小说\" || details[\"novel\"]) ? \"#readTheme##autoPage#\" : \"#noRecordHistory#\") + \"@rule=\").replace(`input.split(\"##\")[1]`, `MY_PARAMS.url || \"\"`);\n    }\n    d.push({\n        title: reviseLiTitle == \"1\" ? 列表[i].title.replace(name, '').replace(/‘|’|“|”|<[^>]+>| |-|_|第|集|话|章|\\</g, '').replace('（', '(').replace('）', ')') : 列表[i].title,\n        url: 列表[i].url + lazy,\n        desc: 列表[i].desc,\n        img: 列表[i].img,\n        col_type: 列表[i].col_type || list_col_type.replace(\"_left\", \"\"),\n        extra: extra\n    });\n\n}\n\nd.push({\n    title: \"‘‘’’<small><font color=#f20c00>当前数据源：\" + sname + \"作者：\" + \"</font></small>\",\n    url: 'hiker://empty',\n    col_type: 'text_center_1',\n    extra: {\n        id: getMyVar('换源变更列表id') ? \"Julistloading2\" : \"Julistloading\",\n        lineVisible: false\n    }\n});"}],"title":"老白听故事","author":"天涯客","version":0,"type":"video","url":"hiker://empty##fypage","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar page=MY_PAGE\nlet d = [];       \r\n        var 类别 = MY_RULE.title + \"类别\";\r\n        var 类别名 = getMyVar(类别, \"https://apk-lb-json.fodexin.com/json/v1/cat_list/\");\r\n        var 分类 = MY_RULE.title + \"老白分类\"\r\n        var 分类名 = getMyVar(分类, \"14\");\r\n        if (page == 1) {\r\n     \n    d.push({\n        desc: \"搜你想要的...\",\n        title: \"🔍\",\n        url: \"'hiker://search?rule=\" + MY_RULE.title + \"&s='+input\",\n        col_type: \"input\",\n    });\n\n            function List_of_options(数据源, 赋值名) {\r\n                d.push({\r\n                    col_type: 'blank_block'\r\n                });\r\n                数据源.forEach((data) => {\r\n                    var title = data.title;\r\n\r\n                    if (data.sz || getMyVar(分类, \"14\") == data.bs) {\r\n                        title = '““””<b><font color=#FA7298>' + title + '</font></b>';\r\n                    }\r\n                    var url_qz = $(\"#noLoading#\").lazyRule((list_name, Url) => {\r\n                        putMyVar(list_name, Url)\r\n                        refreshPage(false);\r\n                        return \"hiker://empty\"\r\n                    }, 赋值名, data.bs)\r\n                    d.push({\r\n                        title: title,\r\n                        url: url_qz,\r\n                        col_type: \"scroll_button\"\r\n                    });\r\n                })\r\n            }\r\n\r\n            let 分类项 = [{\r\n                title: \"恐怖惊悚\",\r\n                bs: \"14\",\r\n                id: \"1\"\r\n            }, {\r\n                title: \"奇幻玄幻\",\r\n                bs: \"46\",\r\n                id: \"2\"\r\n            }, {\r\n                title: \"武侠小说\",\r\n                bs: \"11\",\r\n                id: \"3\"\r\n            }, {\r\n                title: \"言情通俗\",\r\n                bs: \"17\",\r\n                id: \"4\"\r\n            } ,{\r\n                title: \"有声文学\",\r\n                bs: \"10\",\r\n                id: \"5\"\r\n            }, {\r\n                title: \"人物实记\",\r\n                bs: \"18\",\r\n                id: \"6\"\r\n            },{\r\n                title: \"官场商战\",\r\n                bs: \"17\",\r\n                id: \"7\"\r\n            }, {\r\n                title: \"刑侦反腐\",\r\n                bs: \"16\",\r\n                id: \"8\"\r\n            }, {\r\n                title: \"历史军事\",\r\n                bs: \"15\",\r\n                id: \"9\"\r\n            }, {\r\n                title: \"百家讲坛\",\r\n                bs: \"9\",\r\n                id: \"10\"\r\n            }, {\r\n                title: \"单田芳\",\r\n                bs: \"1\",\r\n                id: \"11\"\r\n            }, {\r\n                title: \"刘兰芳\",\r\n                bs: \"2\",\r\n                id: \"12\"\r\n            }, {\r\n                title: \"田连元\",\r\n                bs: \"3\",\r\n                id: \"13\"\r\n            }, {\r\n                title: \"袁阔成\",\r\n                bs: \"4\",\r\n                id: \"14\"\r\n            } ,{\r\n                title: \"连丽如\",\r\n                bs: \"5\",\r\n                id: \"15\"\r\n            }, {\r\n                title: \"孙一\",\r\n                bs: \"8\",\r\n                id: \"16\"\r\n            },{\r\n                title: \"王子封臣\",\r\n                bs: \"30\",\r\n                id: \"17\"\r\n            }, {\r\n                title: \"马长辉\",\r\n                bs: \"25\",\r\n                id: \"18\"\r\n            }, {\r\n                title: \"昊儒书场\",\r\n                bs: \"26\",\r\n                id: \"19\"\r\n            }, {\r\n                title: \"王军\",\r\n                bs: \"27\",\r\n                id: \"20\"\r\n            }, {\r\n                title: \"王玥波\",\r\n                bs: \"28\",\r\n                id: \"21\"\r\n            }, {\r\n                title: \"石连君\",\r\n                bs: \"29\",\r\n                id: \"22\"\r\n            }, {\r\n                title: \"粤语评书\",\r\n                bs: \"12\",\r\n                id: \"23\"\r\n            }, {\r\n                title: \"关永超\",\r\n                bs: \"35\",\r\n                id: \"24\"\r\n            } ,{\r\n                title: \"张少佐\",\r\n                bs: \"6\",\r\n                id: \"25\"\r\n            }, {\r\n                title: \"田战义\",\r\n                bs: \"7\",\r\n                id: \"26\"\r\n            },{\r\n                title: \"其他评书\",\r\n                bs: \"13\",\r\n                id: \"27\"\r\n            }, {\r\n                title: \"童话寓言\",\r\n                bs: \"20\",\r\n                id: \"28\"\r\n            }, {\r\n                title: \"教育培训\",\r\n                bs: \"44\",\r\n                id: \"29\"\r\n            }, {\r\n                title: \"亲子教育\",\r\n                bs: \"43\",\r\n                id: \"30\"\r\n            }, {\r\n                title: \"商业财经\",\r\n                bs: \"42\",\r\n                id: \"31\"\r\n            }, {\r\n                title: \"脱口秀\",\r\n                bs: \"41\",\r\n                id: \"32\"\r\n            }, {\r\n                title: \"戏曲\",\r\n                bs: \"38\",\r\n                id: \"33\"\r\n            }, {\r\n                title: \"头条\",\r\n                bs: \"40\",\r\n                id: \"34\"\r\n            } ,{\r\n                title: \"综艺娱乐\",\r\n                bs: \"34\",\r\n                id: \"35\"\r\n            }, {\r\n                title: \"健康养生\",\r\n                bs: \"33\",\r\n                id: \"36\"\r\n            },{\r\n                title: \"二人转\",\r\n                bs: \"31\",\r\n                id: \"37\"\r\n            }, {\r\n                title: \"广播剧\",\r\n                bs: \"36\",\r\n                id: \"38\"\r\n            }, {\r\n                title: \"汽车音乐\",\r\n                bs: \"23\",\r\n                id: \"39\"\r\n            }, {\r\n                title: \"英文读物\",\r\n                bs: \"22\",\r\n                id: \"40\"\r\n            }, {\r\n                title: \"相声小品\",\r\n                bs: \"21\",\r\n                id: \"41\"\r\n            }, {\r\n                title: \"时尚生活\",\r\n                bs: \"45\",\r\n                id: \"42\"\r\n            }];            \n           List_of_options(分类项, 分类);            \n           var 分类index = 分类项.filter(d => d.bs == 分类名)[0].id;\r\n        }\r\n\r\n        var html = request(类别名  + 分类名 + '/index/' + page + '.json', {\r\n            headers: {\r\n                'Referer': 'https://apk.jqkan.com/',\r\n                'User-Agent': 'laobai_tv/1.1.5'\r\n            }\r\n        });           \n       var list = JSON.parse(html).data.books;\n//log(list)\nfor (var i in list) {\n    d.push({\n        title: list[i].name,\n        desc: list[i].count,\n        pic_url: 'https://pic.iiszg.com/'+list[i].pic,\n        url: 'https://apk-lb-json.fodexin.com/json/v1/cont/'+list[i].book_id+'.json'+\"#immersiveTheme#\",\n        col_type: 'card_pic_3'\n    });\n}\n setResult(d)","searchFind":"js:\nvar d = [];\n\nvar key = MY_KEYWORD\nvar page= MY_PAGE\n var d = [];\n       \n        var MY_URL = 'https://apk-lb-play.fodexin.com/?a=api';\n        let PUBLIC_KEY = \"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAuTx7ONxN0Ghy55NdLbjSC7yz9Pv1f7XvSCQcjd1P+Pkd2Y6tzpEcyfzEvPgVPp/Co0/YR9zRQYrd/kPg0VXcU4Zn2L5gCI3OiJXdE/kSHEPot+0NVUG1hKnoKrF5ZpL4qKm06L1n/YuF8+6eaWiHEZF/fiZsRgAOJkqJEo9KF+dngDnw5lCdUjzceFvC86OuZwIG0vPIviju3NudeIp3qAzu4A5arZ6otA052cf6u5vJhUmAI/TSssmLiqfhy/NDucPGy2wBXN1YsjF8utVgHnfpiCh5oiVOcLrhvW3rD6Jdh1BohtbycnyJ9SPOgcl9Sms2O4bg8zAM/FsiuGyJ3wIDAQAB\";\n        var json = {\n            \"road\": \"search\",\n            \"keyword\": key,\n            \"app_version\": \"1.1.2\"\n        }\n        var str = JSON.stringify(json);\n        let data1 = rsaEncrypt(str, PUBLIC_KEY)\n        let seahtml = request(MY_URL, {\n            headers: {\n                \"Referer\": \"https://apk.jqkan.com/\"\n            },\n            body: \"param=\" + data1,\n            method: 'POST'\n        });\n        var list = JSON.parse(seahtml).data.books;\n        for (var i in list) {\n            d.push({\n                title: list[i].name,\n                desc: \" 讲述人:\" + list[i].teller,\n                pic_url: 'https://pic.iiszg.com/' + list[i].pic,\n                url: 'https://apk-lb-json.fodexin.com/json/v1/cont/' + list[i].book_id + '.json'+\"#immersiveTheme#\",\n                content: list[i].synopsis,\n                col_type: 'movie_3'\n            });\n        }\n\nsetResult(d)","search_url":"hiker://empty##**##fypage","group":"F听书","detail_col_type":"movie_1","detail_find_rule":"js:\n           \n           var d = [];\n\n        \n        var html = JSON.parse(fetch(MY_URL, {\n            headers: {\n                \"Referer\": \"https://apk.jqkan.com/\"\n            }\n        })).data;\n        var book_id = html.book_id;\n        let 作者 = html.teller;\n        let 分类 = html.type;\n        let 更新 = html.time;\n    \n        let detail1 = '讲播：'+ 作者 + '\\n分类：' + 分类;\n        let detail2 = 更新;\n        let 简介 = html.synopsis;\n        var list = html.play_data;\n        let 选集 = list.reverse().map((data) => {\n            let 选集列表 = {};\n            选集列表.title = data.name.replace(/《.*?》/g, \"\");\n            选集列表.url = book_id + \"#\" + data.play_id;\n            return 选集列表;\n        })\n       var details= {\n            detail1: `‘‘’’<font color=#FFA07A><b>${detail1}</b></font>`,\n            detail2: `‘‘’’<font color=\"#006699\">${detail2}</font>`,          \n            img: \"https://pic.iiszg.com/\"+html.pic,\n            desc: 简介,\n            list: 选集\n        }\n\n\npic = details.img || \"https://p1.ssl.qhimgs1.com/sdr/400__/t018d6e64991221597b.jpg\";\npic = pic && pic.indexOf(\"@Referer=\") == -1 ? pic + \"@Referer=\" : pic;\n\nd.push({\n    title: details.detail1 || \"\",\n    desc: details.detail2 || \"\",\n    pic_url: details.img,\n    url: details.detailurl || (/^http/.test(MY_URL) ? MY_URL + '#noRecordHistory##noHistory#' : details.img),\n    col_type: 'movie_1_vertical_pic_blur',\n    extra: {\n        gradient: true\n    }\n})\n\n\n\neval(JSON.parse(fetch(\"hiker://page/lazy\")).rule);\neval(JSON.parse(fetch(\"hiker://page/details\")).rule);\n\n\nsetResult(d)","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"Lazy\",\"path\":\"lazy\",\"rule\":\"var lazy = $(\\\"\\\").lazyRule(() => {\\n     var url=input\\n    let PUBLIC_KEY = \\\"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAtSwotbu7UEonUCzCsJXPSpYOrkuMnpyk24PBQskkcwYZsUTwbh8Y9vHuPIerh3AfZZ1luFV9yPC282xiNX+/+IAzWHWG6M+dWmJnDyybeUVTh7H7YVM31eSR9TFT4VASr7NftgCv7hfS2mVNL0sxRrMSPSXa6SbjkIeW4GTpYpWKehKfaqrgDwVfFCu67ogL9JLIdDxvWthIe42uUMnz4II1/pdrPtWRu0CDjaxvsLz26UdMGSL3gFEloaJhp4KuIPK4RlIx+9t28H00+3IpeVirmiayDYJQe1cjiDKoERSkLubJRD2yj5X3trGmgXex3QkcRtx5UNXYkLEuEMNGiwIDAQAB\\\"\\n        let playid = url.split(\\\"#\\\");\\n        //log(playid)   \\n        var t = new Date() / 1000;\\n        t = (t - t % 60).toString();\\n        var json = {\\n            \\\"m\\\": \\\"play\\\",\\n            \\\"t\\\": md5(md5(\\\"play\\\" + playid[0] + playid[1]) + \\\"1449682949\\\" + t),\\n            \\\"aid\\\": playid[0],\\n            \\\"pid\\\": playid[1]\\n        }\\n      \\n        var str = JSON.stringify(json);\\n        let data = rsaEncrypt(str, PUBLIC_KEY)\\n        let html = fetch(\\\"https://apk-lb-play.fodexin.com/api2/web/index.php/?r=api\\\", {\\n            headers: {\\n                \\\"Referer\\\": \\\"https://apk.jqkan.com/\\\",\\n                \\\"User-Agent\\\": \\\"laobai_tv/1.1.5(Mozilla/5.0 (Linux; Android 11; Mi 10 Pro Build/RKQ1.200826.002; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/92.0.4515.131 Mobile Safari/537.36)\\\",\\n                \\\"content-type\\\": \\\"application/x-www-form-urlencoded\\\"\\n            },\\n            body: \\\"params=\\\" + data + \\\"&version=1.1.5\\\",\\n            method: 'POST'\\n        });\\n        let json = JSON.parse(html);\\n        return json.data.url + \\\";{User-Agent@laobai_tv/1.1.5&&Referer@https://apk-lb.iiszg.com/}#isMusic=true#\\\"\\n});\"},{\"col_type\":\"movie_3\",\"name\":\"选集\",\"path\":\"details\",\"rule\":\"surl = MY_URL\\nvar sname = MY_RULE.title;\\nvar stype = \\\"听书\\\"\\n\\nvar name = getPageTitle()\\nvar desc=details.desc\\n\\n function setDesc(d, desc, num){\\n        //log(desc)\\n        if (desc == undefined) {\\n            return;\\n        }\\n        desc = desc.constructor == Array ? desc.join('<br>') : desc;\\n        if (desc.replace(/(<br>|\\\\s+|<\\\\/?p>|&nbsp;)/g, '').length == 0) {\\n            return;\\n        }\\n        const mark = 'desc';\\n        num = typeof(num) == 'undefined' ? 100 : num\\n        desc = desc.startsWith('　　') ? desc : '　　' + desc;\\n        desc = desc.replace(/'/g, \\\"&#39;\\\");\\n        desc = desc.replace(/\\\\r\\\\n/g, \\\"<br>\\\");\\n        desc = desc.replace(/\\\\r/g, \\\"<br>\\\");\\n        desc = desc.replace(/\\\\n/g, \\\"<br>\\\");\\n\\n        function substr(str, maxLength) {\\n            let len = 0;\\n            for (let i = 0; i < str.length; i++) {\\n                if (str.charCodeAt(i) > 255) {\\n                    len += 2;\\n                } else {\\n                    len++;\\n                }\\n                if (len > maxLength) {\\n                    return str.slice(0, i) + '...';\\n                }\\n            }\\n            return str;\\n        }\\n        let sdesc = substr(desc, num);\\n        var colors = {\\n            show: \\\"black\\\",\\n            hide: \\\"grey\\\"\\n        }\\n        var lazy = $(`#noLoading#`).lazyRule((dc, sdc, m, cs) => {\\n            var show = storage0.getItem(m, '0');\\n            var title = findItem('desc').title;\\n            var re = /(<\\\\/small><br>.*?>).+/g;\\n            var exp = '展开:';\\n            var ret = '收起:';\\n            if (show == '1') {\\n                updateItem('desc', {\\n                    title: title\\n                        .replace(ret, exp)\\n                        .replace(re, '$1' + sdc + '</small>')\\n                        .replace(/(<\\\\/small><br>\\\\<font color=\\\").*?(\\\">)/, '$1' + cs.hide + '$2')\\n                })\\n                storage0.setItem(m, '0');\\n            } else {\\n                updateItem('desc', {\\n                    title: title\\n                        .replace(exp, ret)\\n                        .replace(re, '$1' + dc + '</small>')\\n                        .replace(/(<\\\\/small><br>\\\\<font color=\\\").*?(\\\">)/, '$1' + cs.show + '$2')\\n                })\\n                storage0.setItem(m, '1');\\n            }\\n            return `hiker://empty`\\n        }, desc, sdesc, mark, colors)\\n        var sc = storage0.getItem(mark, '0') == '0' ? '展开:' : '收起:';\\n        var dc = storage0.getItem(mark, '0') == '0' ? sdesc : desc;\\n        var cs = storage0.getItem(mark, '0') == '0' ? colors.hide : colors.show;\\n        d.push({\\n            title: '' + '<b><font color=\\\"#098AC1\\\">∷剧情简介\\t</font></b>' + \\\"<small><a style='text-decoration: none;' href='\\\" + lazy + \\\"'>\\\" + sc + '</a></small><br><font color=\\\"' + cs + '\\\">' + `${dc}` + '</small>',\\n            col_type: 'rich_text',\\n            extra: {\\n                id: 'desc',\\n                lineSpacing: 6,\\n                textSize: 15,\\n                lineVisible: true,\\n            }\\n        })\\n    }\\n       \\n    setDesc(d,details.desc)\\n\\n\\nlineid = parseInt(getMyVar(\\\"SrcJu_\\\" + surl + \\\"_line\\\", \\\"0\\\"));\\npageid = parseInt(getMyVar(\\\"SrcJu_\\\" + surl + \\\"_page\\\", \\\"0\\\"));\\n\\nlet 线路s = [\\\"线路\\\"];\\nlet 列表s = [\\n    []\\n];\\ntry {\\n    线路s = details.line ? details.line : [\\\"线路\\\"];\\n    列表s = details.line ? details.list : [details.list];\\n    if (线路s.length != 列表s.length) {\\n        xlog('√' + sname + '>源接口返回的线路数' + 线路s.length + '和列表数' + 列表s.length + '不相等');\\n    }\\n} catch (e) {\\n    xlog('√' + sname + \\\">线路或列表返回数据有误>\\\" + e.message);\\n}\\nif (details.listparse) { //选集列表需要动态解析获取\\n    let 线路选集 = details.listparse(lineid, 线路s[lineid]) || [];\\n    if (线路选集.length > 0) {\\n        列表s[lineid] = 线路选集;\\n    }\\n}\\nif (details.page && details.pageparse) { //网站分页显示列表的，需要动态解析获取\\n    try {\\n        if ((detailsmark && pageid != details.pageid) || (!detailsmark && pageid > 0)) {\\n            let 分页s = details.page;\\n            if (pageid > 分页s.length) {\\n                pageid = 0;\\n            }\\n            let 分页选集 = details.pageparse(分页s[pageid].url);\\n            if ($.type(分页选集) == \\\"array\\\") {\\n                列表s[lineid] = 分页选集;\\n                details.list = details.line ? 列表s : 分页选集;\\n            }\\n        }\\n    } catch (e) {\\n        xlog('√' + sname + '分页选集处理失败>' + e.message);\\n    }\\n}\\n\\nif (lineid > 列表s.length - 1) {\\n    toast('选择的线路无选集，将显示第1线路');\\n    lineid = 0;\\n}\\n\\nlet 列表 = 列表s[lineid] || [];\\nif (列表.length > 0) {\\n    function checkAndReverseArray(arr) {\\n        const numbers = [];\\n        arr.slice(0, 50).forEach(it => {\\n            const digits = it.title.match(/\\\\d+/);\\n            if (digits) {\\n                numbers.push(parseInt(digits[0]));\\n            }\\n        })\\n\\n        if (numbers.length < 3) {\\n            return arr;\\n        }\\n        let increasingCount = 0;\\n        let decreasingCount = 0;\\n        for (let i = 1; i < numbers.length; i++) {\\n            if (numbers[i] > numbers[i - 1]) {\\n                increasingCount++;\\n            } else if (numbers[i] < numbers[i - 1]) {\\n                decreasingCount++;\\n            }\\n        }\\n        if (increasingCount > decreasingCount) {\\n            return arr;\\n        } else {\\n            return arr.reverse();\\n        }\\n    }\\n    try {\\n        列表 = checkAndReverseArray(列表);\\n    } catch (e) {\\n        //xlog('√强制修正选集顺序失败>'+e.message)\\n    }\\n}\\nif (getMyVar(sname + 'sort') == '1') {\\n    列表.reverse();\\n}\\nlet line_col_type = getItem('SrcJuLine_col_type', 'scroll_button');\\nd.push({\\n    title: getMyVar(sname + 'sort') == '1' ? `““””<b><span style=\\\"color: #66CCEE\\\">排序⇅</span></b>` : `““””<b><span style=\\\"color: #55AA44\\\">排序⇅</span></b>`,\\n    url: $(\\\"#noLoading#\\\").lazyRule((sname) => {\\n        let 列表 = findItemsByCls('playlist') || [];\\n        if (列表.length == 0) {\\n            return 'toast://未获取到列表'\\n        }\\n        deleteItemByCls('playlist');\\n        if (getMyVar(sname + 'sort') == '1') {\\n            putMyVar(sname + 'sort', '0');\\n            updateItem('listsort', {\\n                title: `““””<b><span style=\\\"color: #55AA44\\\">排序⇅</span></b>`\\n            });\\n        } else {\\n            putMyVar(sname + 'sort', '1')\\n            updateItem('listsort', {\\n                title: `““””<b><span style=\\\"color: #66CCEE\\\">排序⇅</span></b>`\\n            });\\n        };\\n        列表.reverse();\\n        列表.forEach(item => {\\n            item.col_type = item.type;\\n        })\\n\\n        addItemBefore(getMyVar('二级加载扩展列表') ? \\\"extendlist\\\" : getMyVar('换源变更列表id') ? \\\"Julistloading2\\\" : \\\"Julistloading\\\", 列表); //排序和样式动态处理插入列表时查找id\\n        return 'toast://切换排序成功'\\n    }, sname),\\n    col_type: line_col_type,\\n    extra: {\\n        id: \\\"listsort\\\",\\n        cls: \\\"Juloadlist\\\"\\n    }\\n})\\nlet reviseLiTitle = getItem('reviseLiTitle', '0');\\nd.push({\\n    title: `““””<b><span style=\\\"color: #f47983\\\">样式<small>🎨</small></span></b>`,\\n    url: $([\\\"text_1\\\", \\\"text_2\\\", \\\"text_3\\\", \\\"text_4\\\", \\\"flex_button\\\", \\\"text_2_left\\\", \\\"text_3_left\\\", \\\"分页设置\\\"], 2, \\\"选集列表样式\\\").select(() => {\\n        if (input == \\\"分页设置\\\") {\\n            return $([\\\"开启分页\\\", \\\"关闭分页\\\", \\\"每页数量\\\", \\\"分页阀值\\\"], 2).select(() => {\\n                let partpage = storage0.getItem('partpage') || {};\\n                if (input == \\\"开启分页\\\") {\\n                    partpage.ispage = 1;\\n                    storage0.setItem('partpage', partpage);\\n                } else if (input == \\\"关闭分页\\\") {\\n                    partpage.ispage = 0;\\n                    storage0.setItem('partpage', partpage);\\n                } else if (input == \\\"每页数量\\\") {\\n                    return $(partpage.pagenum || \\\"40\\\", \\\"每页选集数量\\\").input((partpage) => {\\n                        partpage.pagenum = parseInt(input);\\n                        storage0.setItem('partpage', partpage);\\n                        refreshPage(false);\\n                        return 'hiker://empty'\\n                    }, partpage)\\n                } else if (input == \\\"分页阀值\\\") {\\n                    return $(partpage.partnum || \\\"100\\\", \\\"选集数量超过多少才分页\\\").input((partpage) => {\\n                        partpage.partnum = parseInt(input);\\n                        storage0.setItem('partpage', partpage);\\n                        refreshPage(false);\\n                        return 'hiker://empty'\\n                    }, partpage)\\n                }\\n                refreshPage(false);\\n                return 'hiker://empty'\\n            })\\n        } else {\\n            let 列表 = findItemsByCls('playlist') || [];\\n            if (列表.length == 0) {\\n                return 'toast://未获取到列表'\\n            }\\n            deleteItemByCls('playlist');\\n            let list_col_type = input;\\n            列表.forEach(item => {\\n                item.col_type = list_col_type.replace(\\\"_left\\\", \\\"\\\");\\n                if (list_col_type.indexOf(\\\"_left\\\") > -1) {\\n                    item.extra.textAlign = 'left';\\n                } else {\\n                    delete item.extra.textAlign;\\n                }\\n            })\\n            addItemBefore(getMyVar('二级加载扩展列表') ? \\\"extendlist\\\" : getMyVar('换源变更列表id') ? \\\"Julistloading2\\\" : \\\"Julistloading\\\", 列表);\\n            setItem('SrcJuList_col_type', input);\\n            return 'hiker://empty'\\n        }\\n    }),\\n    col_type: line_col_type,\\n    extra: {\\n        cls: \\\"Juloadlist\\\",\\n        longClick: [{\\n            title: \\\"修正选集标题：\\\" + (reviseLiTitle == \\\"1\\\" ? \\\"是\\\" : \\\"否\\\"),\\n            js: $.toString(() => {\\n                let sm;\\n                if (getItem('reviseLiTitle', '0') == \\\"1\\\") {\\n                    clearItem('reviseLiTitle');\\n                    sm = \\\"取消修正选集标题名称\\\";\\n                } else {\\n                    setItem('reviseLiTitle', '1');\\n                    sm = \\\"统一修正选集标题名称\\\";\\n                }\\n                refreshPage(false);\\n                return \\\"toast://\\\" + sm;\\n            })\\n        }, {\\n            title: \\\"显示扩展项：\\\" + (getItem('extenditems', '1') == \\\"1\\\" ? \\\"是\\\" : \\\"否\\\"),\\n            js: $.toString(() => {\\n                let sm;\\n                if (getItem('extenditems', '1') == \\\"1\\\") {\\n                    setItem('extenditems', '0');\\n                    sm = \\\"取消显示二级扩展项\\\";\\n                } else {\\n                    clearItem('extenditems');\\n                    sm = \\\"显示二级扩展项\\\";\\n                }\\n                refreshPage(false);\\n                return \\\"toast://\\\" + sm;\\n            })\\n        }, {\\n            title: \\\"线路样式：\\\" + getItem('SrcJuLine_col_type', 'scroll_button'),\\n            js: $.toString(() => {\\n                let sm;\\n                if (getItem('SrcJuLine_col_type', 'scroll_button') == \\\"flex_button\\\") {\\n                    clearItem('SrcJuLine_col_type');\\n                    sm = \\\"线路样式已切换为scroll_button\\\";\\n                } else {\\n                    setItem('SrcJuLine_col_type', 'flex_button');\\n                    sm = \\\"线路样式已切换为flex_button\\\";\\n                }\\n                refreshPage(false);\\n                return \\\"toast://\\\" + sm;\\n            })\\n        }]\\n    }\\n})\\n\\nif (线路s.length > 0 && 线路s[0] != \\\"线路\\\") {\\n    线路s.forEach((it, i) => {\\n        d.push({\\n            title: lineid == i ? `““””<b><span style=\\\"color: #04B45F\\\">` + it + `</span></b>` : it,\\n            url: $(\\\"#noLoading#\\\").lazyRule((lineurl, nowid, newid) => {\\n                if (nowid != newid) {\\n                    putMyVar(lineurl, newid);\\n                    refreshPage(false);\\n                }\\n                return 'hiker://empty'\\n            }, \\\"SrcJu_\\\" + surl + \\\"_line\\\", lineid, i),\\n            col_type: line_col_type,\\n            extra: {\\n                cls: \\\"Juloadlist\\\"\\n            }\\n        })\\n    })\\n}\\n//分页定义\\nlet partpage = storage0.getItem('partpage') || {};\\nif (details.page && details.pageparse) { //原网站有分页，不执行自定义分页\\n    let 分页s = details.page\\n    let 分页链接 = [];\\n    let 分页名 = [];\\n    分页s.forEach((it, i) => {\\n        分页链接.push($(\\\"#noLoading#\\\").lazyRule((pageurl, nowid, newid) => {\\n            if (nowid != newid) {\\n                putMyVar(pageurl, newid);\\n                refreshPage(false);\\n            }\\n            return 'hiker://empty'\\n        }, \\\"SrcJu_\\\" + surl + \\\"_page\\\", pageid, i))\\n        分页名.push(pageid == i ? '““””<span style=\\\"color: #87CEFA\\\">' + it.title : it.title)\\n    })\\n    if (分页名.length > 0) {\\n        d.push({\\n            col_type: \\\"blank_block\\\",\\n            extra: {\\n                cls: \\\"Juloadlist\\\"\\n            }\\n        });\\n        d.push({\\n            title: pageid == 0 ? \\\"↪️尾页\\\" : \\\"⏮️上页\\\",\\n            url: pageid == 0 ? 分页链接[分页名.length - 1] : 分页链接[pageid - 1],\\n            col_type: 'text_4',\\n            extra: {\\n                cls: \\\"Juloadlist\\\"\\n            }\\n        })\\n        d.push({\\n            title: 分页名[pageid],\\n            url: $(分页名, 2).select((分页名, 分页链接) => {\\n                return 分页链接[分页名.indexOf(input)];\\n            }, 分页名, 分页链接),\\n            col_type: 'text_2',\\n            extra: {\\n                cls: \\\"Juloadlist\\\"\\n            }\\n        })\\n        d.push({\\n            title: pageid == 分页名.length - 1 ? \\\"首页↩️\\\" : \\\"下页⏭️\\\",\\n            url: pageid == 分页名.length - 1 ? 分页链接[0] : 分页链接[pageid + 1],\\n            col_type: 'text_4',\\n            extra: {\\n                cls: \\\"Juloadlist\\\"\\n            }\\n        })\\n    }\\n} else if (partpage.ispage) { //启用分页\\n    let 每页数量 = partpage.pagenum || 40; // 分页的每页数量       \\n    let 翻页阀值 = partpage.partnum || 100; // 分页的翻页阀值，超过多少才显示翻页\\n\\n    if (列表.length > 翻页阀值) {\\n        let 最大页数 = Math.ceil(列表.length / 每页数量);\\n        let 分页页码 = pageid + 1; //当前页数\\n        if (分页页码 > 最大页数) { //防止切换线路导致页数数组越界\\n            分页页码 = 最大页数;\\n        }\\n        let 分页链接 = [];\\n        let 分页名 = [];\\n\\n        function getNewArray(array, subGroupLength) {\\n            let index = 0;\\n            let newArray = [];\\n            while (index < array.length) {\\n                newArray.push(array.slice(index, index += subGroupLength));\\n            }\\n            return newArray;\\n        }\\n        let 分页s = getNewArray(列表, 每页数量); //按每页数据切割成小数组\\n\\n        分页s.forEach((it, i) => {\\n            分页链接.push($(\\\"#noLoading#\\\").lazyRule((pageurl, nowid, newid) => {\\n                if (nowid != newid) {\\n                    putMyVar(pageurl, newid);\\n                    refreshPage(false);\\n                }\\n                return 'hiker://empty'\\n            }, \\\"SrcJu_\\\" + surl + \\\"_page\\\", pageid, i))\\n            let start = i * 每页数量 + 1;\\n            let end = i * 每页数量 + it.length;\\n            let title = start + ' - ' + end;\\n            分页名.push(pageid == i ? '““””<span style=\\\"color: #87CEFA\\\">' + title : title)\\n        })\\n        d.push({\\n            col_type: \\\"blank_block\\\",\\n            extra: {\\n                cls: \\\"Juloadlist\\\"\\n            }\\n        });\\n        d.push({\\n            title: 分页页码 == 1 ? \\\"↪️尾页\\\" : \\\"⏮️上页\\\",\\n            url: 分页页码 == 1 ? 分页链接[分页名.length - 1] : 分页链接[pageid - 1],\\n            col_type: 'text_4',\\n            extra: {\\n                cls: \\\"Juloadlist\\\"\\n            }\\n        })\\n        d.push({\\n            title: 分页名[pageid],\\n            url: $(分页名, 2).select((分页名, 分页链接) => {\\n                return 分页链接[分页名.indexOf(input)];\\n            }, 分页名, 分页链接),\\n            col_type: 'text_2',\\n            extra: {\\n                cls: \\\"Juloadlist\\\"\\n            }\\n        })\\n        d.push({\\n            title: 分页页码 == 分页名.length ? \\\"首页↩️\\\" : \\\"下页⏭️\\\",\\n            url: 分页页码 == 分页名.length ? 分页链接[0] : 分页链接[pageid + 1],\\n            col_type: 'text_4',\\n            extra: {\\n                cls: \\\"Juloadlist\\\"\\n            }\\n        })\\n        列表 = 分页s[pageid]; //取当前分页的选集列表\\n    }\\n}\\n\\nlet list_col_type = getItem('SrcJuList_col_type', 'text_2'); //列表样式\\nfor (let i = 0; i < 列表.length; i++) {\\n    let extra = Object.assign({}, details[\\\"extra\\\"] || {}); //二级返回数据中的extra设为默认\\n    try {\\n        extra = Object.assign(extra, 列表[i].extra || {}); //优先用选集的extra\\n    } catch (e) {}\\n\\n    extra.id = name + \\\"_选集_\\\" + (pageid ? pageid + \\\"_\\\" : \\\"\\\") + i;\\n    extra.cls = \\\"Juloadlist playlist\\\";\\n    if (stype == \\\"听书\\\" || stype == \\\"影视\\\" || stype == \\\"音乐\\\") {\\n        extra.jsLoadingInject = true;\\n        if (!extra.blockRules) {\\n            extra.blockRules = ['.m4a', '.mp3', '.gif', '.jpeg', '.jpg', '.ico', '.png', 'hm.baidu.com', '/ads/*.js', 'cnzz.com', '51.la'];\\n        }\\n    }\\n\\n    if (list_col_type.indexOf(\\\"_left\\\") > -1) {\\n        extra.textAlign = 'left';\\n    }\\n    if (stype == \\\"小说\\\" || details[\\\"rule\\\"] || details[\\\"novel\\\"] || 列表[i].rule) {\\n        extra.url = 列表[i].url;\\n        lazy = lazy.replace(\\\"@lazyRule=.\\\", ((stype == \\\"小说\\\" || details[\\\"novel\\\"]) ? \\\"#readTheme##autoPage#\\\" : \\\"#noRecordHistory#\\\") + \\\"@rule=\\\").replace(`input.split(\\\"##\\\")[1]`, `MY_PARAMS.url || \\\"\\\"`);\\n    }\\n    d.push({\\n        title: reviseLiTitle == \\\"1\\\" ? 列表[i].title.replace(name, '').replace(/‘|’|“|”|<[^>]+>| |-|_|第|集|话|章|\\\\</g, '').replace('（', '(').replace('）', ')') : 列表[i].title,\\n        url: 列表[i].url + lazy,\\n        desc: 列表[i].desc,\\n        img: 列表[i].img,\\n        col_type: 列表[i].col_type || list_col_type.replace(\\\"_left\\\", \\\"\\\"),\\n        extra: extra\\n    });\\n\\n}\\n\\nd.push({\\n    title: \\\"‘‘’’<small><font color=#f20c00>当前数据源：\\\" + sname + \\\"作者：\\\" + \\\"</font></small>\\\",\\n    url: 'hiker://empty',\\n    col_type: 'text_center_1',\\n    extra: {\\n        id: getMyVar('换源变更列表id') ? \\\"Julistloading2\\\" : \\\"Julistloading\\\",\\n        lineVisible: false\\n    }\\n});\"}]","proxy":"","icon":"https://s1.ax1x.com/2022/04/19/L0gPIK.png"},{"last_chapter_rule":"js:\nvar html = getResCode();\nvar url = pd(html, 'select&&option,-1&&value')\nvar title = pdfh(request(url,{}), '.play-list&&a,-1&&Text')\nsetResult(\"更新至: \" + title);","pageList":[{"col_type":"movie_3","name":"lazy","path":"lazy","rule":"var lazy = $('').lazyRule(() => {\n    var html = pd(request(input), 'iframe&&src');\n    var url = pdfh(request(html), 'head&&script,-1&&Html');\n    eval(url.match(/([\\s\\S]*?)function/)[1]);\n    var mp3 = eval(url.match(/mp3:('.*)/)[1]);\n    return mp3\n});"},{"col_type":"movie_3","name":"更新","path":"更新","rule":"if (getMyVar('qx', '1') != 0) {\n    var uplink = 'http://hiker.nokia.press/hikerule/rulelist.json?id=6878'\n    let newVersion;\n    let myVersion = MY_RULE.version == 0 ? 4 : MY_RULE.version;\n    try {\n        newVersion = JSON.parse(fetchCache(uplink, 24, {\n            timeout: 1000\n        })).version;\n        //   log(myVersion)\n    } catch (e) {\n        newVersion = myVersion;\n    }\n    let isUpdate = Number(newVersion) > Number(myVersion);\n    if (isUpdate) {\n        log('有新版本:' + newVersion + ',当前:' + myVersion);\n        confirm({\n            title: '更新提示',\n            content: '检测到你的规则版本小于服务器版本，是否立即更新？',\n            confirm: $.toString((uplink) => {\n                return `海阔视界首页频道规则￥home_rule_url￥${uplink}`\n            }, uplink),\n            cancel: $.toString(() => {\n                return putMyVar('qx', '0')\n            })\n        })\n    }\n}"}],"title":"麒麟听书🎧","author":"缘分","version":4,"type":"music","url":"https://m.70ts.com/fyAll/fypage.html","col_type":"movie_3","class_name":"玄幻武侠&综艺娱乐&人物传记&都市言情&评书相声&军事历史&儿童故事&网游竞技&恐怖灵异&职场有声&其他有声","class_url":"/yousheng/xuanhuan&/yousheng/yule&/yousheng/zhuanji&/yousheng/dushi&/yousheng/bjjt&/yousheng/junshi&/yousheng/ertong&/yousheng/jingji&/yousheng/lingyi&/yousheng/tongren&/yousheng/qita","area_name":"入库时间&最新更新&日点击&周点击&月点击&总点击&收藏数&推荐数&下载数","area_url":"/top/postdate&/top/lastupdate&/top/dayvisit&/top/weekvisit&/top/monthvisit&/top/allvisit&/top/marknum&/top/votenum&/top/downnum","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\n$.require(\"hiker://page/更新\")\ntry {\n    var list = pdfa(getResCode(), '.book-ol||.book-li||.list-ul&&li');\n    for (var j in list) {\n        d.push({\n            title: pdfh(list[j], '.list-name||h4&&Text'),\n            desc: pdfh(list[j], '.playCountText||.book-meta&&Text'),\n            pic_url: pd(list[j], '.lazy&&data-original') + '@Referer=',\n            url: pd(list[j], 'a&&href') + \"#immersiveTheme##autoCache#\"\n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\nvar res = {};\nvar d = [];\ntry {\n    var list = pdfa(getResCode(), '.book-ol&&li');\n    for (var j in list) {\n        d.push({\n            title: pdfh(list[j], 'h4&&Text'),\n            desc: pdfh(list[j], '.book-meta&&Text'),\n            pic_url: pd(list[j], '.lazy&&data-original') + '@Referer=',\n            url: pd(list[j], 'a&&href') + \"#immersiveTheme#\"+'#autoCache#'\n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);","search_url":"https://m.70ts.com/so/search.html?searchtype=name&searchword=**&page=fypage","group":"F听书","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\ntry {\nd.push({\n    title: pdfh(html, '.book-rand-a&&Text').substring(0, 18) +\n        '\\n' +\n        '\\n' +\n             pdfh(html,\n'.book-rand-a,2&&Text').substring(0, 18),\n    desc: pdfh(html, '.book-rand-a,3&&Text'),\n    img: pd(html, \n'.book&&img&&src') +'@Referer=',\n    url: MY_URL,\n    col_type: 'movie_1_vertical_pic_blur',extra: {gradient: true}\n});\n} catch (e) {\nd.push({\n    img: pd(html, \n'.book&&img&&src') +'@Referer=',\n    url: MY_URL,\n    col_type: 'movie_1_vertical_pic_blur',extra: {gradient: true}\n});\n}\nvar 简介 = pdfh(html, '.book-des&&Text')\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 +'#noHistory#' + `@rule=js: var d = [];d.push({title:'影片简介：'+ MY_URL.split('#')[1],col_type: 'long_text'}); setResult(d);`,\n    col_type: 'text_1'\n});\n eval(JSON.parse(fetch('hiker://page/lazy', {})).rule);\nvar name = MY_RULE.url.split(\"#\")[0];\nvar urls = getMyVar(name, MY_URL);\nlet htmls = request(urls,{headers: {\n            \"User-Agent\": MOBILE_UA\n        }});\nif (MY_PAGE == 1) {\nd.push({\n    title: \"样式🎨\",    \n    url: $([\"text_1\", \"text_2\", \"text_3\", \"text_4\", \"text_5\", \"text_center_1\", \"avatar\", \"text_icon\"], 2).select(() => {\n        setItem(\"col_type\", input)\n        refreshPage()\n        return \"toast://已切换\"\n    }),\n    col_type: \"flex_button\"\n})\n    let lists = pdfa(htmls, 'select&&option');\n    lists.forEach((item) => {\n        let title = pdfh(item, 'option&&Text');\n        let url = pd(item, 'option&&value');\n        d.push({\n            title: url == getMyVar(name, MY_URL.split(\"#\")[0]) ? '““'  + title +  '””' : title,\n            url: url + $('#noLoading#').lazyRule((name) => {\n                putMyVar(name, input);\n                refreshPage(false)\n                return 'toast://切换成功!'\n            }, name),\n            col_type: \"scroll_button\"\n        });\n    });\n}\nvar type = getItem(\"col_type\", \"text_4\")\nvar list = pdfa(htmls, '#playlist&&li');\n    for (var j in list) {\n        d.push({\n            title: pdfh(list[j], 'a--span&&Text'),  \n            desc: pdfh(list[j], 'span&&Text'),           \n            url: pd(list[j], 'a&&href') + lazy,\n            img: 'http://123.56.105.145/tubiao/movie/2.svg',\n            col_type: type\n        });\n    }\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"lazy\",\"path\":\"lazy\",\"rule\":\"var lazy = $('').lazyRule(() => {\\n    var html = pd(request(input), 'iframe&&src');\\n    var url = pdfh(request(html), 'head&&script,-1&&Html');\\n    eval(url.match(/([\\\\s\\\\S]*?)function/)[1]);\\n    var mp3 = eval(url.match(/mp3:('.*)/)[1]);\\n    return mp3\\n});\"},{\"col_type\":\"movie_3\",\"name\":\"更新\",\"path\":\"更新\",\"rule\":\"if (getMyVar('qx', '1') != 0) {\\n    var uplink = 'http://hiker.nokia.press/hikerule/rulelist.json?id=6878'\\n    let newVersion;\\n    let myVersion = MY_RULE.version == 0 ? 4 : MY_RULE.version;\\n    try {\\n        newVersion = JSON.parse(fetchCache(uplink, 24, {\\n            timeout: 1000\\n        })).version;\\n        //   log(myVersion)\\n    } catch (e) {\\n        newVersion = myVersion;\\n    }\\n    let isUpdate = Number(newVersion) > Number(myVersion);\\n    if (isUpdate) {\\n        log('有新版本:' + newVersion + ',当前:' + myVersion);\\n        confirm({\\n            title: '更新提示',\\n            content: '检测到你的规则版本小于服务器版本，是否立即更新？',\\n            confirm: $.toString((uplink) => {\\n                return `海阔视界首页频道规则￥home_rule_url￥${uplink}`\\n            }, uplink),\\n            cancel: $.toString(() => {\\n                return putMyVar('qx', '0')\\n            })\\n        })\\n    }\\n}\"}]","proxy":"","icon":"https://m.70ts.com/favicon.ico"}]